javascript:(function(){!function(e%2Ct%2Cr)%7B%22use%20strict%22%3Bfunction%20n(e)%7Bvar%20t%3DObject.create(null)%3Breturn%20e%26%26Object.keys(e).forEach((function(r)%7Bif(%22default%22!%3D%3Dr)%7Bvar%20n%3DObject.getOwnPropertyDescriptor(e%2Cr)%3BObject.defineProperty(t%2Cr%2Cn.get%3Fn%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20e%5Br%5D%7D%7D)%7D%7D))%2Ct.default%3De%2CObject.freeze(t)%7Dvar%20s%3Dn(r)%3Bfunction%20i()%7Breturn%22undefined%22%3D%3Dtypeof%20unsafeWindow%3Fwindow%3AunsafeWindow%7Dfunction%20o(e%2Ct%2Cr)%7Bfor(var%20n%3D0%2Cs%3D0%2Ci%3Dr.length%3Bs%3Ci%3Bs%2B%2B)(n%3Dr.charCodeAt(s))%3C128%3Fe.setUint8(t%2B%2B%2Cn)%3A(n%3C2048%3Fe.setUint8(t%2B%2B%2C192%7Cn%3E%3E6)%3A(n%3C55296%7C%7C57344%3C%3Dn%3Fe.setUint8(t%2B%2B%2C224%7Cn%3E%3E12)%3A(s%2B%2B%2Cn%3D65536%2B((1023%26n)%3C%3C10%7C1023%26r.charCodeAt(s))%2Ce.setUint8(t%2B%2B%2C240%7Cn%3E%3E18)%2Ce.setUint8(t%2B%2B%2C128%7Cn%3E%3E12%2663))%2Ce.setUint8(t%2B%2B%2C128%7Cn%3E%3E6%2663))%2Ce.setUint8(t%2B%2B%2C128%7C63%26n))%7Dvar%20a%3D%7Bencode%3Afunction(e%2Ct%2Cr)%7Blet%20n%3Breturn%20n%3DArray.isArray(e)%3F%7Btype%3A2%2Cdata%3Ae%2Coptions%3A%7Bcompress%3A!0%7D%2Cnsp%3A%22%2F%22%7D%3A%7Btype%3A2%2Cdata%3A%5B%22blueboat_SEND_MESSAGE%22%2C%7Broom%3Ar%2Ckey%3Ae%2Cdata%3At%7D%5D%2Coptions%3A%7Bcompress%3A!0%7D%2Cnsp%3A%22%2F%22%7D%2Cfunction(e)%7Bvar%20t%3D%5B%5D%2Cr%3D%5B%5D%2Cn%3Dfunction%20e(t%2Cr%2Cn)%7Bvar%20s%3Dtypeof%20n%2Ci%3D0%2Co%3D0%2Ca%3D0%2Cc%3D0%2Ch%3D0%2Cl%3D0%3Bif(%22string%22%3D%3D%3Ds)%7Bif((h%3Dfunction(e)%7Bfor(var%20t%3D0%2Cr%3D0%2Cn%3D0%2Cs%3De.length%3Bn%3Cs%3Bn%2B%2B)(t%3De.charCodeAt(n))%3C128%3Fr%2B%3D1%3At%3C2048%3Fr%2B%3D2%3At%3C55296%7C%7C57344%3C%3Dt%3Fr%2B%3D3%3A(n%2B%2B%2Cr%2B%3D4)%3Breturn%20r%7D(n))%3C32)t.push(160%7Ch)%2Cl%3D1%3Belse%20if(h%3C256)t.push(217%2Ch)%2Cl%3D2%3Belse%20if(h%3C65536)t.push(218%2Ch%3E%3E8%2Ch)%2Cl%3D3%3Belse%7Bif(!(h%3C4294967296))throw%20new%20Error(%22String%20too%20long%22)%3Bt.push(219%2Ch%3E%3E24%2Ch%3E%3E16%2Ch%3E%3E8%2Ch)%2Cl%3D5%7Dreturn%20r.push(%7Bh%3An%2Cu%3Ah%2Ct%3At.length%7D)%2Cl%2Bh%7Dif(%22number%22%3D%3D%3Ds)return%20Math.floor(n)%3D%3D%3Dn%26%26isFinite(n)%3F0%3C%3Dn%3Fn%3C128%3F(t.push(n)%2C1)%3An%3C256%3F(t.push(204%2Cn)%2C2)%3An%3C65536%3F(t.push(205%2Cn%3E%3E8%2Cn)%2C3)%3An%3C4294967296%3F(t.push(206%2Cn%3E%3E24%2Cn%3E%3E16%2Cn%3E%3E8%2Cn)%2C5)%3A(a%3Dn%2FMath.pow(2%2C32)%7C0%2Cc%3Dn%3E%3E%3E0%2Ct.push(207%2Ca%3E%3E24%2Ca%3E%3E16%2Ca%3E%3E8%2Ca%2Cc%3E%3E24%2Cc%3E%3E16%2Cc%3E%3E8%2Cc)%2C9)%3A-32%3C%3Dn%3F(t.push(n)%2C1)%3A-128%3C%3Dn%3F(t.push(208%2Cn)%2C2)%3A-32768%3C%3Dn%3F(t.push(209%2Cn%3E%3E8%2Cn)%2C3)%3A-2147483648%3C%3Dn%3F(t.push(210%2Cn%3E%3E24%2Cn%3E%3E16%2Cn%3E%3E8%2Cn)%2C5)%3A(a%3DMath.floor(n%2FMath.pow(2%2C32))%2Cc%3Dn%3E%3E%3E0%2Ct.push(211%2Ca%3E%3E24%2Ca%3E%3E16%2Ca%3E%3E8%2Ca%2Cc%3E%3E24%2Cc%3E%3E16%2Cc%3E%3E8%2Cc)%2C9)%3A(t.push(203)%2Cr.push(%7Bo%3An%2Cu%3A8%2Ct%3At.length%7D)%2C9)%3Bif(%22object%22%3D%3D%3Ds)%7Bif(null%3D%3D%3Dn)return%20t.push(192)%2C1%3Bif(Array.isArray(n))%7Bif((h%3Dn.length)%3C16)t.push(144%7Ch)%2Cl%3D1%3Belse%20if(h%3C65536)t.push(220%2Ch%3E%3E8%2Ch)%2Cl%3D3%3Belse%7Bif(!(h%3C4294967296))throw%20new%20Error(%22Array%20too%20large%22)%3Bt.push(221%2Ch%3E%3E24%2Ch%3E%3E16%2Ch%3E%3E8%2Ch)%2Cl%3D5%7Dfor(i%3D0%3Bi%3Ch%3Bi%2B%2B)l%2B%3De(t%2Cr%2Cn%5Bi%5D)%3Breturn%20l%7Dif(n%20instanceof%20Date)%7Bvar%20u%3Dn.getTime()%3Breturn%20a%3DMath.floor(u%2FMath.pow(2%2C32))%2Cc%3Du%3E%3E%3E0%2Ct.push(215%2C0%2Ca%3E%3E24%2Ca%3E%3E16%2Ca%3E%3E8%2Ca%2Cc%3E%3E24%2Cc%3E%3E16%2Cc%3E%3E8%2Cc)%2C10%7Dif(n%20instanceof%20ArrayBuffer)%7Bif((h%3Dn.byteLength)%3C256)t.push(196%2Ch)%2Cl%3D2%3Belse%20if(h%3C65536)t.push(197%2Ch%3E%3E8%2Ch)%2Cl%3D3%3Belse%7Bif(!(h%3C4294967296))throw%20new%20Error(%22Buffer%20too%20large%22)%3Bt.push(198%2Ch%3E%3E24%2Ch%3E%3E16%2Ch%3E%3E8%2Ch)%2Cl%3D5%7Dreturn%20r.push(%7Bl%3An%2Cu%3Ah%2Ct%3At.length%7D)%2Cl%2Bh%7Dif(%22function%22%3D%3Dtypeof%20n.toJSON)return%20e(t%2Cr%2Cn.toJSON())%3Bvar%20f%3D%5B%5D%2Cd%3D%22%22%2Cp%3DObject.keys(n)%3Bfor(i%3D0%2Co%3Dp.length%3Bi%3Co%3Bi%2B%2B)%22function%22!%3Dtypeof%20n%5Bd%3Dp%5Bi%5D%5D%26%26f.push(d)%3Bif((h%3Df.length)%3C16)t.push(128%7Ch)%2Cl%3D1%3Belse%20if(h%3C65536)t.push(222%2Ch%3E%3E8%2Ch)%2Cl%3D3%3Belse%7Bif(!(h%3C4294967296))throw%20new%20Error(%22Object%20too%20large%22)%3Bt.push(223%2Ch%3E%3E24%2Ch%3E%3E16%2Ch%3E%3E8%2Ch)%2Cl%3D5%7Dfor(i%3D0%3Bi%3Ch%3Bi%2B%2B)l%2B%3De(t%2Cr%2Cd%3Df%5Bi%5D)%2Cl%2B%3De(t%2Cr%2Cn%5Bd%5D)%3Breturn%20l%7Dif(%22boolean%22%3D%3D%3Ds)return%20t.push(n%3F195%3A194)%2C1%3Bif(%22undefined%22%3D%3D%3Ds)return%20t.push(212%2C0%2C0)%2C3%3Bthrow%20new%20Error(%22Could%20not%20encode%22)%7D(t%2Cr%2Ce)%2Cs%3Dnew%20ArrayBuffer(n)%2Ci%3Dnew%20DataView(s)%2Ca%3D0%2Cc%3D0%2Ch%3D-1%3B0%3Cr.length%26%26(h%3Dr%5B0%5D.t)%3Bfor(var%20l%2Cu%3D0%2Cf%3D0%2Cd%3D0%2Cp%3Dt.length%3Bd%3Cp%3Bd%2B%2B)if(i.setUint8(c%2Bd%2Ct%5Bd%5D)%2Cd%2B1%3D%3D%3Dh)%7Bif(u%3D(l%3Dr%5Ba%5D).u%2Cf%3Dc%2Bh%2Cl.l)for(var%20g%3Dnew%20Uint8Array(l.l)%2Cy%3D0%3By%3Cu%3By%2B%2B)i.setUint8(f%2By%2Cg%5By%5D)%3Belse%20l.h%3Fo(i%2Cf%2Cl.h)%3Avoid%200!%3D%3Dl.o%26%26i.setFloat64(f%2Cl.o)%3Bc%2B%3Du%2Cr%5B%2B%2Ba%5D%26%26(h%3Dr%5Ba%5D.t)%7Dlet%20m%3DArray.from(new%20Uint8Array(s))%3Breturn%20m.unshift(4)%2Cnew%20Uint8Array(m).buffer%7D(n)%7D%2Cdecode%3Afunction(e)%7Bfunction%20t(e)%7Bif(this.t%3D0%2Ce%20instanceof%20ArrayBuffer)this.i%3De%2Cthis.s%3Dnew%20DataView(this.i)%3Belse%7Bif(!ArrayBuffer.isView(e))return%20null%3Bthis.i%3De.buffer%2Cthis.s%3Dnew%20DataView(this.i%2Ce.byteOffset%2Ce.byteLength)%7D%7Dt.prototype.g%3Dfunction(e)%7Bfor(var%20t%3Dnew%20Array(e)%2Cr%3D0%3Br%3Ce%3Br%2B%2B)t%5Br%5D%3Dthis.v()%3Breturn%20t%7D%2Ct.prototype.M%3Dfunction(e)%7Bfor(var%20t%3D%7B%7D%2Cr%3D0%3Br%3Ce%3Br%2B%2B)t%5Bthis.v()%5D%3Dthis.v()%3Breturn%20t%7D%2Ct.prototype.h%3Dfunction(e)%7Bvar%20t%3Dfunction(e%2Ct%2Cr)%7Bfor(var%20n%3D%22%22%2Cs%3D0%2Ci%3Dt%2Co%3Dt%2Br%3Bi%3Co%3Bi%2B%2B)%7Bvar%20a%3De.getUint8(i)%3Bif(128%26a)if(192!%3D(224%26a))if(224!%3D(240%26a))%7Bif(240!%3D(248%26a))throw%20new%20Error(%22Invalid%20byte%20%22%2Ba.toString(16))%3B65536%3C%3D(s%3D(7%26a)%3C%3C18%7C(63%26e.getUint8(%2B%2Bi))%3C%3C12%7C(63%26e.getUint8(%2B%2Bi))%3C%3C6%7C63%26e.getUint8(%2B%2Bi))%3F(s-%3D65536%2Cn%2B%3DString.fromCharCode(55296%2B(s%3E%3E%3E10)%2C56320%2B(1023%26s)))%3An%2B%3DString.fromCharCode(s)%7Delse%20n%2B%3DString.fromCharCode((15%26a)%3C%3C12%7C(63%26e.getUint8(%2B%2Bi))%3C%3C6%7C63%26e.getUint8(%2B%2Bi))%3Belse%20n%2B%3DString.fromCharCode((31%26a)%3C%3C6%7C63%26e.getUint8(%2B%2Bi))%3Belse%20n%2B%3DString.fromCharCode(a)%7Dreturn%20n%7D(this.s%2Cthis.t%2Ce)%3Breturn%20this.t%2B%3De%2Ct%7D%2Ct.prototype.l%3Dfunction(e)%7Bvar%20t%3Dthis.i.slice(this.t%2Cthis.t%2Be)%3Breturn%20this.t%2B%3De%2Ct%7D%2Ct.prototype.v%3Dfunction()%7Bif(!this.s)return%20null%3Bvar%20e%2Ct%3Dthis.s.getUint8(this.t%2B%2B)%2Cr%3D0%2Cn%3D0%2Cs%3D0%2Ci%3D0%3Bif(t%3C192)return%20t%3C128%3Ft%3At%3C144%3Fthis.M(15%26t)%3At%3C160%3Fthis.g(15%26t)%3Athis.h(31%26t)%3Bif(223%3Ct)return-1*(255-t%2B1)%3Bswitch(t)%7Bcase%20192%3Areturn%20null%3Bcase%20194%3Areturn!1%3Bcase%20195%3Areturn!0%3Bcase%20196%3Areturn%20r%3Dthis.s.getUint8(this.t)%2Cthis.t%2B%3D1%2Cthis.l(r)%3Bcase%20197%3Areturn%20r%3Dthis.s.getUint16(this.t)%2Cthis.t%2B%3D2%2Cthis.l(r)%3Bcase%20198%3Areturn%20r%3Dthis.s.getUint32(this.t)%2Cthis.t%2B%3D4%2Cthis.l(r)%3Bcase%20199%3Areturn%20r%3Dthis.s.getUint8(this.t)%2Cn%3Dthis.s.getInt8(this.t%2B1)%2Cthis.t%2B%3D2%2C%5Bn%2Cthis.l(r)%5D%3Bcase%20200%3Areturn%20r%3Dthis.s.getUint16(this.t)%2Cn%3Dthis.s.getInt8(this.t%2B2)%2Cthis.t%2B%3D3%2C%5Bn%2Cthis.l(r)%5D%3Bcase%20201%3Areturn%20r%3Dthis.s.getUint32(this.t)%2Cn%3Dthis.s.getInt8(this.t%2B4)%2Cthis.t%2B%3D5%2C%5Bn%2Cthis.l(r)%5D%3Bcase%20202%3Areturn%20e%3Dthis.s.getFloat32(this.t)%2Cthis.t%2B%3D4%2Ce%3Bcase%20203%3Areturn%20e%3Dthis.s.getFloat64(this.t)%2Cthis.t%2B%3D8%2Ce%3Bcase%20204%3Areturn%20e%3Dthis.s.getUint8(this.t)%2Cthis.t%2B%3D1%2Ce%3Bcase%20205%3Areturn%20e%3Dthis.s.getUint16(this.t)%2Cthis.t%2B%3D2%2Ce%3Bcase%20206%3Areturn%20e%3Dthis.s.getUint32(this.t)%2Cthis.t%2B%3D4%2Ce%3Bcase%20207%3Areturn%20s%3Dthis.s.getUint32(this.t)*Math.pow(2%2C32)%2Ci%3Dthis.s.getUint32(this.t%2B4)%2Cthis.t%2B%3D8%2Cs%2Bi%3Bcase%20208%3Areturn%20e%3Dthis.s.getInt8(this.t)%2Cthis.t%2B%3D1%2Ce%3Bcase%20209%3Areturn%20e%3Dthis.s.getInt16(this.t)%2Cthis.t%2B%3D2%2Ce%3Bcase%20210%3Areturn%20e%3Dthis.s.getInt32(this.t)%2Cthis.t%2B%3D4%2Ce%3Bcase%20211%3Areturn%20s%3Dthis.s.getInt32(this.t)*Math.pow(2%2C32)%2Ci%3Dthis.s.getUint32(this.t%2B4)%2Cthis.t%2B%3D8%2Cs%2Bi%3Bcase%20212%3Areturn%20n%3Dthis.s.getInt8(this.t)%2Cthis.t%2B%3D1%2C0%3D%3D%3Dn%3Fvoid(this.t%2B%3D1)%3A%5Bn%2Cthis.l(1)%5D%3Bcase%20213%3Areturn%20n%3Dthis.s.getInt8(this.t)%2Cthis.t%2B%3D1%2C%5Bn%2Cthis.l(2)%5D%3Bcase%20214%3Areturn%20n%3Dthis.s.getInt8(this.t)%2Cthis.t%2B%3D1%2C%5Bn%2Cthis.l(4)%5D%3Bcase%20215%3Areturn%20n%3Dthis.s.getInt8(this.t)%2Cthis.t%2B%3D1%2C0%3D%3D%3Dn%3F(s%3Dthis.s.getInt32(this.t)*Math.pow(2%2C32)%2Ci%3Dthis.s.getUint32(this.t%2B4)%2Cthis.t%2B%3D8%2Cnew%20Date(s%2Bi))%3A%5Bn%2Cthis.l(8)%5D%3Bcase%20216%3Areturn%20n%3Dthis.s.getInt8(this.t)%2Cthis.t%2B%3D1%2C%5Bn%2Cthis.l(16)%5D%3Bcase%20217%3Areturn%20r%3Dthis.s.getUint8(this.t)%2Cthis.t%2B%3D1%2Cthis.h(r)%3Bcase%20218%3Areturn%20r%3Dthis.s.getUint16(this.t)%2Cthis.t%2B%3D2%2Cthis.h(r)%3Bcase%20219%3Areturn%20r%3Dthis.s.getUint32(this.t)%2Cthis.t%2B%3D4%2Cthis.h(r)%3Bcase%20220%3Areturn%20r%3Dthis.s.getUint16(this.t)%2Cthis.t%2B%3D2%2Cthis.g(r)%3Bcase%20221%3Areturn%20r%3Dthis.s.getUint32(this.t)%2Cthis.t%2B%3D4%2Cthis.g(r)%3Bcase%20222%3Areturn%20r%3Dthis.s.getUint16(this.t)%2Cthis.t%2B%3D2%2Cthis.M(r)%3Bcase%20223%3Areturn%20r%3Dthis.s.getUint32(this.t)%2Cthis.t%2B%3D4%2Cthis.M(r)%7Dthrow%20new%20Error(%22Could%20not%20parse%22)%7D%3Bconst%20r%3Dfunction(e)%7Bvar%20r%3Dnew%20t(e%3De.slice(1))%2Cn%3Dr.v()%3Breturn%20r.t%3D%3D%3De.byteLength%3Fn%3Anull%7D(e)%3Breturn%20r%3F.data%3F.%5B1%5D%7D%7D%3Bconst%20c%3Dnew%20TextEncoder%3Bfunction%20h(e%2Ct%2Cr)%7Be.length%3E50%3Ffunction(e%2Ct%2Cr)%7Bc.encodeInto(e%2Ct.subarray(r))%7D(e%2Ct%2Cr)%3Afunction(e%2Ct%2Cr)%7Bconst%20n%3De.length%3Blet%20s%3Dr%2Ci%3D0%3Bfor(%3Bi%3Cn%3B)%7Blet%20r%3De.charCodeAt(i%2B%2B)%3Bif(4294967168%26r)%7Bif(4294965248%26r)%7Bif(r%3E%3D55296%26%26r%3C%3D56319%26%26i%3Cn)%7Bconst%20t%3De.charCodeAt(i)%3B56320%3D%3D(64512%26t)%26%26(%2B%2Bi%2Cr%3D((1023%26r)%3C%3C10)%2B(1023%26t)%2B65536)%7D4294901760%26r%3F(t%5Bs%2B%2B%5D%3Dr%3E%3E18%267%7C240%2Ct%5Bs%2B%2B%5D%3Dr%3E%3E12%2663%7C128%2Ct%5Bs%2B%2B%5D%3Dr%3E%3E6%2663%7C128)%3A(t%5Bs%2B%2B%5D%3Dr%3E%3E12%2615%7C224%2Ct%5Bs%2B%2B%5D%3Dr%3E%3E6%2663%7C128)%7Delse%20t%5Bs%2B%2B%5D%3Dr%3E%3E6%2631%7C192%3Bt%5Bs%2B%2B%5D%3D63%26r%7C128%7Delse%20t%5Bs%2B%2B%5D%3Dr%7D%7D(e%2Ct%2Cr)%7Dnew%20TextDecoder%3Bclass%20l%7Bconstructor(e%2Ct)%7Bthis.type%3De%2Cthis.data%3Dt%7D%7Dclass%20u%20extends%20Error%7Bconstructor(e)%7Bsuper(e)%3Bconst%20t%3DObject.create(u.prototype)%3BObject.setPrototypeOf(this%2Ct)%2CObject.defineProperty(this%2C%22name%22%2C%7Bconfigurable%3A!0%2Cenumerable%3A!1%2Cvalue%3Au.name%7D)%7D%7Dfunction%20f(e%2Ct%2Cr)%7Bconst%20n%3DMath.floor(r%2F4294967296)%2Cs%3Dr%3Be.setUint32(t%2Cn)%2Ce.setUint32(t%2B4%2Cs)%7Dconst%20d%3D%7Btype%3A-1%2Cencode%3Afunction(e)%7Bif(e%20instanceof%20Date)%7Breturn%20function(%7Bsec%3Ae%2Cnsec%3At%7D)%7Bif(e%3E%3D0%26%26t%3E%3D0%26%26e%3C%3D17179869183)%7Bif(0%3D%3D%3Dt%26%26e%3C%3D4294967295)%7Bconst%20t%3Dnew%20Uint8Array(4)%3Breturn%20new%20DataView(t.buffer).setUint32(0%2Ce)%2Ct%7D%7Bconst%20r%3De%2F4294967296%2Cn%3D4294967295%26e%2Cs%3Dnew%20Uint8Array(8)%2Ci%3Dnew%20DataView(s.buffer)%3Breturn%20i.setUint32(0%2Ct%3C%3C2%7C3%26r)%2Ci.setUint32(4%2Cn)%2Cs%7D%7D%7Bconst%20r%3Dnew%20Uint8Array(12)%2Cn%3Dnew%20DataView(r.buffer)%3Breturn%20n.setUint32(0%2Ct)%2Cf(n%2C4%2Ce)%2Cr%7D%7D(function(e)%7Bconst%20t%3De.getTime()%2Cr%3DMath.floor(t%2F1e3)%2Cn%3D1e6*(t-1e3*r)%2Cs%3DMath.floor(n%2F1e9)%3Breturn%7Bsec%3Ar%2Bs%2Cnsec%3An-1e9*s%7D%7D(e))%7Dreturn%20null%7D%2Cdecode%3Afunction(e)%7Bconst%20t%3Dfunction(e)%7Bconst%20t%3Dnew%20DataView(e.buffer%2Ce.byteOffset%2Ce.byteLength)%3Bswitch(e.byteLength)%7Bcase%204%3Areturn%7Bsec%3At.getUint32(0)%2Cnsec%3A0%7D%3Bcase%208%3A%7Bconst%20e%3Dt.getUint32(0)%3Breturn%7Bsec%3A4294967296*(3%26e)%2Bt.getUint32(4)%2Cnsec%3Ae%3E%3E%3E2%7D%7Dcase%2012%3A%7Bconst%20e%3Dfunction(e%2Ct)%7Breturn%204294967296*e.getInt32(t)%2Be.getUint32(t%2B4)%7D(t%2C4)%3Breturn%7Bsec%3Ae%2Cnsec%3At.getUint32(0)%7D%7Ddefault%3Athrow%20new%20u(%60Unrecognized%20data%20size%20for%20timestamp%20(expected%204%2C%208%2C%20or%2012)%3A%20%24%7Be.length%7D%60)%7D%7D(e)%3Breturn%20new%20Date(1e3*t.sec%2Bt.nsec%2F1e6)%7D%7D%3Bclass%20p%7Bconstructor()%7Bthis.builtInEncoders%3D%5B%5D%2Cthis.builtInDecoders%3D%5B%5D%2Cthis.encoders%3D%5B%5D%2Cthis.decoders%3D%5B%5D%2Cthis.register(d)%7Dregister(%7Btype%3Ae%2Cencode%3At%2Cdecode%3Ar%7D)%7Bif(e%3E%3D0)this.encoders%5Be%5D%3Dt%2Cthis.decoders%5Be%5D%3Dr%3Belse%7Bconst%20n%3D-1-e%3Bthis.builtInEncoders%5Bn%5D%3Dt%2Cthis.builtInDecoders%5Bn%5D%3Dr%7D%7DtryToEncode(e%2Ct)%7Bfor(let%20r%3D0%3Br%3Cthis.builtInEncoders.length%3Br%2B%2B)%7Bconst%20n%3Dthis.builtInEncoders%5Br%5D%3Bif(null!%3Dn)%7Bconst%20s%3Dn(e%2Ct)%3Bif(null!%3Ds)%7Breturn%20new%20l(-1-r%2Cs)%7D%7D%7Dfor(let%20r%3D0%3Br%3Cthis.encoders.length%3Br%2B%2B)%7Bconst%20n%3Dthis.encoders%5Br%5D%3Bif(null!%3Dn)%7Bconst%20s%3Dn(e%2Ct)%3Bif(null!%3Ds)%7Breturn%20new%20l(r%2Cs)%7D%7D%7Dreturn%20e%20instanceof%20l%3Fe%3Anull%7Ddecode(e%2Ct%2Cr)%7Bconst%20n%3Dt%3C0%3Fthis.builtInDecoders%5B-1-t%5D%3Athis.decoders%5Bt%5D%3Breturn%20n%3Fn(e%2Ct%2Cr)%3Anew%20l(t%2Ce)%7D%7Dfunction%20g(e)%7Breturn%20e%20instanceof%20Uint8Array%3Fe%3AArrayBuffer.isView(e)%3Fnew%20Uint8Array(e.buffer%2Ce.byteOffset%2Ce.byteLength)%3Afunction(e)%7Breturn%20e%20instanceof%20ArrayBuffer%7C%7C%22undefined%22!%3Dtypeof%20SharedArrayBuffer%26%26e%20instanceof%20SharedArrayBuffer%7D(e)%3Fnew%20Uint8Array(e)%3AUint8Array.from(e)%7Dp.defaultCodec%3Dnew%20p%3Blet%20y%3Dclass%20e%7Bconstructor(e)%7Bthis.entered%3D!1%2Cthis.extensionCodec%3De%3F.extensionCodec%3F%3Fp.defaultCodec%2Cthis.context%3De%3F.context%2Cthis.useBigInt64%3De%3F.useBigInt64%3F%3F!1%2Cthis.maxDepth%3De%3F.maxDepth%3F%3F100%2Cthis.initialBufferSize%3De%3F.initialBufferSize%3F%3F2048%2Cthis.sortKeys%3De%3F.sortKeys%3F%3F!1%2Cthis.forceFloat32%3De%3F.forceFloat32%3F%3F!1%2Cthis.ignoreUndefined%3De%3F.ignoreUndefined%3F%3F!1%2Cthis.forceIntegerToFloat%3De%3F.forceIntegerToFloat%3F%3F!1%2Cthis.pos%3D0%2Cthis.view%3Dnew%20DataView(new%20ArrayBuffer(this.initialBufferSize))%2Cthis.bytes%3Dnew%20Uint8Array(this.view.buffer)%7Dclone()%7Breturn%20new%20e(%7BextensionCodec%3Athis.extensionCodec%2Ccontext%3Athis.context%2CuseBigInt64%3Athis.useBigInt64%2CmaxDepth%3Athis.maxDepth%2CinitialBufferSize%3Athis.initialBufferSize%2CsortKeys%3Athis.sortKeys%2CforceFloat32%3Athis.forceFloat32%2CignoreUndefined%3Athis.ignoreUndefined%2CforceIntegerToFloat%3Athis.forceIntegerToFloat%7D)%7DreinitializeState()%7Bthis.pos%3D0%7DencodeSharedRef(e)%7Bif(this.entered)%7Breturn%20this.clone().encodeSharedRef(e)%7Dtry%7Breturn%20this.entered%3D!0%2Cthis.reinitializeState()%2Cthis.doEncode(e%2C1)%2Cthis.bytes.subarray(0%2Cthis.pos)%7Dfinally%7Bthis.entered%3D!1%7D%7Dencode(e)%7Bif(this.entered)%7Breturn%20this.clone().encode(e)%7Dtry%7Breturn%20this.entered%3D!0%2Cthis.reinitializeState()%2Cthis.doEncode(e%2C1)%2Cthis.bytes.slice(0%2Cthis.pos)%7Dfinally%7Bthis.entered%3D!1%7D%7DdoEncode(e%2Ct)%7Bif(t%3Ethis.maxDepth)throw%20new%20Error(%60Too%20deep%20objects%20in%20depth%20%24%7Bt%7D%60)%3Bnull%3D%3De%3Fthis.encodeNil()%3A%22boolean%22%3D%3Dtypeof%20e%3Fthis.encodeBoolean(e)%3A%22number%22%3D%3Dtypeof%20e%3Fthis.forceIntegerToFloat%3Fthis.encodeNumberAsFloat(e)%3Athis.encodeNumber(e)%3A%22string%22%3D%3Dtypeof%20e%3Fthis.encodeString(e)%3Athis.useBigInt64%26%26%22bigint%22%3D%3Dtypeof%20e%3Fthis.encodeBigInt64(e)%3Athis.encodeObject(e%2Ct)%7DensureBufferSizeToWrite(e)%7Bconst%20t%3Dthis.pos%2Be%3Bthis.view.byteLength%3Ct%26%26this.resizeBuffer(2*t)%7DresizeBuffer(e)%7Bconst%20t%3Dnew%20ArrayBuffer(e)%2Cr%3Dnew%20Uint8Array(t)%2Cn%3Dnew%20DataView(t)%3Br.set(this.bytes)%2Cthis.view%3Dn%2Cthis.bytes%3Dr%7DencodeNil()%7Bthis.writeU8(192)%7DencodeBoolean(e)%7B!1%3D%3D%3De%3Fthis.writeU8(194)%3Athis.writeU8(195)%7DencodeNumber(e)%7B!this.forceIntegerToFloat%26%26Number.isSafeInteger(e)%3Fe%3E%3D0%3Fe%3C128%3Fthis.writeU8(e)%3Ae%3C256%3F(this.writeU8(204)%2Cthis.writeU8(e))%3Ae%3C65536%3F(this.writeU8(205)%2Cthis.writeU16(e))%3Ae%3C4294967296%3F(this.writeU8(206)%2Cthis.writeU32(e))%3Athis.useBigInt64%3Fthis.encodeNumberAsFloat(e)%3A(this.writeU8(207)%2Cthis.writeU64(e))%3Ae%3E%3D-32%3Fthis.writeU8(224%7Ce%2B32)%3Ae%3E%3D-128%3F(this.writeU8(208)%2Cthis.writeI8(e))%3Ae%3E%3D-32768%3F(this.writeU8(209)%2Cthis.writeI16(e))%3Ae%3E%3D-2147483648%3F(this.writeU8(210)%2Cthis.writeI32(e))%3Athis.useBigInt64%3Fthis.encodeNumberAsFloat(e)%3A(this.writeU8(211)%2Cthis.writeI64(e))%3Athis.encodeNumberAsFloat(e)%7DencodeNumberAsFloat(e)%7Bthis.forceFloat32%3F(this.writeU8(202)%2Cthis.writeF32(e))%3A(this.writeU8(203)%2Cthis.writeF64(e))%7DencodeBigInt64(e)%7Be%3E%3DBigInt(0)%3F(this.writeU8(207)%2Cthis.writeBigUint64(e))%3A(this.writeU8(211)%2Cthis.writeBigInt64(e))%7DwriteStringHeader(e)%7Bif(e%3C32)this.writeU8(160%2Be)%3Belse%20if(e%3C256)this.writeU8(217)%2Cthis.writeU8(e)%3Belse%20if(e%3C65536)this.writeU8(218)%2Cthis.writeU16(e)%3Belse%7Bif(!(e%3C4294967296))throw%20new%20Error(%60Too%20long%20string%3A%20%24%7Be%7D%20bytes%20in%20UTF-8%60)%3Bthis.writeU8(219)%2Cthis.writeU32(e)%7D%7DencodeString(e)%7Bconst%20t%3Dfunction(e)%7Bconst%20t%3De.length%3Blet%20r%3D0%2Cn%3D0%3Bfor(%3Bn%3Ct%3B)%7Blet%20s%3De.charCodeAt(n%2B%2B)%3Bif(4294967168%26s)if(4294965248%26s)%7Bif(s%3E%3D55296%26%26s%3C%3D56319%26%26n%3Ct)%7Bconst%20t%3De.charCodeAt(n)%3B56320%3D%3D(64512%26t)%26%26(%2B%2Bn%2Cs%3D((1023%26s)%3C%3C10)%2B(1023%26t)%2B65536)%7Dr%2B%3D4294901760%26s%3F4%3A3%7Delse%20r%2B%3D2%3Belse%20r%2B%2B%7Dreturn%20r%7D(e)%3Bthis.ensureBufferSizeToWrite(5%2Bt)%2Cthis.writeStringHeader(t)%2Ch(e%2Cthis.bytes%2Cthis.pos)%2Cthis.pos%2B%3Dt%7DencodeObject(e%2Ct)%7Bconst%20r%3Dthis.extensionCodec.tryToEncode(e%2Cthis.context)%3Bif(null!%3Dr)this.encodeExtension(r)%3Belse%20if(Array.isArray(e))this.encodeArray(e%2Ct)%3Belse%20if(ArrayBuffer.isView(e))this.encodeBinary(e)%3Belse%7Bif(%22object%22!%3Dtypeof%20e)throw%20new%20Error(%60Unrecognized%20object%3A%20%24%7BObject.prototype.toString.apply(e)%7D%60)%3Bthis.encodeMap(e%2Ct)%7D%7DencodeBinary(e)%7Bconst%20t%3De.byteLength%3Bif(t%3C256)this.writeU8(196)%2Cthis.writeU8(t)%3Belse%20if(t%3C65536)this.writeU8(197)%2Cthis.writeU16(t)%3Belse%7Bif(!(t%3C4294967296))throw%20new%20Error(%60Too%20large%20binary%3A%20%24%7Bt%7D%60)%3Bthis.writeU8(198)%2Cthis.writeU32(t)%7Dconst%20r%3Dg(e)%3Bthis.writeU8a(r)%7DencodeArray(e%2Ct)%7Bconst%20r%3De.length%3Bif(r%3C16)this.writeU8(144%2Br)%3Belse%20if(r%3C65536)this.writeU8(220)%2Cthis.writeU16(r)%3Belse%7Bif(!(r%3C4294967296))throw%20new%20Error(%60Too%20large%20array%3A%20%24%7Br%7D%60)%3Bthis.writeU8(221)%2Cthis.writeU32(r)%7Dfor(const%20r%20of%20e)this.doEncode(r%2Ct%2B1)%7DcountWithoutUndefined(e%2Ct)%7Blet%20r%3D0%3Bfor(const%20n%20of%20t)void%200!%3D%3De%5Bn%5D%26%26r%2B%2B%3Breturn%20r%7DencodeMap(e%2Ct)%7Bconst%20r%3DObject.keys(e)%3Bthis.sortKeys%26%26r.sort()%3Bconst%20n%3Dthis.ignoreUndefined%3Fthis.countWithoutUndefined(e%2Cr)%3Ar.length%3Bif(n%3C16)this.writeU8(128%2Bn)%3Belse%20if(n%3C65536)this.writeU8(222)%2Cthis.writeU16(n)%3Belse%7Bif(!(n%3C4294967296))throw%20new%20Error(%60Too%20large%20map%20object%3A%20%24%7Bn%7D%60)%3Bthis.writeU8(223)%2Cthis.writeU32(n)%7Dfor(const%20n%20of%20r)%7Bconst%20r%3De%5Bn%5D%3Bthis.ignoreUndefined%26%26void%200%3D%3D%3Dr%7C%7C(this.encodeString(n)%2Cthis.doEncode(r%2Ct%2B1))%7D%7DencodeExtension(e)%7Bif(%22function%22%3D%3Dtypeof%20e.data)%7Bconst%20t%3De.data(this.pos%2B6)%2Cr%3Dt.length%3Bif(r%3E%3D4294967296)throw%20new%20Error(%60Too%20large%20extension%20object%3A%20%24%7Br%7D%60)%3Breturn%20this.writeU8(201)%2Cthis.writeU32(r)%2Cthis.writeI8(e.type)%2Cvoid%20this.writeU8a(t)%7Dconst%20t%3De.data.length%3Bif(1%3D%3D%3Dt)this.writeU8(212)%3Belse%20if(2%3D%3D%3Dt)this.writeU8(213)%3Belse%20if(4%3D%3D%3Dt)this.writeU8(214)%3Belse%20if(8%3D%3D%3Dt)this.writeU8(215)%3Belse%20if(16%3D%3D%3Dt)this.writeU8(216)%3Belse%20if(t%3C256)this.writeU8(199)%2Cthis.writeU8(t)%3Belse%20if(t%3C65536)this.writeU8(200)%2Cthis.writeU16(t)%3Belse%7Bif(!(t%3C4294967296))throw%20new%20Error(%60Too%20large%20extension%20object%3A%20%24%7Bt%7D%60)%3Bthis.writeU8(201)%2Cthis.writeU32(t)%7Dthis.writeI8(e.type)%2Cthis.writeU8a(e.data)%7DwriteU8(e)%7Bthis.ensureBufferSizeToWrite(1)%2Cthis.view.setUint8(this.pos%2Ce)%2Cthis.pos%2B%2B%7DwriteU8a(e)%7Bconst%20t%3De.length%3Bthis.ensureBufferSizeToWrite(t)%2Cthis.bytes.set(e%2Cthis.pos)%2Cthis.pos%2B%3Dt%7DwriteI8(e)%7Bthis.ensureBufferSizeToWrite(1)%2Cthis.view.setInt8(this.pos%2Ce)%2Cthis.pos%2B%2B%7DwriteU16(e)%7Bthis.ensureBufferSizeToWrite(2)%2Cthis.view.setUint16(this.pos%2Ce)%2Cthis.pos%2B%3D2%7DwriteI16(e)%7Bthis.ensureBufferSizeToWrite(2)%2Cthis.view.setInt16(this.pos%2Ce)%2Cthis.pos%2B%3D2%7DwriteU32(e)%7Bthis.ensureBufferSizeToWrite(4)%2Cthis.view.setUint32(this.pos%2Ce)%2Cthis.pos%2B%3D4%7DwriteI32(e)%7Bthis.ensureBufferSizeToWrite(4)%2Cthis.view.setInt32(this.pos%2Ce)%2Cthis.pos%2B%3D4%7DwriteF32(e)%7Bthis.ensureBufferSizeToWrite(4)%2Cthis.view.setFloat32(this.pos%2Ce)%2Cthis.pos%2B%3D4%7DwriteF64(e)%7Bthis.ensureBufferSizeToWrite(8)%2Cthis.view.setFloat64(this.pos%2Ce)%2Cthis.pos%2B%3D8%7DwriteU64(e)%7Bthis.ensureBufferSizeToWrite(8)%2Cfunction(e%2Ct%2Cr)%7Bconst%20n%3Dr%2F4294967296%2Cs%3Dr%3Be.setUint32(t%2Cn)%2Ce.setUint32(t%2B4%2Cs)%7D(this.view%2Cthis.pos%2Ce)%2Cthis.pos%2B%3D8%7DwriteI64(e)%7Bthis.ensureBufferSizeToWrite(8)%2Cf(this.view%2Cthis.pos%2Ce)%2Cthis.pos%2B%3D8%7DwriteBigUint64(e)%7Bthis.ensureBufferSizeToWrite(8)%2Cthis.view.setBigUint64(this.pos%2Ce)%2Cthis.pos%2B%3D8%7DwriteBigInt64(e)%7Bthis.ensureBufferSizeToWrite(8)%2Cthis.view.setBigInt64(this.pos%2Ce)%2Cthis.pos%2B%3D8%7D%7D%3Bfunction%20m(e%2Ct)%7Breturn%20new%20y(t).encodeSharedRef(e)%7Dvar%20b%3D%22undefined%22!%3Dtypeof%20globalThis%3FglobalThis%3A%22undefined%22!%3Dtypeof%20window%3Fwindow%3A%22undefined%22!%3Dtypeof%20global%3Fglobal%3A%22undefined%22!%3Dtypeof%20self%3Fself%3A%7B%7D%3Bfunction%20w(e)%7Bif(Object.prototype.hasOwnProperty.call(e%2C%22__esModule%22))return%20e%3Bvar%20t%3De.default%3Bif(%22function%22%3D%3Dtypeof%20t)%7Bvar%20r%3Dfunction%20e()%7Breturn%20this%20instanceof%20e%3FReflect.construct(t%2Carguments%2Cthis.constructor)%3At.apply(this%2Carguments)%7D%3Br.prototype%3Dt.prototype%7Delse%20r%3D%7B%7D%3Breturn%20Object.defineProperty(r%2C%22__esModule%22%2C%7Bvalue%3A!0%7D)%2CObject.keys(e).forEach((function(t)%7Bvar%20n%3DObject.getOwnPropertyDescriptor(e%2Ct)%3BObject.defineProperty(r%2Ct%2Cn.get%3Fn%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20e%5Bt%5D%7D%7D)%7D))%2Cr%7Dvar%20v%2CE%3D%7B%7D%3Bvar%20O%3D%7B%7D%2CI%3Dfunction(e%2Ct)%7Breturn%20I%3DObject.setPrototypeOf%7C%7C%7B__proto__%3A%5B%5D%7Dinstanceof%20Array%26%26function(e%2Ct)%7Be.__proto__%3Dt%7D%7C%7Cfunction(e%2Ct)%7Bfor(var%20r%20in%20t)Object.prototype.hasOwnProperty.call(t%2Cr)%26%26(e%5Br%5D%3Dt%5Br%5D)%7D%2CI(e%2Ct)%7D%3Bfunction%20A(e%2Ct)%7Bif(%22function%22!%3Dtypeof%20t%26%26null!%3D%3Dt)throw%20new%20TypeError(%22Class%20extends%20value%20%22%2BString(t)%2B%22%20is%20not%20a%20constructor%20or%20null%22)%3Bfunction%20r()%7Bthis.constructor%3De%7DI(e%2Ct)%2Ce.prototype%3Dnull%3D%3D%3Dt%3FObject.create(t)%3A(r.prototype%3Dt.prototype%2Cnew%20r)%7Dvar%20S%3Dfunction()%7Breturn%20S%3DObject.assign%7C%7Cfunction(e)%7Bfor(var%20t%2Cr%3D1%2Cn%3Darguments.length%3Br%3Cn%3Br%2B%2B)for(var%20s%20in%20t%3Darguments%5Br%5D)Object.prototype.hasOwnProperty.call(t%2Cs)%26%26(e%5Bs%5D%3Dt%5Bs%5D)%3Breturn%20e%7D%2CS.apply(this%2Carguments)%7D%3Bfunction%20T(e%2Ct)%7Bvar%20r%3D%7B%7D%3Bfor(var%20n%20in%20e)Object.prototype.hasOwnProperty.call(e%2Cn)%26%26t.indexOf(n)%3C0%26%26(r%5Bn%5D%3De%5Bn%5D)%3Bif(null!%3De%26%26%22function%22%3D%3Dtypeof%20Object.getOwnPropertySymbols)%7Bvar%20s%3D0%3Bfor(n%3DObject.getOwnPropertySymbols(e)%3Bs%3Cn.length%3Bs%2B%2B)t.indexOf(n%5Bs%5D)%3C0%26%26Object.prototype.propertyIsEnumerable.call(e%2Cn%5Bs%5D)%26%26(r%5Bn%5Bs%5D%5D%3De%5Bn%5Bs%5D%5D)%7Dreturn%20r%7Dfunction%20_(e%2Ct%2Cr%2Cn)%7Bvar%20s%2Ci%3Darguments.length%2Co%3Di%3C3%3Ft%3Anull%3D%3D%3Dn%3Fn%3DObject.getOwnPropertyDescriptor(t%2Cr)%3An%3Bif(%22object%22%3D%3Dtypeof%20Reflect%26%26%22function%22%3D%3Dtypeof%20Reflect.decorate)o%3DReflect.decorate(e%2Ct%2Cr%2Cn)%3Belse%20for(var%20a%3De.length-1%3Ba%3E%3D0%3Ba--)(s%3De%5Ba%5D)%26%26(o%3D(i%3C3%3Fs(o)%3Ai%3E3%3Fs(t%2Cr%2Co)%3As(t%2Cr))%7C%7Co)%3Breturn%20i%3E3%26%26o%26%26Object.defineProperty(t%2Cr%2Co)%2Co%7Dfunction%20C(e%2Ct)%7Breturn%20function(r%2Cn)%7Bt(r%2Cn%2Ce)%7D%7Dfunction%20R(e%2Ct%2Cr%2Cn%2Cs%2Ci)%7Bfunction%20o(e)%7Bif(void%200!%3D%3De%26%26%22function%22!%3Dtypeof%20e)throw%20new%20TypeError(%22Function%20expected%22)%3Breturn%20e%7Dfor(var%20a%2Cc%3Dn.kind%2Ch%3D%22getter%22%3D%3D%3Dc%3F%22get%22%3A%22setter%22%3D%3D%3Dc%3F%22set%22%3A%22value%22%2Cl%3D!t%26%26e%3Fn.static%3Fe%3Ae.prototype%3Anull%2Cu%3Dt%7C%7C(l%3FObject.getOwnPropertyDescriptor(l%2Cn.name)%3A%7B%7D)%2Cf%3D!1%2Cd%3Dr.length-1%3Bd%3E%3D0%3Bd--)%7Bvar%20p%3D%7B%7D%3Bfor(var%20g%20in%20n)p%5Bg%5D%3D%22access%22%3D%3D%3Dg%3F%7B%7D%3An%5Bg%5D%3Bfor(var%20g%20in%20n.access)p.access%5Bg%5D%3Dn.access%5Bg%5D%3Bp.addInitializer%3Dfunction(e)%7Bif(f)throw%20new%20TypeError(%22Cannot%20add%20initializers%20after%20decoration%20has%20completed%22)%3Bi.push(o(e%7C%7Cnull))%7D%3Bvar%20y%3D(0%2Cr%5Bd%5D)(%22accessor%22%3D%3D%3Dc%3F%7Bget%3Au.get%2Cset%3Au.set%7D%3Au%5Bh%5D%2Cp)%3Bif(%22accessor%22%3D%3D%3Dc)%7Bif(void%200%3D%3D%3Dy)continue%3Bif(null%3D%3D%3Dy%7C%7C%22object%22!%3Dtypeof%20y)throw%20new%20TypeError(%22Object%20expected%22)%3B(a%3Do(y.get))%26%26(u.get%3Da)%2C(a%3Do(y.set))%26%26(u.set%3Da)%2C(a%3Do(y.init))%26%26s.unshift(a)%7Delse(a%3Do(y))%26%26(%22field%22%3D%3D%3Dc%3Fs.unshift(a)%3Au%5Bh%5D%3Da)%7Dl%26%26Object.defineProperty(l%2Cn.name%2Cu)%2Cf%3D!0%7Dfunction%20x(e%2Ct%2Cr)%7Bfor(var%20n%3Darguments.length%3E2%2Cs%3D0%3Bs%3Ct.length%3Bs%2B%2B)r%3Dn%3Ft%5Bs%5D.call(e%2Cr)%3At%5Bs%5D.call(e)%3Breturn%20n%3Fr%3Avoid%200%7Dfunction%20P(e)%7Breturn%22symbol%22%3D%3Dtypeof%20e%3Fe%3A%22%22.concat(e)%7Dfunction%20D(e%2Ct%2Cr)%7Breturn%22symbol%22%3D%3Dtypeof%20t%26%26(t%3Dt.description%3F%22%5B%22.concat(t.description%2C%22%5D%22)%3A%22%22)%2CObject.defineProperty(e%2C%22name%22%2C%7Bconfigurable%3A!0%2Cvalue%3Ar%3F%22%22.concat(r%2C%22%20%22%2Ct)%3At%7D)%7Dfunction%20k(e%2Ct)%7Bif(%22object%22%3D%3Dtypeof%20Reflect%26%26%22function%22%3D%3Dtypeof%20Reflect.metadata)return%20Reflect.metadata(e%2Ct)%7Dfunction%20%24(e%2Ct%2Cr%2Cn)%7Breturn%20new(r%7C%7C(r%3DPromise))((function(s%2Ci)%7Bfunction%20o(e)%7Btry%7Bc(n.next(e))%7Dcatch(e)%7Bi(e)%7D%7Dfunction%20a(e)%7Btry%7Bc(n.throw(e))%7Dcatch(e)%7Bi(e)%7D%7Dfunction%20c(e)%7Bvar%20t%3Be.done%3Fs(e.value)%3A(t%3De.value%2Ct%20instanceof%20r%3Ft%3Anew%20r((function(e)%7Be(t)%7D))).then(o%2Ca)%7Dc((n%3Dn.apply(e%2Ct%7C%7C%5B%5D)).next())%7D))%7Dfunction%20N(e%2Ct)%7Bvar%20r%2Cn%2Cs%2Ci%3D%7Blabel%3A0%2Csent%3Afunction()%7Bif(1%26s%5B0%5D)throw%20s%5B1%5D%3Breturn%20s%5B1%5D%7D%2Ctrys%3A%5B%5D%2Cops%3A%5B%5D%7D%2Co%3DObject.create((%22function%22%3D%3Dtypeof%20Iterator%3FIterator%3AObject).prototype)%3Breturn%20o.next%3Da(0)%2Co.throw%3Da(1)%2Co.return%3Da(2)%2C%22function%22%3D%3Dtypeof%20Symbol%26%26(o%5BSymbol.iterator%5D%3Dfunction()%7Breturn%20this%7D)%2Co%3Bfunction%20a(a)%7Breturn%20function(c)%7Breturn%20function(a)%7Bif(r)throw%20new%20TypeError(%22Generator%20is%20already%20executing.%22)%3Bfor(%3Bo%26%26(o%3D0%2Ca%5B0%5D%26%26(i%3D0))%2Ci%3B)try%7Bif(r%3D1%2Cn%26%26(s%3D2%26a%5B0%5D%3Fn.return%3Aa%5B0%5D%3Fn.throw%7C%7C((s%3Dn.return)%26%26s.call(n)%2C0)%3An.next)%26%26!(s%3Ds.call(n%2Ca%5B1%5D)).done)return%20s%3Bswitch(n%3D0%2Cs%26%26(a%3D%5B2%26a%5B0%5D%2Cs.value%5D)%2Ca%5B0%5D)%7Bcase%200%3Acase%201%3As%3Da%3Bbreak%3Bcase%204%3Areturn%20i.label%2B%2B%2C%7Bvalue%3Aa%5B1%5D%2Cdone%3A!1%7D%3Bcase%205%3Ai.label%2B%2B%2Cn%3Da%5B1%5D%2Ca%3D%5B0%5D%3Bcontinue%3Bcase%207%3Aa%3Di.ops.pop()%2Ci.trys.pop()%3Bcontinue%3Bdefault%3Aif(!(s%3Di.trys%2C(s%3Ds.length%3E0%26%26s%5Bs.length-1%5D)%7C%7C6!%3D%3Da%5B0%5D%26%262!%3D%3Da%5B0%5D))%7Bi%3D0%3Bcontinue%7Dif(3%3D%3D%3Da%5B0%5D%26%26(!s%7C%7Ca%5B1%5D%3Es%5B0%5D%26%26a%5B1%5D%3Cs%5B3%5D))%7Bi.label%3Da%5B1%5D%3Bbreak%7Dif(6%3D%3D%3Da%5B0%5D%26%26i.label%3Cs%5B1%5D)%7Bi.label%3Ds%5B1%5D%2Cs%3Da%3Bbreak%7Dif(s%26%26i.label%3Cs%5B2%5D)%7Bi.label%3Ds%5B2%5D%2Ci.ops.push(a)%3Bbreak%7Ds%5B2%5D%26%26i.ops.pop()%2Ci.trys.pop()%3Bcontinue%7Da%3Dt.call(e%2Ci)%7Dcatch(e)%7Ba%3D%5B6%2Ce%5D%2Cn%3D0%7Dfinally%7Br%3Ds%3D0%7Dif(5%26a%5B0%5D)throw%20a%5B1%5D%3Breturn%7Bvalue%3Aa%5B0%5D%3Fa%5B1%5D%3Avoid%200%2Cdone%3A!0%7D%7D(%5Ba%2Cc%5D)%7D%7D%7Dvar%20U%3DObject.create%3Ffunction(e%2Ct%2Cr%2Cn)%7Bvoid%200%3D%3D%3Dn%26%26(n%3Dr)%3Bvar%20s%3DObject.getOwnPropertyDescriptor(t%2Cr)%3Bs%26%26!(%22get%22in%20s%3F!t.__esModule%3As.writable%7C%7Cs.configurable)%7C%7C(s%3D%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20t%5Br%5D%7D%7D)%2CObject.defineProperty(e%2Cn%2Cs)%7D%3Afunction(e%2Ct%2Cr%2Cn)%7Bvoid%200%3D%3D%3Dn%26%26(n%3Dr)%2Ce%5Bn%5D%3Dt%5Br%5D%7D%3Bfunction%20M(e%2Ct)%7Bfor(var%20r%20in%20e)%22default%22%3D%3D%3Dr%7C%7CObject.prototype.hasOwnProperty.call(t%2Cr)%7C%7CU(t%2Ce%2Cr)%7Dfunction%20j(e)%7Bvar%20t%3D%22function%22%3D%3Dtypeof%20Symbol%26%26Symbol.iterator%2Cr%3Dt%26%26e%5Bt%5D%2Cn%3D0%3Bif(r)return%20r.call(e)%3Bif(e%26%26%22number%22%3D%3Dtypeof%20e.length)return%7Bnext%3Afunction()%7Breturn%20e%26%26n%3E%3De.length%26%26(e%3Dvoid%200)%2C%7Bvalue%3Ae%26%26e%5Bn%2B%2B%5D%2Cdone%3A!e%7D%7D%7D%3Bthrow%20new%20TypeError(t%3F%22Object%20is%20not%20iterable.%22%3A%22Symbol.iterator%20is%20not%20defined.%22)%7Dfunction%20B(e%2Ct)%7Bvar%20r%3D%22function%22%3D%3Dtypeof%20Symbol%26%26e%5BSymbol.iterator%5D%3Bif(!r)return%20e%3Bvar%20n%2Cs%2Ci%3Dr.call(e)%2Co%3D%5B%5D%3Btry%7Bfor(%3B(void%200%3D%3D%3Dt%7C%7Ct--%20%3E0)%26%26!(n%3Di.next()).done%3B)o.push(n.value)%7Dcatch(e)%7Bs%3D%7Berror%3Ae%7D%7Dfinally%7Btry%7Bn%26%26!n.done%26%26(r%3Di.return)%26%26r.call(i)%7Dfinally%7Bif(s)throw%20s.error%7D%7Dreturn%20o%7Dfunction%20L()%7Bfor(var%20e%3D%5B%5D%2Ct%3D0%3Bt%3Carguments.length%3Bt%2B%2B)e%3De.concat(B(arguments%5Bt%5D))%3Breturn%20e%7Dfunction%20F()%7Bfor(var%20e%3D0%2Ct%3D0%2Cr%3Darguments.length%3Bt%3Cr%3Bt%2B%2B)e%2B%3Darguments%5Bt%5D.length%3Bvar%20n%3DArray(e)%2Cs%3D0%3Bfor(t%3D0%3Bt%3Cr%3Bt%2B%2B)for(var%20i%3Darguments%5Bt%5D%2Co%3D0%2Ca%3Di.length%3Bo%3Ca%3Bo%2B%2B%2Cs%2B%2B)n%5Bs%5D%3Di%5Bo%5D%3Breturn%20n%7Dfunction%20V(e%2Ct%2Cr)%7Bif(r%7C%7C2%3D%3D%3Darguments.length)for(var%20n%2Cs%3D0%2Ci%3Dt.length%3Bs%3Ci%3Bs%2B%2B)!n%26%26s%20in%20t%7C%7C(n%7C%7C(n%3DArray.prototype.slice.call(t%2C0%2Cs))%2Cn%5Bs%5D%3Dt%5Bs%5D)%3Breturn%20e.concat(n%7C%7CArray.prototype.slice.call(t))%7Dfunction%20z(e)%7Breturn%20this%20instanceof%20z%3F(this.v%3De%2Cthis)%3Anew%20z(e)%7Dfunction%20W(e%2Ct%2Cr)%7Bif(!Symbol.asyncIterator)throw%20new%20TypeError(%22Symbol.asyncIterator%20is%20not%20defined.%22)%3Bvar%20n%2Cs%3Dr.apply(e%2Ct%7C%7C%5B%5D)%2Ci%3D%5B%5D%3Breturn%20n%3DObject.create((%22function%22%3D%3Dtypeof%20AsyncIterator%3FAsyncIterator%3AObject).prototype)%2Co(%22next%22)%2Co(%22throw%22)%2Co(%22return%22%2C(function(e)%7Breturn%20function(t)%7Breturn%20Promise.resolve(t).then(e%2Ch)%7D%7D))%2Cn%5BSymbol.asyncIterator%5D%3Dfunction()%7Breturn%20this%7D%2Cn%3Bfunction%20o(e%2Ct)%7Bs%5Be%5D%26%26(n%5Be%5D%3Dfunction(t)%7Breturn%20new%20Promise((function(r%2Cn)%7Bi.push(%5Be%2Ct%2Cr%2Cn%5D)%3E1%7C%7Ca(e%2Ct)%7D))%7D%2Ct%26%26(n%5Be%5D%3Dt(n%5Be%5D)))%7Dfunction%20a(e%2Ct)%7Btry%7B(r%3Ds%5Be%5D(t)).value%20instanceof%20z%3FPromise.resolve(r.value.v).then(c%2Ch)%3Al(i%5B0%5D%5B2%5D%2Cr)%7Dcatch(e)%7Bl(i%5B0%5D%5B3%5D%2Ce)%7Dvar%20r%7Dfunction%20c(e)%7Ba(%22next%22%2Ce)%7Dfunction%20h(e)%7Ba(%22throw%22%2Ce)%7Dfunction%20l(e%2Ct)%7Be(t)%2Ci.shift()%2Ci.length%26%26a(i%5B0%5D%5B0%5D%2Ci%5B0%5D%5B1%5D)%7D%7Dfunction%20H(e)%7Bvar%20t%2Cr%3Breturn%20t%3D%7B%7D%2Cn(%22next%22)%2Cn(%22throw%22%2C(function(e)%7Bthrow%20e%7D))%2Cn(%22return%22)%2Ct%5BSymbol.iterator%5D%3Dfunction()%7Breturn%20this%7D%2Ct%3Bfunction%20n(n%2Cs)%7Bt%5Bn%5D%3De%5Bn%5D%3Ffunction(t)%7Breturn(r%3D!r)%3F%7Bvalue%3Az(e%5Bn%5D(t))%2Cdone%3A!1%7D%3As%3Fs(t)%3At%7D%3As%7D%7Dfunction%20q(e)%7Bif(!Symbol.asyncIterator)throw%20new%20TypeError(%22Symbol.asyncIterator%20is%20not%20defined.%22)%3Bvar%20t%2Cr%3De%5BSymbol.asyncIterator%5D%3Breturn%20r%3Fr.call(e)%3A(e%3Dj(e)%2Ct%3D%7B%7D%2Cn(%22next%22)%2Cn(%22throw%22)%2Cn(%22return%22)%2Ct%5BSymbol.asyncIterator%5D%3Dfunction()%7Breturn%20this%7D%2Ct)%3Bfunction%20n(r)%7Bt%5Br%5D%3De%5Br%5D%26%26function(t)%7Breturn%20new%20Promise((function(n%2Cs)%7B(function(e%2Ct%2Cr%2Cn)%7BPromise.resolve(n).then((function(t)%7Be(%7Bvalue%3At%2Cdone%3Ar%7D)%7D)%2Ct)%7D)(n%2Cs%2C(t%3De%5Br%5D(t)).done%2Ct.value)%7D))%7D%7D%7Dfunction%20J(e%2Ct)%7Breturn%20Object.defineProperty%3FObject.defineProperty(e%2C%22raw%22%2C%7Bvalue%3At%7D)%3Ae.raw%3Dt%2Ce%7Dvar%20G%3DObject.create%3Ffunction(e%2Ct)%7BObject.defineProperty(e%2C%22default%22%2C%7Benumerable%3A!0%2Cvalue%3At%7D)%7D%3Afunction(e%2Ct)%7Be.default%3Dt%7D%2CK%3Dfunction(e)%7Breturn%20K%3DObject.getOwnPropertyNames%7C%7Cfunction(e)%7Bvar%20t%3D%5B%5D%3Bfor(var%20r%20in%20e)Object.prototype.hasOwnProperty.call(e%2Cr)%26%26(t%5Bt.length%5D%3Dr)%3Breturn%20t%7D%2CK(e)%7D%3Bfunction%20Y(e)%7Bif(e%26%26e.__esModule)return%20e%3Bvar%20t%3D%7B%7D%3Bif(null!%3De)for(var%20r%3DK(e)%2Cn%3D0%3Bn%3Cr.length%3Bn%2B%2B)%22default%22!%3D%3Dr%5Bn%5D%26%26U(t%2Ce%2Cr%5Bn%5D)%3Breturn%20G(t%2Ce)%2Ct%7Dfunction%20X(e)%7Breturn%20e%26%26e.__esModule%3Fe%3A%7Bdefault%3Ae%7D%7Dfunction%20Z(e%2Ct%2Cr%2Cn)%7Bif(%22a%22%3D%3D%3Dr%26%26!n)throw%20new%20TypeError(%22Private%20accessor%20was%20defined%20without%20a%20getter%22)%3Bif(%22function%22%3D%3Dtypeof%20t%3Fe!%3D%3Dt%7C%7C!n%3A!t.has(e))throw%20new%20TypeError(%22Cannot%20read%20private%20member%20from%20an%20object%20whose%20class%20did%20not%20declare%20it%22)%3Breturn%22m%22%3D%3D%3Dr%3Fn%3A%22a%22%3D%3D%3Dr%3Fn.call(e)%3An%3Fn.value%3At.get(e)%7Dfunction%20Q(e%2Ct%2Cr%2Cn%2Cs)%7Bif(%22m%22%3D%3D%3Dn)throw%20new%20TypeError(%22Private%20method%20is%20not%20writable%22)%3Bif(%22a%22%3D%3D%3Dn%26%26!s)throw%20new%20TypeError(%22Private%20accessor%20was%20defined%20without%20a%20setter%22)%3Bif(%22function%22%3D%3Dtypeof%20t%3Fe!%3D%3Dt%7C%7C!s%3A!t.has(e))throw%20new%20TypeError(%22Cannot%20write%20private%20member%20to%20an%20object%20whose%20class%20did%20not%20declare%20it%22)%3Breturn%22a%22%3D%3D%3Dn%3Fs.call(e%2Cr)%3As%3Fs.value%3Dr%3At.set(e%2Cr)%2Cr%7Dfunction%20ee(e%2Ct)%7Bif(null%3D%3D%3Dt%7C%7C%22object%22!%3Dtypeof%20t%26%26%22function%22!%3Dtypeof%20t)throw%20new%20TypeError(%22Cannot%20use%20'in'%20operator%20on%20non-object%22)%3Breturn%22function%22%3D%3Dtypeof%20e%3Ft%3D%3D%3De%3Ae.has(t)%7Dfunction%20te(e%2Ct%2Cr)%7Bif(null!%3Dt)%7Bif(%22object%22!%3Dtypeof%20t%26%26%22function%22!%3Dtypeof%20t)throw%20new%20TypeError(%22Object%20expected.%22)%3Bvar%20n%2Cs%3Bif(r)%7Bif(!Symbol.asyncDispose)throw%20new%20TypeError(%22Symbol.asyncDispose%20is%20not%20defined.%22)%3Bn%3Dt%5BSymbol.asyncDispose%5D%7Dif(void%200%3D%3D%3Dn)%7Bif(!Symbol.dispose)throw%20new%20TypeError(%22Symbol.dispose%20is%20not%20defined.%22)%3Bn%3Dt%5BSymbol.dispose%5D%2Cr%26%26(s%3Dn)%7Dif(%22function%22!%3Dtypeof%20n)throw%20new%20TypeError(%22Object%20not%20disposable.%22)%3Bs%26%26(n%3Dfunction()%7Btry%7Bs.call(this)%7Dcatch(e)%7Breturn%20Promise.reject(e)%7D%7D)%2Ce.stack.push(%7Bvalue%3At%2Cdispose%3An%2Casync%3Ar%7D)%7Delse%20r%26%26e.stack.push(%7Basync%3A!0%7D)%3Breturn%20t%7Dvar%20re%3D%22function%22%3D%3Dtypeof%20SuppressedError%3FSuppressedError%3Afunction(e%2Ct%2Cr)%7Bvar%20n%3Dnew%20Error(r)%3Breturn%20n.name%3D%22SuppressedError%22%2Cn.error%3De%2Cn.suppressed%3Dt%2Cn%7D%3Bfunction%20ne(e)%7Bfunction%20t(t)%7Be.error%3De.hasError%3Fnew%20re(t%2Ce.error%2C%22An%20error%20was%20suppressed%20during%20disposal.%22)%3At%2Ce.hasError%3D!0%7Dvar%20r%2Cn%3D0%3Breturn%20function%20s()%7Bfor(%3Br%3De.stack.pop()%3B)try%7Bif(!r.async%26%261%3D%3D%3Dn)return%20n%3D0%2Ce.stack.push(r)%2CPromise.resolve().then(s)%3Bif(r.dispose)%7Bvar%20i%3Dr.dispose.call(r.value)%3Bif(r.async)return%20n%7C%3D2%2CPromise.resolve(i).then(s%2C(function(e)%7Breturn%20t(e)%2Cs()%7D))%7Delse%20n%7C%3D1%7Dcatch(e)%7Bt(e)%7Dif(1%3D%3D%3Dn)return%20e.hasError%3FPromise.reject(e.error)%3APromise.resolve()%3Bif(e.hasError)throw%20e.error%7D()%7Dfunction%20se(e%2Ct)%7Breturn%22string%22%3D%3Dtypeof%20e%26%26%2F%5E%5C.%5C.%3F%5C%2F%2F.test(e)%3Fe.replace(%2F%5C.(tsx)%24%7C((%3F%3A%5C.d)%3F)((%3F%3A%5C.%5B%5E.%2F%5D%2B%3F)%3F)%5C.(%5Bcm%5D%3F)ts%24%2Fi%2C(function(e%2Cr%2Cn%2Cs%2Ci)%7Breturn%20r%3Ft%3F%22.jsx%22%3A%22.js%22%3A!n%7C%7Cs%26%26i%3Fn%2Bs%2B%22.%22%2Bi.toLowerCase()%2B%22js%22%3Ae%7D))%3Ae%7Dvar%20ie%2Coe%3D%7B__extends%3AA%2C__assign%3AS%2C__rest%3AT%2C__decorate%3A_%2C__param%3AC%2C__esDecorate%3AR%2C__runInitializers%3Ax%2C__propKey%3AP%2C__setFunctionName%3AD%2C__metadata%3Ak%2C__awaiter%3A%24%2C__generator%3AN%2C__createBinding%3AU%2C__exportStar%3AM%2C__values%3Aj%2C__read%3AB%2C__spread%3AL%2C__spreadArrays%3AF%2C__spreadArray%3AV%2C__await%3Az%2C__asyncGenerator%3AW%2C__asyncDelegator%3AH%2C__asyncValues%3Aq%2C__makeTemplateObject%3AJ%2C__importStar%3AY%2C__importDefault%3AX%2C__classPrivateFieldGet%3AZ%2C__classPrivateFieldSet%3AQ%2C__classPrivateFieldIn%3Aee%2C__addDisposableResource%3Ate%2C__disposeResources%3Ane%2C__rewriteRelativeImportExtension%3Ase%7D%2Cae%3Dw(Object.freeze(%7B__proto__%3Anull%2C__addDisposableResource%3Ate%2Cget%20__assign()%7Breturn%20S%7D%2C__asyncDelegator%3AH%2C__asyncGenerator%3AW%2C__asyncValues%3Aq%2C__await%3Az%2C__awaiter%3A%24%2C__classPrivateFieldGet%3AZ%2C__classPrivateFieldIn%3Aee%2C__classPrivateFieldSet%3AQ%2C__createBinding%3AU%2C__decorate%3A_%2C__disposeResources%3Ane%2C__esDecorate%3AR%2C__exportStar%3AM%2C__extends%3AA%2C__generator%3AN%2C__importDefault%3AX%2C__importStar%3AY%2C__makeTemplateObject%3AJ%2C__metadata%3Ak%2C__param%3AC%2C__propKey%3AP%2C__read%3AB%2C__rest%3AT%2C__rewriteRelativeImportExtension%3Ase%2C__runInitializers%3Ax%2C__setFunctionName%3AD%2C__spread%3AL%2C__spreadArray%3AV%2C__spreadArrays%3AF%2C__values%3Aj%2Cdefault%3Aoe%7D))%2Cce%3D%7B%7D%3Bfunction%20he()%7Breturn%20ie%7C%7C(ie%3D1%2Cfunction(e)%7Bvar%20t%3Be.CloseCode%3Dvoid%200%2C(t%3De.CloseCode%7C%7C(e.CloseCode%3D%7B%7D))%5Bt.CONSENTED%3D4e3%5D%3D%22CONSENTED%22%2Ct%5Bt.DEVMODE_RESTART%3D4010%5D%3D%22DEVMODE_RESTART%22%3Bclass%20r%20extends%20Error%7Bconstructor(e%2Ct)%7Bsuper(t)%2Cthis.name%3D%22ServerError%22%2Cthis.code%3De%7D%7De.ServerError%3Dr%7D(ce))%2Cce%7Dvar%20le%2Cue%2Cfe%3D%7B%7D%2Cde%3D%7B%7D%2Cpe%3D%7B%7D%2Cge%3D%7Bexports%3A%7B%7D%7D%3Bfunction%20ye()%7Breturn%20le%7C%7C(le%3D1%2Cfunction(e)%7Bconst%20t%3D255%2Cr%3D213%3Bvar%20n%3Be.OPERATION%3Dvoid%200%2C(n%3De.OPERATION%7C%7C(e.OPERATION%3D%7B%7D))%5Bn.ADD%3D128%5D%3D%22ADD%22%2Cn%5Bn.REPLACE%3D0%5D%3D%22REPLACE%22%2Cn%5Bn.DELETE%3D64%5D%3D%22DELETE%22%2Cn%5Bn.DELETE_AND_MOVE%3D96%5D%3D%22DELETE_AND_MOVE%22%2Cn%5Bn.MOVE_AND_ADD%3D160%5D%3D%22MOVE_AND_ADD%22%2Cn%5Bn.DELETE_AND_ADD%3D192%5D%3D%22DELETE_AND_ADD%22%2Cn%5Bn.CLEAR%3D10%5D%3D%22CLEAR%22%2Cn%5Bn.REVERSE%3D15%5D%3D%22REVERSE%22%2Cn%5Bn.MOVE%3D32%5D%3D%22MOVE%22%2Cn%5Bn.DELETE_BY_REFID%3D33%5D%3D%22DELETE_BY_REFID%22%2Cn%5Bn.ADD_BY_REFID%3D129%5D%3D%22ADD_BY_REFID%22%2CSymbol.metadata%3F%3F%3DSymbol.for(%22Symbol.metadata%22)%3Bconst%20s%3DSymbol(%22%24track%22)%2Ci%3DSymbol(%22%24encoder%22)%2Co%3DSymbol(%22%24decoder%22)%2Ca%3DSymbol(%22%24filter%22)%2Cc%3DSymbol(%22%24getByIndex%22)%2Ch%3DSymbol(%22%24deleteByIndex%22)%2Cl%3DSymbol(%22%24changes%22)%2Cu%3DSymbol(%22%24childType%22)%2Cf%3DSymbol(%22%24onEncodeEnd%22)%2Cd%3DSymbol(%22%24onDecodeEnd%22)%2Cp%3DSymbol(%22%24descriptors%22)%2Cg%3D%22%24__numFields%22%2Cy%3D%22%24__refTypeFieldIndexes%22%2Cm%3D%22%24__viewFieldIndexes%22%2Cb%3D%22%24__fieldIndexesByViewTag%22%3Blet%20w%3Btry%7Bw%3Dnew%20TextEncoder%7Dcatch(e)%7B%7Dconst%20v%3Dnew%20ArrayBuffer(8)%2CE%3Dnew%20Int32Array(v)%2CO%3Dnew%20Float32Array(v)%2CI%3Dnew%20Float64Array(v)%2CA%3Dnew%20BigInt64Array(v)%2CS%3D%22undefined%22!%3Dtypeof%20Buffer%26%26Buffer.byteLength%3FBuffer.byteLength%3Afunction(e%2Ct)%7Bfor(var%20r%3D0%2Cn%3D0%2Cs%3D0%2Ci%3De.length%3Bs%3Ci%3Bs%2B%2B)(r%3De.charCodeAt(s))%3C128%3Fn%2B%3D1%3Ar%3C2048%3Fn%2B%3D2%3Ar%3C55296%7C%7Cr%3E%3D57344%3Fn%2B%3D3%3A(s%2B%2B%2Cn%2B%3D4)%3Breturn%20n%7D%3Bfunction%20T(e%2Ct%2Cr)%7Bfor(var%20n%3D0%2Cs%3D0%2Ci%3Dt.length%3Bs%3Ci%3Bs%2B%2B)(n%3Dt.charCodeAt(s))%3C128%3Fe%5Br.offset%2B%2B%5D%3Dn%3An%3C2048%3F(e%5Br.offset%5D%3D192%7Cn%3E%3E6%2Ce%5Br.offset%2B1%5D%3D128%7C63%26n%2Cr.offset%2B%3D2)%3An%3C55296%7C%7Cn%3E%3D57344%3F(e%5Br.offset%5D%3D224%7Cn%3E%3E12%2Ce%5Br.offset%2B1%5D%3D128%7Cn%3E%3E6%2663%2Ce%5Br.offset%2B2%5D%3D128%7C63%26n%2Cr.offset%2B%3D3)%3A(s%2B%2B%2Cn%3D65536%2B((1023%26n)%3C%3C10%7C1023%26t.charCodeAt(s))%2Ce%5Br.offset%5D%3D240%7Cn%3E%3E18%2Ce%5Br.offset%2B1%5D%3D128%7Cn%3E%3E12%2663%2Ce%5Br.offset%2B2%5D%3D128%7Cn%3E%3E6%2663%2Ce%5Br.offset%2B3%5D%3D128%7C63%26n%2Cr.offset%2B%3D4)%7Dfunction%20_(e%2Ct%2Cr)%7Be%5Br.offset%2B%2B%5D%3D255%26t%7Dfunction%20C(e%2Ct%2Cr)%7Be%5Br.offset%2B%2B%5D%3D255%26t%7Dfunction%20R(e%2Ct%2Cr)%7Be%5Br.offset%2B%2B%5D%3D255%26t%2Ce%5Br.offset%2B%2B%5D%3Dt%3E%3E8%26255%7Dfunction%20x(e%2Ct%2Cr)%7Be%5Br.offset%2B%2B%5D%3D255%26t%2Ce%5Br.offset%2B%2B%5D%3Dt%3E%3E8%26255%7Dfunction%20P(e%2Ct%2Cr)%7Be%5Br.offset%2B%2B%5D%3D255%26t%2Ce%5Br.offset%2B%2B%5D%3Dt%3E%3E8%26255%2Ce%5Br.offset%2B%2B%5D%3Dt%3E%3E16%26255%2Ce%5Br.offset%2B%2B%5D%3Dt%3E%3E24%26255%7Dfunction%20D(e%2Ct%2Cr)%7Bconst%20n%3Dt%3E%3E24%2Cs%3Dt%3E%3E16%2Ci%3Dt%3E%3E8%2Co%3Dt%3Be%5Br.offset%2B%2B%5D%3D255%26o%2Ce%5Br.offset%2B%2B%5D%3D255%26i%2Ce%5Br.offset%2B%2B%5D%3D255%26s%2Ce%5Br.offset%2B%2B%5D%3D255%26n%7Dfunction%20k(e%2Ct%2Cr)%7Bconst%20n%3DMath.floor(t%2FMath.pow(2%2C32))%3BD(e%2Ct%3E%3E%3E0%2Cr)%2CD(e%2Cn%2Cr)%7Dfunction%20%24(e%2Ct%2Cr)%7Bconst%20n%3Dt%2FMath.pow(2%2C32)%7C0%3BD(e%2Ct%3E%3E%3E0%2Cr)%2CD(e%2Cn%2Cr)%7Dfunction%20N(e%2Ct%2Cr)%7BA%5B0%5D%3DBigInt.asIntN(64%2Ct)%2CP(e%2CE%5B0%5D%2Cr)%2CP(e%2CE%5B1%5D%2Cr)%7Dfunction%20U(e%2Ct%2Cr)%7BA%5B0%5D%3DBigInt.asIntN(64%2Ct)%2CP(e%2CE%5B0%5D%2Cr)%2CP(e%2CE%5B1%5D%2Cr)%7Dfunction%20M(e%2Ct%2Cr)%7BO%5B0%5D%3Dt%2CP(e%2CE%5B0%5D%2Cr)%7Dfunction%20j(e%2Ct%2Cr)%7BI%5B0%5D%3Dt%2CP(e%2CE%5B0%5D%2Cr)%2CP(e%2CE%5B1%5D%2Cr)%7Dfunction%20B(e%2Ct%2Cr)%7Be%5Br.offset%2B%2B%5D%3Dt%3F1%3A0%7Dfunction%20L(e%2Ct%2Cr)%7Bt%7C%7C(t%3D%22%22)%3Blet%20n%3DS(t%2C%22utf8%22)%2Cs%3D0%3Bif(n%3C32)e%5Br.offset%2B%2B%5D%3D160%7Cn%2Cs%3D1%3Belse%20if(n%3C256)e%5Br.offset%2B%2B%5D%3D217%2Ce%5Br.offset%2B%2B%5D%3Dn%25255%2Cs%3D2%3Belse%20if(n%3C65536)e%5Br.offset%2B%2B%5D%3D218%2Cx(e%2Cn%2Cr)%2Cs%3D3%3Belse%7Bif(!(n%3C4294967296))throw%20new%20Error(%22String%20too%20long%22)%3Be%5Br.offset%2B%2B%5D%3D219%2CD(e%2Cn%2Cr)%2Cs%3D5%7Dreturn%20T(e%2Ct%2Cr)%2Cs%2Bn%7Dfunction%20F(e%2Ct%2Cr)%7Breturn%20isNaN(t)%3FF(e%2C0%2Cr)%3AisFinite(t)%3Ft!%3D%3D(0%7Ct)%3FMath.abs(t)%3C%3D34028235e31%26%26(O%5B0%5D%3Dt%2CMath.abs(Math.abs(O%5B0%5D)-Math.abs(t))%3C1e-4)%3F(e%5Br.offset%2B%2B%5D%3D202%2CM(e%2Ct%2Cr)%2C5)%3A(e%5Br.offset%2B%2B%5D%3D203%2Cj(e%2Ct%2Cr)%2C9)%3At%3E%3D0%3Ft%3C128%3F(e%5Br.offset%2B%2B%5D%3D255%26t%2C1)%3At%3C256%3F(e%5Br.offset%2B%2B%5D%3D204%2Ce%5Br.offset%2B%2B%5D%3D255%26t%2C2)%3At%3C65536%3F(e%5Br.offset%2B%2B%5D%3D205%2Cx(e%2Ct%2Cr)%2C3)%3At%3C4294967296%3F(e%5Br.offset%2B%2B%5D%3D206%2CD(e%2Ct%2Cr)%2C5)%3A(e%5Br.offset%2B%2B%5D%3D207%2C%24(e%2Ct%2Cr)%2C9)%3At%3E%3D-32%3F(e%5Br.offset%2B%2B%5D%3D224%7Ct%2B32%2C1)%3At%3E%3D-128%3F(e%5Br.offset%2B%2B%5D%3D208%2C_(e%2Ct%2Cr)%2C2)%3At%3E%3D-32768%3F(e%5Br.offset%2B%2B%5D%3D209%2CR(e%2Ct%2Cr)%2C3)%3At%3E%3D-2147483648%3F(e%5Br.offset%2B%2B%5D%3D210%2CP(e%2Ct%2Cr)%2C5)%3A(e%5Br.offset%2B%2B%5D%3D211%2Ck(e%2Ct%2Cr)%2C9)%3AF(e%2Ct%3E0%3FNumber.MAX_SAFE_INTEGER%3A-Number.MAX_SAFE_INTEGER%2Cr)%7Dconst%20V%3D%7Bint8%3A_%2Cuint8%3AC%2Cint16%3AR%2Cuint16%3Ax%2Cint32%3AP%2Cuint32%3AD%2Cint64%3Ak%2Cuint64%3A%24%2Cbigint64%3AN%2Cbiguint64%3AU%2Cfloat32%3AM%2Cfloat64%3Aj%2Cboolean%3AB%2Cstring%3AL%2Cnumber%3AF%2Cutf8Write%3AT%2Cutf8Length%3AS%7D%2Cz%3Dnew%20ArrayBuffer(8)%2CW%3Dnew%20Int32Array(z)%2CH%3Dnew%20Float32Array(z)%2Cq%3Dnew%20Float64Array(z)%2CJ%3Dnew%20BigUint64Array(z)%2CG%3Dnew%20BigInt64Array(z)%3Bfunction%20K(e%2Ct%2Cr)%7Bfor(var%20n%3D%22%22%2Cs%3D0%2Ci%3Dt.offset%2Co%3Dt.offset%2Br%3Bi%3Co%3Bi%2B%2B)%7Bvar%20a%3De%5Bi%5D%3B128%26a%3F192!%3D(224%26a)%3F224!%3D(240%26a)%3F240!%3D(248%26a)%3Fconsole.error(%22Invalid%20byte%20%22%2Ba.toString(16))%3A(s%3D(7%26a)%3C%3C18%7C(63%26e%5B%2B%2Bi%5D)%3C%3C12%7C(63%26e%5B%2B%2Bi%5D)%3C%3C6%7C63%26e%5B%2B%2Bi%5D)%3E%3D65536%3F(s-%3D65536%2Cn%2B%3DString.fromCharCode(55296%2B(s%3E%3E%3E10)%2C56320%2B(1023%26s)))%3An%2B%3DString.fromCharCode(s)%3An%2B%3DString.fromCharCode((15%26a)%3C%3C12%7C(63%26e%5B%2B%2Bi%5D)%3C%3C6%7C63%26e%5B%2B%2Bi%5D)%3An%2B%3DString.fromCharCode((31%26a)%3C%3C6%7C63%26e%5B%2B%2Bi%5D)%3An%2B%3DString.fromCharCode(a)%7Dreturn%20t.offset%2B%3Dr%2Cn%7Dfunction%20Y(e%2Ct)%7Breturn%20X(e%2Ct)%3C%3C24%3E%3E24%7Dfunction%20X(e%2Ct)%7Breturn%20e%5Bt.offset%2B%2B%5D%7Dfunction%20Z(e%2Ct)%7Breturn%20Q(e%2Ct)%3C%3C16%3E%3E16%7Dfunction%20Q(e%2Ct)%7Breturn%20e%5Bt.offset%2B%2B%5D%7Ce%5Bt.offset%2B%2B%5D%3C%3C8%7Dfunction%20ee(e%2Ct)%7Breturn%20e%5Bt.offset%2B%2B%5D%7Ce%5Bt.offset%2B%2B%5D%3C%3C8%7Ce%5Bt.offset%2B%2B%5D%3C%3C16%7Ce%5Bt.offset%2B%2B%5D%3C%3C24%7Dfunction%20te(e%2Ct)%7Breturn%20ee(e%2Ct)%3E%3E%3E0%7Dfunction%20re(e%2Ct)%7Breturn%20W%5B0%5D%3Dee(e%2Ct)%2CH%5B0%5D%7Dfunction%20ne(e%2Ct)%7Breturn%20W%5B0%5D%3Dee(e%2Ct)%2CW%5B1%5D%3Dee(e%2Ct)%2Cq%5B0%5D%7Dfunction%20se(e%2Ct)%7Bconst%20r%3Dte(e%2Ct)%3Breturn%20ee(e%2Ct)*Math.pow(2%2C32)%2Br%7Dfunction%20ie(e%2Ct)%7Bconst%20r%3Dte(e%2Ct)%3Breturn%20te(e%2Ct)*Math.pow(2%2C32)%2Br%7Dfunction%20oe(e%2Ct)%7Breturn%20W%5B0%5D%3Dee(e%2Ct)%2CW%5B1%5D%3Dee(e%2Ct)%2CG%5B0%5D%7Dfunction%20ae(e%2Ct)%7Breturn%20W%5B0%5D%3Dee(e%2Ct)%2CW%5B1%5D%3Dee(e%2Ct)%2CJ%5B0%5D%7Dfunction%20ce(e%2Ct)%7Breturn%20X(e%2Ct)%3E0%7Dfunction%20he(e%2Ct)%7Bconst%20r%3De%5Bt.offset%2B%2B%5D%3Blet%20n%3Breturn%20r%3C192%3Fn%3D31%26r%3A217%3D%3D%3Dr%3Fn%3DX(e%2Ct)%3A218%3D%3D%3Dr%3Fn%3DQ(e%2Ct)%3A219%3D%3D%3Dr%26%26(n%3Dte(e%2Ct))%2CK(e%2Ct%2Cn)%7Dfunction%20le(e%2Ct)%7Bconst%20r%3De%5Bt.offset%2B%2B%5D%3Breturn%20r%3C128%3Fr%3A202%3D%3D%3Dr%3Fre(e%2Ct)%3A203%3D%3D%3Dr%3Fne(e%2Ct)%3A204%3D%3D%3Dr%3FX(e%2Ct)%3A205%3D%3D%3Dr%3FQ(e%2Ct)%3A206%3D%3D%3Dr%3Fte(e%2Ct)%3A207%3D%3D%3Dr%3Fie(e%2Ct)%3A208%3D%3D%3Dr%3FY(e%2Ct)%3A209%3D%3D%3Dr%3FZ(e%2Ct)%3A210%3D%3D%3Dr%3Fee(e%2Ct)%3A211%3D%3D%3Dr%3Fse(e%2Ct)%3Ar%3E223%3F-1*(255-r%2B1)%3Avoid%200%7Dfunction%20ue(e%2Ct)%7Bconst%20r%3De%5Bt.offset%5D%3Breturn%20r%3C192%26%26r%3E160%7C%7C217%3D%3D%3Dr%7C%7C218%3D%3D%3Dr%7C%7C219%3D%3D%3Dr%7Dconst%20fe%3D%7Butf8Read%3AK%2Cint8%3AY%2Cuint8%3AX%2Cint16%3AZ%2Cuint16%3AQ%2Cint32%3Aee%2Cuint32%3Ate%2Cfloat32%3Are%2Cfloat64%3Ane%2Cint64%3Ase%2Cuint64%3Aie%2Cbigint64%3Aoe%2Cbiguint64%3Aae%2Cboolean%3Ace%2Cstring%3Ahe%2Cnumber%3Ale%2CstringCheck%3Aue%7D%2Cde%3D%7B%7D%2Cpe%3Dnew%20Map%3Bfunction%20ge(e%2Ct)%7Bt.constructor%26%26(pe.set(t.constructor%2Ce)%2Cde%5Be%5D%3Dt)%2Ct.encode%26%26(V%5Be%5D%3Dt.encode)%2Ct.decode%26%26(fe%5Be%5D%3Dt.decode)%7Dfunction%20ye(e)%7Breturn%20de%5Be%5D%7Dfunction%20me(e)%7Bfor(const%20t%20in%20e)ge(t%2Ce%5Bt%5D)%3Breturn%20e%3D%3EGe(e)%7Dclass%20be%7Bstatic%7Bthis.inheritedTypes%3Dnew%20Map%7Dstatic%7Bthis.cachedContexts%3Dnew%20Map%7Dstatic%20register(e)%7Bconst%20t%3DObject.getPrototypeOf(e)%3Bif(t!%3D%3Dat)%7Blet%20r%3Dbe.inheritedTypes.get(t)%3Br%7C%7C(r%3Dnew%20Set%2Cbe.inheritedTypes.set(t%2Cr))%2Cr.add(e)%7D%7Dstatic%20cache(e)%7Blet%20t%3Dbe.cachedContexts.get(e)%3Breturn%20t%7C%7C(t%3Dnew%20be(e)%2Cbe.cachedContexts.set(e%2Ct))%2Ct%7Dconstructor(e)%7Bthis.types%3D%7B%7D%2Cthis.schemas%3Dnew%20Map%2Cthis.hasFilters%3D!1%2Cthis.parentFiltered%3D%7B%7D%2Ce%26%26this.discoverTypes(e)%7Dhas(e)%7Breturn%20this.schemas.has(e)%7Dget(e)%7Breturn%20this.types%5Be%5D%7Dadd(e%2Ct%3Dthis.schemas.size)%7Breturn!this.schemas.has(e)%26%26(this.types%5Bt%5D%3De%2Cvoid%200%3D%3D%3De%5BSymbol.metadata%5D%26%26ve.initialize(e)%2Cthis.schemas.set(e%2Ct)%2C!0)%7DgetTypeId(e)%7Breturn%20this.schemas.get(e)%7DdiscoverTypes(e%2Ct%2Cr%2Cn)%7Bif(n%26%26this.registerFilteredByParent(e%2Ct%2Cr)%2C!this.add(e))return%3Bbe.inheritedTypes.get(e)%3F.forEach((e%3D%3E%7Bthis.discoverTypes(e%2Ct%2Cr%2Cn)%7D))%3Blet%20s%3De%3Bfor(%3B(s%3DObject.getPrototypeOf(s))%26%26s!%3D%3Dat%26%26s!%3D%3DFunction.prototype%3B)this.discoverTypes(s)%3Bconst%20i%3De%5BSymbol.metadata%5D%3F%3F%3D%7B%7D%3Bi%5Bm%5D%26%26(this.hasFilters%3D!0)%3Bfor(const%20t%20in%20i)%7Bconst%20r%3Dt%2Cs%3Di%5Br%5D.type%2Co%3Dvoid%200!%3D%3Di%5Br%5D.tag%3Bif(%22string%22!%3Dtypeof%20s)if(Array.isArray(s))%7Bconst%20t%3Ds%5B0%5D%3Bif(%22string%22%3D%3D%3Dt)continue%3Bthis.discoverTypes(t%2Ce%2Cr%2Cn%7C%7Co)%7Delse%20if(%22function%22%3D%3Dtypeof%20s)this.discoverTypes(s%2Ce%2Cr%2Cn%7C%7Co)%3Belse%7Bconst%20t%3DObject.values(s)%5B0%5D%3Bif(%22string%22%3D%3Dtypeof%20t)continue%3Bthis.discoverTypes(t%2Ce%2Cr%2Cn%7C%7Co)%7D%7D%7DregisterFilteredByParent(e%2Ct%2Cr)%7Blet%20n%3D%60%24%7Bthis.schemas.get(e)%3F%3Fthis.schemas.size%7D%60%3Bt%26%26(n%2B%3D%60-%24%7Bthis.schemas.get(t)%7D%60)%2Cn%2B%3D%60-%24%7Br%7D%60%2Cthis.parentFiltered%5Bn%5D%3D!0%7Ddebug()%7Blet%20e%3D%22%22%3Bfor(const%20t%20in%20this.parentFiltered)%7Bconst%20r%3Dt.split(%22-%22).map(Number)%2Cn%3Dr.pop()%3Be%2B%3D%22%5Cn%5Ct%5Ct%22%2Ce%2B%3D%60%24%7Bt%7D%3A%20%24%7Br.reverse().map(((e%2Ct)%3D%3E%7Bconst%20r%3Dthis.types%5Be%5D%2Cs%3Dr%5BSymbol.metadata%5D%3Blet%20i%3Dr.name%3Breturn%200%3D%3D%3Dt%26%26(i%2B%3D%60%5B%24%7Bs%5Bn%5D.name%7D%5D%60)%2C%60%24%7Bi%7D%60%7D)).join(%22%20-%3E%20%22)%7D%60%7Dreturn%60TypeContext%20-%3E%5Cn%5CtSchema%20types%3A%20%24%7Bthis.schemas.size%7D%5Cn%5CthasFilters%3A%20%24%7Bthis.hasFilters%7D%5Cn%5CtparentFiltered%3A%24%7Be%7D%60%7D%7Dfunction%20we(e)%7Breturn%20Array.isArray(e)%3F%7Barray%3Ae%5B0%5D%7D%3Avoid%200!%3D%3De.type%3Fe.type%3Ae%7Dconst%20ve%3D%7BaddField(e%2Ct%2Cr%2Cn%2Cs)%7Bif(t%3E64)throw%20new%20Error(%60Can't%20define%20field%20'%24%7Br%7D'.%5CnSchema%20instances%20may%20only%20have%20up%20to%2064%20fields.%60)%3Be%5Bt%5D%3DObject.assign(e%5Bt%5D%7C%7C%7B%7D%2C%7Btype%3Awe(n)%2Cindex%3At%2Cname%3Ar%7D)%2CObject.defineProperty(e%2Cp%2C%7Bvalue%3Ae%5Bp%5D%7C%7C%7B%7D%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%2Cs%3F(e%5Bp%5D%5Br%5D%3Ds%2Ce%5Bp%5D%5B%60_%24%7Br%7D%60%5D%3D%7Bvalue%3Avoid%200%2Cwritable%3A!0%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%3Ae%5Bp%5D%5Br%5D%3D%7Bvalue%3Avoid%200%2Cwritable%3A!0%2Cenumerable%3A!0%2Cconfigurable%3A!0%7D%2CObject.defineProperty(e%2Cg%2C%7Bvalue%3At%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%2CObject.defineProperty(e%2Cr%2C%7Bvalue%3At%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%2C%22string%22!%3Dtypeof%20e%5Bt%5D.type%26%26(void%200%3D%3D%3De%5By%5D%26%26Object.defineProperty(e%2Cy%2C%7Bvalue%3A%5B%5D%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%2Ce%5By%5D.push(t))%7D%2CsetTag(e%2Ct%2Cr)%7Bconst%20n%3De%5Bt%5D%3Be%5Bn%5D.tag%3Dr%2Ce%5Bm%5D%7C%7C(Object.defineProperty(e%2Cm%2C%7Bvalue%3A%5B%5D%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%2CObject.defineProperty(e%2Cb%2C%7Bvalue%3A%7B%7D%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D))%2Ce%5Bm%5D.push(n)%2Ce%5Bb%5D%5Br%5D%7C%7C(e%5Bb%5D%5Br%5D%3D%5B%5D)%2Ce%5Bb%5D%5Br%5D.push(n)%7D%2CsetFields(e%2Ct)%7Bconst%20r%3De.prototype.constructor%3Bbe.register(r)%3Bconst%20n%3DObject.getPrototypeOf(r)%2Ca%3Dn%26%26n%5BSymbol.metadata%5D%2Cc%3Dve.initialize(r)%3Br%5Bs%5D%7C%7C(r%5Bs%5D%3Dat%5Bs%5D)%2Cr%5Bi%5D%7C%7C(r%5Bi%5D%3Dat%5Bi%5D)%2Cr%5Bo%5D%7C%7C(r%5Bo%5D%3Dat%5Bo%5D)%2Cr.prototype.toJSON%7C%7C(r.prototype.toJSON%3Dat.prototype.toJSON)%3Blet%20h%3Dc%5Bg%5D%3F%3F(a%26%26a%5Bg%5D)%3F%3F-1%3Bh%2B%2B%3Bfor(const%20e%20in%20t)%7Bconst%20r%3Dt%5Be%5D%2Cn%3DArray.isArray(r)%3Fye(%22array%22)%3A%22string%22%3D%3Dtypeof%20Object.keys(r)%5B0%5D%26%26ye(Object.keys(r)%5B0%5D)%2Cs%3Dn%3FObject.values(r)%5B0%5D%3Awe(r)%3Bve.addField(c%2Ch%2Ce%2Cr%2CKe(%60_%24%7Be%7D%60%2Ch%2Cs%2Cn))%2Ch%2B%2B%7Dreturn%20e%7D%2CisDeprecated%3A(e%2Ct)%3D%3E!0%3D%3D%3De%5Bt%5D.deprecated%2Cinit(e)%7Bconst%20t%3D%7B%7D%3Be%5BSymbol.metadata%5D%3Dt%2CObject.defineProperty(t%2Cg%2C%7Bvalue%3A0%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%7D%2Cinitialize(e)%7Bconst%20t%3DObject.getPrototypeOf(e)%2Cr%3Dt%5BSymbol.metadata%5D%3Blet%20n%3De%5BSymbol.metadata%5D%3F%3FObject.create(null)%3Breturn%20t!%3D%3Dat%26%26n%3D%3D%3Dr%26%26(n%3DObject.create(null)%2Cr%26%26(Object.setPrototypeOf(n%2Cr)%2CObject.defineProperty(n%2Cg%2C%7Bvalue%3Ar%5Bg%5D%2Cenumerable%3A!1%2Cconfigurable%3A!0%2Cwritable%3A!0%7D)%2Cvoid%200!%3D%3Dr%5Bm%5D%26%26(Object.defineProperty(n%2Cm%2C%7Bvalue%3A%5B...r%5Bm%5D%5D%2Cenumerable%3A!1%2Cconfigurable%3A!0%2Cwritable%3A!0%7D)%2CObject.defineProperty(n%2Cb%2C%7Bvalue%3A%7B...r%5Bb%5D%7D%2Cenumerable%3A!1%2Cconfigurable%3A!0%2Cwritable%3A!0%7D))%2Cvoid%200!%3D%3Dr%5By%5D%26%26Object.defineProperty(n%2Cy%2C%7Bvalue%3A%5B...r%5By%5D%5D%2Cenumerable%3A!1%2Cconfigurable%3A!0%2Cwritable%3A!0%7D)%2CObject.defineProperty(n%2Cp%2C%7Bvalue%3A%7B...r%5Bp%5D%7D%2Cenumerable%3A!1%2Cconfigurable%3A!0%2Cwritable%3A!0%7D)))%2Ce%5BSymbol.metadata%5D%3Dn%2Cn%7D%2CisValidInstance%3Ae%3D%3Ee.constructor%5BSymbol.metadata%5D%26%26Object.prototype.hasOwnProperty.call(e.constructor%5BSymbol.metadata%5D%2Cg)%2CgetFields(e)%7Bconst%20t%3De%5BSymbol.metadata%5D%2Cr%3D%7B%7D%3Bfor(let%20e%3D0%3Be%3C%3Dt%5Bg%5D%3Be%2B%2B)r%5Bt%5Be%5D.name%5D%3Dt%5Be%5D.type%3Breturn%20r%7D%2ChasViewTagAtIndex%3A(e%2Ct)%3D%3Ee%3F.%5Bm%5D%3F.includes(t)%7D%3Bfunction%20Ee()%7Breturn%7Bindexes%3A%7B%7D%2Coperations%3A%5B%5D%7D%7Dfunction%20Oe(e%2Ct)%7Bconst%20r%3De.indexes%5Bt%5D%3Bvoid%200%3D%3D%3Dr%3Fe.indexes%5Bt%5D%3De.operations.push(t)-1%3Ae.operations%5Br%5D%3Dt%7Dfunction%20Ie(e%2Ct)%7Blet%20r%3De.indexes%5Bt%5D%3Bvoid%200%3D%3D%3Dr%26%26(r%3DObject.values(e.indexes).at(-1)%2Ct%3DObject.entries(e.indexes).find(((%5Be%2Ct%5D)%3D%3Et%3D%3D%3Dr))%3F.%5B0%5D)%2Ce.operations%5Br%5D%3Dvoid%200%2Cdelete%20e.indexes%5Bt%5D%7Dfunction%20Ae(e%2Ct%2Cr%2Cn%3Dt%5Br%5D.queueRootIndex)%7Be%26%26e%5Br%5D%5Bn%5D!%3D%3Dt%26%26(t%5Br%5D.queueRootIndex%3De%5Br%5D.push(t)-1)%7Dclass%20Se%7Bconstructor(e)%7Bthis.isFiltered%3D!1%2Cthis.indexedOperations%3D%7B%7D%2Cthis.changes%3D%7Bindexes%3A%7B%7D%2Coperations%3A%5B%5D%7D%2Cthis.allChanges%3D%7Bindexes%3A%7B%7D%2Coperations%3A%5B%5D%7D%2Cthis.isNew%3D!0%2Cthis.ref%3De%3Bconst%20t%3De.constructor%5BSymbol.metadata%5D%3Bt%3F.%5Bm%5D%26%26(this.allFilteredChanges%3D%7Bindexes%3A%7B%7D%2Coperations%3A%5B%5D%7D%2Cthis.filteredChanges%3D%7Bindexes%3A%7B%7D%2Coperations%3A%5B%5D%7D)%7DsetRoot(e)%7Bthis.root%3De%2Cthis.checkIsFiltered(this.parent%2Cthis.parentIndex)%3Bconst%20t%3Dthis.ref.constructor%5BSymbol.metadata%5D%3Bt%3Ft%5By%5D%3F.forEach((r%3D%3E%7Bconst%20n%3Dt%5Br%5D%2Cs%3Dthis.ref%5Bn.name%5D%3Bs%3F.%5Bl%5D.setRoot(e)%7D))%3Athis.ref%5Bu%5D%26%26%22string%22!%3Dtypeof%20this.ref%5Bu%5D%26%26this.ref.forEach(((t%2Cr)%3D%3E%7Bt%5Bl%5D.setRoot(e)%7D))%7DsetParent(e%2Ct%2Cr)%7Bif(this.parent%3De%2Cthis.parentIndex%3Dr%2C!t)return%3Bt!%3D%3Dthis.root%3F(this.root%3Dt%2Cthis.checkIsFiltered(e%2Cr))%3At.add(this)%3Bconst%20n%3Dthis.ref.constructor%5BSymbol.metadata%5D%3Bn%3Fn%5By%5D%3F.forEach((e%3D%3E%7Bconst%20r%3Dn%5Be%5D%2Cs%3Dthis.ref%5Br.name%5D%3Bs%3F.%5Bl%5D.setParent(this.ref%2Ct%2Ce)%7D))%3Athis.ref%5Bu%5D%26%26%22string%22!%3Dtypeof%20this.ref%5Bu%5D%26%26this.ref.forEach(((e%2Cr)%3D%3E%7Be%5Bl%5D.setParent(this.ref%2Ct%2Cthis.indexes%5Br%5D%3F%3Fr)%7D))%7DforEachChild(e)%7Bconst%20t%3Dthis.ref.constructor%5BSymbol.metadata%5D%3Bt%3Ft%5By%5D%3F.forEach((r%3D%3E%7Bconst%20n%3Dt%5Br%5D%2Cs%3Dthis.ref%5Bn.name%5D%3Bs%26%26e(s%5Bl%5D%2Cr)%7D))%3Athis.ref%5Bu%5D%26%26%22string%22!%3Dtypeof%20this.ref%5Bu%5D%26%26this.ref.forEach(((t%2Cr)%3D%3E%7Be(t%5Bl%5D%2Cthis.indexes%5Br%5D%3F%3Fr)%7D))%7Doperation(e)%7Bvoid%200!%3D%3Dthis.filteredChanges%3F(this.filteredChanges.operations.push(-e)%2CAe(this.root%2Cthis%2C%22filteredChanges%22))%3A(this.changes.operations.push(-e)%2CAe(this.root%2Cthis%2C%22changes%22))%7Dchange(t%2Cr%3De.OPERATION.ADD)%7Bconst%20n%3Dthis.ref.constructor%5BSymbol.metadata%5D%2Cs%3Dthis.isFiltered%7C%7Cvoid%200!%3D%3Dn%3F.%5Bt%5D%3F.tag%2Ci%3Ds%3Fthis.filteredChanges%3Athis.changes%2Co%3Dthis.indexedOperations%5Bt%5D%3Bif(!o%7C%7Co%3D%3D%3De.OPERATION.DELETE)%7Bconst%20n%3Do%26%26o%3D%3D%3De.OPERATION.DELETE%3Fe.OPERATION.DELETE_AND_ADD%3Ar%3Bthis.indexedOperations%5Bt%5D%3Dn%7DOe(i%2Ct)%2Cs%3F(Oe(this.allFilteredChanges%2Ct)%2Cthis.root%26%26(Ae(this.root%2Cthis%2C%22filteredChanges%22)%2CAe(this.root%2Cthis%2C%22allFilteredChanges%22)))%3A(Oe(this.allChanges%2Ct)%2CAe(this.root%2Cthis%2C%22changes%22))%7DshiftChangeIndexes(e)%7Bconst%20t%3Dthis.isFiltered%3Fthis.filteredChanges%3Athis.changes%2Cr%3D%7B%7D%2Cn%3D%7B%7D%3Bfor(const%20s%20in%20this.indexedOperations)r%5BNumber(s)%2Be%5D%3Dthis.indexedOperations%5Bs%5D%2Cn%5BNumber(s)%2Be%5D%3Dt.indexes%5Bs%5D%3Bthis.indexedOperations%3Dr%2Ct.indexes%3Dn%2Ct.operations%3Dt.operations.map((t%3D%3Et%2Be))%7DshiftAllChangeIndexes(e%2Ct%3D0)%7Bvoid%200!%3D%3Dthis.filteredChanges%3F(this._shiftAllChangeIndexes(e%2Ct%2Cthis.allFilteredChanges)%2Cthis._shiftAllChangeIndexes(e%2Ct%2Cthis.allChanges))%3Athis._shiftAllChangeIndexes(e%2Ct%2Cthis.allChanges)%7D_shiftAllChangeIndexes(e%2Ct%3D0%2Cr)%7Bconst%20n%3D%7B%7D%3Blet%20s%3D0%3Bfor(const%20e%20in%20r.indexes)n%5Bs%2B%2B%5D%3Dr.indexes%5Be%5D%3Br.indexes%3Dn%3Bfor(let%20n%3D0%3Bn%3Cr.operations.length%3Bn%2B%2B)%7Bconst%20s%3Dr.operations%5Bn%5D%3Bs%3Et%26%26(r.operations%5Bn%5D%3Ds%2Be)%7D%7DindexedOperation(e%2Ct%2Cr%3De)%7Bthis.indexedOperations%5Be%5D%3Dt%2Cvoid%200!%3D%3Dthis.filteredChanges%3F(Oe(this.allFilteredChanges%2Cr)%2COe(this.filteredChanges%2Ce)%2CAe(this.root%2Cthis%2C%22filteredChanges%22))%3A(Oe(this.allChanges%2Cr)%2COe(this.changes%2Ce)%2CAe(this.root%2Cthis%2C%22changes%22))%7DgetType(e)%7Breturn%20ve.isValidInstance(this.ref)%3Fthis.ref.constructor%5BSymbol.metadata%5D%5Be%5D.type%3Athis.ref%5Bu%5D%7DgetChange(e)%7Breturn%20this.indexedOperations%5Be%5D%7DgetValue(e%2Ct%3D!1)%7Breturn%20this.ref%5Bc%5D(e%2Ct)%7Ddelete(t%2Cr%2Cn%3Dt)%7Bif(void%200%3D%3D%3Dt)%7Btry%7Bthrow%20new%20Error(%60%40colyseus%2Fschema%20%24%7Bthis.ref.constructor.name%7D%3A%20trying%20to%20delete%20non-existing%20index%20'%24%7Bt%7D'%60)%7Dcatch(e)%7Bconsole.warn(e)%7Dreturn%7Dconst%20s%3Dvoid%200!%3D%3Dthis.filteredChanges%3Fthis.filteredChanges%3Athis.changes%3Bthis.indexedOperations%5Bt%5D%3Dr%3F%3Fe.OPERATION.DELETE%2COe(s%2Ct)%2CIe(this.allChanges%2Cn)%3Bconst%20i%3Dthis.getValue(t)%3Breturn%20i%26%26i%5Bl%5D%26%26this.root%3F.remove(i%5Bl%5D)%2Cvoid%200!%3D%3Dthis.filteredChanges%3F(Ie(this.allFilteredChanges%2Cn)%2CAe(this.root%2Cthis%2C%22filteredChanges%22))%3AAe(this.root%2Cthis%2C%22changes%22)%2Ci%7DendEncode(e)%7Bthis.indexedOperations%3D%7B%7D%2Cthis%5Be%5D.indexes%3D%7B%7D%2Cthis%5Be%5D.operations.length%3D0%2Cthis%5Be%5D.queueRootIndex%3Dvoid%200%2Cthis.ref%5Bf%5D%3F.()%2Cthis.isNew%3D!1%7Ddiscard(e%3D!1)%7Bthis.ref%5Bf%5D%3F.()%2Cthis.indexedOperations%3D%7B%7D%2Cthis.changes.indexes%3D%7B%7D%2Cthis.changes.operations.length%3D0%2Cthis.changes.queueRootIndex%3Dvoid%200%2Cvoid%200!%3D%3Dthis.filteredChanges%26%26(this.filteredChanges.indexes%3D%7B%7D%2Cthis.filteredChanges.operations.length%3D0%2Cthis.filteredChanges.queueRootIndex%3Dvoid%200)%2Ce%26%26(this.allChanges.indexes%3D%7B%7D%2Cthis.allChanges.operations.length%3D0%2Cvoid%200!%3D%3Dthis.allFilteredChanges%26%26(this.allFilteredChanges.indexes%3D%7B%7D%2Cthis.allFilteredChanges.operations.length%3D0)%2Cthis.forEachChild(((e%2Ct)%3D%3Ethis.root%3F.remove(e))))%7DdiscardAll()%7Bconst%20e%3DObject.keys(this.indexedOperations)%3Bfor(let%20t%3D0%2Cr%3De.length%3Bt%3Cr%3Bt%2B%2B)%7Bconst%20r%3Dthis.getValue(Number(e%5Bt%5D))%3Br%26%26r%5Bl%5D%26%26r%5Bl%5D.discardAll()%7Dthis.discard()%7DensureRefId()%7Bvoid%200%3D%3D%3Dthis.refId%26%26(this.refId%3Dthis.root.getNextUniqueId())%7Dget%20changed()%7Breturn%20Object.entries(this.indexedOperations).length%3E0%7DcheckIsFiltered(e%2Ct)%7Bconst%20r%3Dthis.root.add(this)%3Bthis.root.types.hasFilters%26%26(this._checkFilteredByParent(e%2Ct)%2Cvoid%200!%3D%3Dthis.filteredChanges%26%26(Ae(this.root%2Cthis%2C%22filteredChanges%22)%2Cr%26%26this.root.allFilteredChanges.push(this)))%2Cthis.isFiltered%7C%7C(Ae(this.root%2Cthis%2C%22changes%22)%2Cr%26%26this.root.allChanges.push(this))%7D_checkFilteredByParent(e%2Ct)%7Bif(!e)return%3Bconst%20r%3Dve.isValidInstance(this.ref)%3Fthis.ref.constructor%3Athis.ref%5Bu%5D%3Blet%20n%2Cs%3D!ve.isValidInstance(e)%3Bs%3F(n%3De%5Bl%5D%2Ce%3Dn.parent%2Ct%3Dn.parentIndex)%3An%3De%5Bl%5D%3Bconst%20i%3De.constructor%3Blet%20o%3D%60%24%7Bthis.root.types.getTypeId(r)%7D%60%3Bi%26%26(o%2B%3D%60-%24%7Bthis.root.types.schemas.get(i)%7D%60)%2Co%2B%3D%60-%24%7Bt%7D%60%3Bconst%20a%3Dve.hasViewTagAtIndex(i%3F.%5BSymbol.metadata%5D%2Ct)%3Bthis.isFiltered%3De%5Bl%5D.isFiltered%7C%7Cthis.root.types.parentFiltered%5Bo%5D%7C%7Ca%2Cthis.isFiltered%26%26(this.isVisibilitySharedWithParent%3Dn.isFiltered%26%26%22string%22!%3Dtypeof%20r%26%26!a%26%26s%2Cthis.filteredChanges%7C%7C(this.filteredChanges%3DEe()%2Cthis.allFilteredChanges%3DEe())%2Cthis.changes.operations.length%3E0%26%26(this.changes.operations.forEach((e%3D%3EOe(this.filteredChanges%2Ce)))%2Cthis.allChanges.operations.forEach((e%3D%3EOe(this.allFilteredChanges%2Ce)))%2Cthis.changes%3DEe()%2Cthis.allChanges%3DEe()))%7D%7Dfunction%20Te(t%2Cr%2Cn%2Cs%2Ci%2Co)%7B%22string%22%3D%3Dtypeof%20n%3FV%5Bn%5D%3F.(r%2Cs%2Co)%3Avoid%200!%3D%3Dn%5BSymbol.metadata%5D%3F(V.number(r%2Cs%5Bl%5D.refId%2Co)%2C(i%26e.OPERATION.ADD)%3D%3D%3De.OPERATION.ADD%26%26t.tryEncodeTypeId(r%2Cn%2Cs.constructor%2Co))%3AV.number(r%2Cs%5Bl%5D.refId%2Co)%7Dconst%20_e%3Dfunction(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch)%7Bif(r%5Bo.offset%2B%2B%5D%3D255%26(s%7Ci)%2Ci%3D%3D%3De.OPERATION.DELETE)return%3Bconst%20l%3Dn.ref%2Cu%3Dh%5Bs%5D%3BTe(t%2Cr%2Ch%5Bs%5D.type%2Cl%5Bu.name%5D%2Ci%2Co)%7D%2CCe%3Dfunction(t%2Cr%2Cn%2Cs%2Ci%2Co)%7Bif(r%5Bo.offset%2B%2B%5D%3D255%26i%2Ci%3D%3D%3De.OPERATION.CLEAR)return%3Bif(V.number(r%2Cs%2Co)%2Ci%3D%3D%3De.OPERATION.DELETE)return%3Bconst%20a%3Dn.ref%3Bif((i%26e.OPERATION.ADD)%3D%3D%3De.OPERATION.ADD%26%26%22function%22%3D%3Dtypeof%20a.set)%7Bconst%20e%3Dn.ref.%24indexes.get(s)%3BV.string(r%2Ce%2Co)%7DTe(t%2Cr%2Ca%5Bu%5D%2Ca%5Bc%5D(s)%2Ci%2Co)%7D%2CRe%3Dfunction(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc)%7Bconst%20h%3Dn.ref%3Blet%20u%3Bc%26%26n.isFiltered%26%26%22string%22!%3Dtypeof%20n.getType(s)%3F(u%3Dh.tmpItems%5Bs%5D%5Bl%5D.refId%2Ci%3D%3D%3De.OPERATION.DELETE%3Fi%3De.OPERATION.DELETE_BY_REFID%3Ai%3D%3D%3De.OPERATION.ADD%26%26(i%3De.OPERATION.ADD_BY_REFID))%3Au%3Ds%2Cr%5Bo.offset%2B%2B%5D%3D255%26i%2Ci!%3D%3De.OPERATION.CLEAR%26%26i!%3D%3De.OPERATION.REVERSE%26%26(V.number(r%2Cu%2Co)%2Ci!%3D%3De.OPERATION.DELETE%26%26i!%3D%3De.OPERATION.DELETE_BY_REFID%26%26Te(t%2Cr%2Cn.getType(s)%2Cn.getValue(s%2Ca)%2Ci%2Co))%7D%2Cxe%3D-1%3Bfunction%20Pe(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cl)%7Bconst%20f%3Dt.root%2Cd%3Dn%5Bc%5D(s)%3Blet%20p%3Bif((r%26e.OPERATION.DELETE)%3D%3D%3De.OPERATION.DELETE)%7Bconst%20t%3Df.refIds.get(d)%3Bvoid%200!%3D%3Dt%26%26f.removeRef(t)%2Cr!%3D%3De.OPERATION.DELETE_AND_ADD%26%26n%5Bh%5D(s)%2Cp%3Dvoid%200%7Dif(r%3D%3D%3De.OPERATION.DELETE)%3Belse%20if(at.is(i))%7Bconst%20n%3Dfe.number(o%2Ca)%3Bif(p%3Df.refs.get(n)%2C(r%26e.OPERATION.ADD)%3D%3D%3De.OPERATION.ADD)%7Bconst%20s%3Dt.getInstanceType(o%2Ca%2Ci)%3Bp%7C%7C(p%3Dt.createInstanceOfType(s))%2Cf.addRef(n%2Cp%2Cp!%3D%3Dd%7C%7Cr%3D%3D%3De.OPERATION.DELETE_AND_ADD%26%26p%3D%3D%3Dd)%7D%7Delse%20if(%22string%22%3D%3Dtypeof%20i)p%3Dfe%5Bi%5D(o%2Ca)%3Belse%7Bconst%20t%3Dye(Object.keys(i)%5B0%5D)%2Cn%3Dfe.number(o%2Ca)%2Cs%3Df.refs.has(n)%3Fd%7C%7Cf.refs.get(n)%3Anew%20t.constructor%3Bif(p%3Ds.clone(!0)%2Cp%5Bu%5D%3DObject.values(i)%5B0%5D%2Cd)%7Blet%20t%3Df.refIds.get(d)%3Bif(void%200!%3D%3Dt%26%26n!%3D%3Dt)%7Bconst%20r%3Dd.entries()%3Blet%20n%3Bfor(%3B(n%3Dr.next())%26%26!n.done%3B)%7Bconst%5Br%2Cs%5D%3Dn.value%3B%22object%22%3D%3Dtypeof%20s%26%26(t%3Df.refIds.get(s)%2Cf.removeRef(t))%2Cl.push(%7Bref%3Ad%2CrefId%3At%2Cop%3Ae.OPERATION.DELETE%2Cfield%3Ar%2Cvalue%3Avoid%200%2CpreviousValue%3As%7D)%7D%7D%7Df.addRef(n%2Cp%2Cs!%3D%3Dd%7C%7Cr%3D%3D%3De.OPERATION.DELETE_AND_ADD%26%26s%3D%3D%3Dd)%7Dreturn%7Bvalue%3Ap%2CpreviousValue%3Ad%7D%7Dconst%20De%3Dfunction(e%2Ct%2Cr%2Cn%2Cs)%7Bconst%20i%3Dt%5Br.offset%2B%2B%5D%2Co%3Dn.constructor%5BSymbol.metadata%5D%2Ca%3Di%3E%3E6%3C%3C6%2Cc%3Di%25(a%7C%7C255)%2Ch%3Do%5Bc%5D%3Bif(void%200%3D%3D%3Dh)return%20console.warn(%22%40colyseus%2Fschema%3A%20field%20not%20defined%20at%22%2C%7Bindex%3Ac%2Cref%3An.constructor.name%2Cmetadata%3Ao%7D)%2Cxe%3Bconst%7Bvalue%3Al%2CpreviousValue%3Au%7D%3DPe(e%2Ca%2Cn%2Cc%2Ch.type%2Ct%2Cr%2Cs)%3Bnull!%3Dl%26%26(n%5Bh.name%5D%3Dl)%2Cu!%3D%3Dl%26%26s.push(%7Bref%3An%2CrefId%3Ae.currentRefId%2Cop%3Aa%2Cfield%3Ah.name%2Cvalue%3Al%2CpreviousValue%3Au%7D)%7D%2Cke%3Dfunction(t%2Cr%2Cn%2Cs%2Ci)%7Bconst%20o%3Dr%5Bn.offset%2B%2B%5D%3Bif(o%3D%3D%3De.OPERATION.CLEAR)return%20t.removeChildRefs(s%2Ci)%2Cvoid%20s.clear()%3Bconst%20a%3Dfe.number(r%2Cn)%2Cc%3Ds%5Bu%5D%3Blet%20h%3B(o%26e.OPERATION.ADD)%3D%3D%3De.OPERATION.ADD%3F%22function%22%3D%3Dtypeof%20s.set%3F(h%3Dfe.string(r%2Cn)%2Cs.setIndex(a%2Ch))%3Ah%3Da%3Ah%3Ds.getIndex(a)%3Bconst%7Bvalue%3Al%2CpreviousValue%3Af%7D%3DPe(t%2Co%2Cs%2Ca%2Cc%2Cr%2Cn%2Ci)%3Bif(null!%3Dl)if(%22function%22%3D%3Dtypeof%20s.set)s.%24items.set(h%2Cl)%3Belse%20if(%22function%22%3D%3Dtypeof%20s.%24setAt)s.%24setAt(a%2Cl%2Co)%3Belse%20if(%22function%22%3D%3Dtypeof%20s.add)%7Bconst%20e%3Ds.add(l)%3B%22number%22%3D%3Dtypeof%20e%26%26s.setIndex(e%2Ce)%7Df!%3D%3Dl%26%26i.push(%7Bref%3As%2CrefId%3At.currentRefId%2Cop%3Ao%2Cfield%3A%22%22%2CdynamicIndex%3Ah%2Cvalue%3Al%2CpreviousValue%3Af%7D)%7D%2C%24e%3Dfunction(t%2Cr%2Cn%2Cs%2Ci)%7Blet%20o%2Ca%3Dr%5Bn.offset%2B%2B%5D%3Bif(a%3D%3D%3De.OPERATION.CLEAR)return%20t.removeChildRefs(s%2Ci)%2Cvoid%20s.clear()%3Bif(a%3D%3D%3De.OPERATION.REVERSE)return%20void%20s.reverse()%3Bif(a%3D%3D%3De.OPERATION.DELETE_BY_REFID)%7Bconst%20a%3Dfe.number(r%2Cn)%2Cc%3Dt.root.refs.get(a)%3Breturn%20o%3Ds.findIndex((e%3D%3Ee%3D%3D%3Dc))%2Cs%5Bh%5D(o)%2Cvoid%20i.push(%7Bref%3As%2CrefId%3At.currentRefId%2Cop%3Ae.OPERATION.DELETE%2Cfield%3A%22%22%2CdynamicIndex%3Ao%2Cvalue%3Avoid%200%2CpreviousValue%3Ac%7D)%7Dif(a%3D%3D%3De.OPERATION.ADD_BY_REFID)%7Bconst%20e%3Dfe.number(r%2Cn)%2Ci%3Dt.root.refs.get(e)%3Bi%26%26(o%3Ds.findIndex((e%3D%3Ee%3D%3D%3Di)))%2C-1!%3D%3Do%26%26void%200!%3D%3Do%7C%7C(o%3Ds.length)%7Delse%20o%3Dfe.number(r%2Cn)%3Bconst%20c%3Ds%5Bu%5D%3Blet%20l%3Do%3Bconst%7Bvalue%3Af%2CpreviousValue%3Ad%7D%3DPe(t%2Ca%2Cs%2Co%2Cc%2Cr%2Cn%2Ci)%3Bnull!%3Df%26%26f!%3D%3Dd%26%26s.%24setAt(o%2Cf%2Ca)%2Cd!%3D%3Df%26%26i.push(%7Bref%3As%2CrefId%3At.currentRefId%2Cop%3Aa%2Cfield%3A%22%22%2CdynamicIndex%3Al%2Cvalue%3Af%2CpreviousValue%3Ad%7D)%7D%3Bclass%20Ne%20extends%20Error%7B%7Dfunction%20Ue(e%2Ct%2Cr%2Cn)%7Blet%20s%2Ci%3D!1%3Bswitch(t)%7Bcase%22number%22%3Acase%22int8%22%3Acase%22uint8%22%3Acase%22int16%22%3Acase%22uint16%22%3Acase%22int32%22%3Acase%22uint32%22%3Acase%22int64%22%3Acase%22uint64%22%3Acase%22float32%22%3Acase%22float64%22%3As%3D%22number%22%2CisNaN(e)%26%26console.log(%60trying%20to%20encode%20%22NaN%22%20in%20%24%7Br.constructor.name%7D%23%24%7Bn%7D%60)%3Bbreak%3Bcase%22bigint64%22%3Acase%22biguint64%22%3As%3D%22bigint%22%3Bbreak%3Bcase%22string%22%3As%3D%22string%22%2Ci%3D!0%3Bbreak%3Bdefault%3Areturn%7Dif(typeof%20e!%3D%3Ds%26%26(!i%7C%7Ci%26%26null!%3D%3De))%7Blet%20t%3D%60'%24%7BJSON.stringify(e)%7D'%24%7Be%26%26e.constructor%26%26%60%20(%24%7Be.constructor.name%7D)%60%7C%7C%22%22%7D%60%3Bthrow%20new%20Ne(%60a%20'%24%7Bs%7D'%20was%20expected%2C%20but%20%24%7Bt%7D%20was%20provided%20in%20%24%7Br.constructor.name%7D%23%24%7Bn%7D%60)%7D%7Dfunction%20Me(e%2Ct%2Cr%2Cn)%7Bif(!(e%20instanceof%20t))throw%20new%20Ne(%60a%20'%24%7Bt.name%7D'%20was%20expected%2C%20but%20'%24%7Be%26%26e.constructor.name%7D'%20was%20provided%20in%20%24%7Br.constructor.name%7D%23%24%7Bn%7D%60)%7Dvar%20je%2CBe%3Bconst%20Le%3D(e%2Ct)%3D%3E%7Bconst%20r%3De.toString()%2Cn%3Dt.toString()%3Breturn%20r%3Cn%3F-1%3Ar%3En%3F1%3A0%7D%3Bclass%20Fe%7Bstatic%7Bthis%5Bje%5D%3DRe%7Dstatic%7Bthis%5BBe%5D%3D%24e%7Dstatic%5B(je%3Di%2CBe%3Do%2Ca)%5D(e%2Ct%2Cr)%7Breturn!r%7C%7C%22string%22%3D%3Dtypeof%20e%5Bu%5D%7C%7Cr.isChangeTreeVisible(e.tmpItems%5Bt%5D%3F.%5Bl%5D)%7Dstatic%20is(e)%7Breturn%20Array.isArray(e)%7C%7Cvoid%200!%3D%3De.array%7Dstatic%20from(e)%7Breturn%20new%20Fe(...Array.from(e))%7Dconstructor(...t)%7Bthis.items%3D%5B%5D%2Cthis.tmpItems%3D%5B%5D%2Cthis.deletedIndexes%3D%7B%7D%2Cthis.isMovingItems%3D!1%2CObject.defineProperty(this%2Cu%2C%7Bvalue%3Avoid%200%2Cenumerable%3A!1%2Cwritable%3A!0%2Cconfigurable%3A!0%7D)%3Bconst%20r%3Dnew%20Proxy(this%2C%7Bget%3A(e%2Ct)%3D%3E%22symbol%22%3D%3Dtypeof%20t%7C%7CisNaN(t)%3FReflect.get(e%2Ct)%3Athis.items%5Bt%5D%2Cset%3A(t%2Cr%2Cn)%3D%3E%7Bif(%22symbol%22%3D%3Dtypeof%20r%7C%7CisNaN(r))return%20Reflect.set(t%2Cr%2Cn)%3Bif(null%3D%3Dn)t.%24deleteAt(r)%3Belse%7Bif(n%5Bl%5D)%7BMe(n%2Ct%5Bu%5D%2Ct%2Cr)%3Bconst%20s%3Dt.items%5Br%5D%3Bt.isMovingItems%3F(void%200!%3D%3Ds%3Fn%5Bl%5D.isNew%3Ft%5Bl%5D.indexedOperation(Number(r)%2Ce.OPERATION.MOVE_AND_ADD)%3A(t%5Bl%5D.getChange(Number(r))%26e.OPERATION.DELETE)%3D%3D%3De.OPERATION.DELETE%3Ft%5Bl%5D.indexedOperation(Number(r)%2Ce.OPERATION.DELETE_AND_MOVE)%3At%5Bl%5D.indexedOperation(Number(r)%2Ce.OPERATION.MOVE)%3An%5Bl%5D.isNew%26%26t%5Bl%5D.indexedOperation(Number(r)%2Ce.OPERATION.ADD)%2Cn%5Bl%5D.setParent(this%2Ct%5Bl%5D.root%2Cr))%3At.%24changeAt(Number(r)%2Cn)%2Cvoid%200!%3D%3Ds%26%26s%5Bl%5D.root%3F.remove(s%5Bl%5D)%7Delse%20t.%24changeAt(Number(r)%2Cn)%3Bt.items%5Br%5D%3Dn%2Ct.tmpItems%5Br%5D%3Dn%7Dreturn!0%7D%2CdeleteProperty%3A(e%2Ct)%3D%3E(%22number%22%3D%3Dtypeof%20t%3Fe.%24deleteAt(t)%3Adelete%20e%5Bt%5D%2C!0)%2Chas%3A(e%2Ct)%3D%3E%22symbol%22%3D%3Dtypeof%20t%7C%7CisNaN(Number(t))%3FReflect.has(e%2Ct)%3AReflect.has(this.items%2Ct)%7D)%3Breturn%20this%5Bl%5D%3Dnew%20Se(r)%2Cthis%5Bl%5D.indexes%3D%7B%7D%2Ct.length%3E0%26%26this.push(...t)%2Cr%7Dset%20length(e)%7B0%3D%3D%3De%3Fthis.clear()%3Ae%3Cthis.items.length%3Fthis.splice(e%2Cthis.length-e)%3Aconsole.warn(%22ArraySchema%3A%20can't%20set%20.length%20to%20a%20higher%20value%20than%20its%20length.%22)%7Dget%20length()%7Breturn%20this.items.length%7Dpush(...t)%7Blet%20r%3Dthis.tmpItems.length%3Bconst%20n%3Dthis%5Bl%5D%3Blet%20s%3D0%3Bfor(t.length%3Bs%3Ct.length%3Bs%2B%2B%2Cr%2B%2B)%7Bconst%20i%3Dt%5Bs%5D%3Bif(null%3D%3Di)return%3B%22object%22%3D%3Dtypeof%20i%26%26this%5Bu%5D%26%26Me(i%2Cthis%5Bu%5D%2Cthis%2Cs)%2Cn.indexedOperation(r%2Ce.OPERATION.ADD%2Cthis.items.length)%2Cthis.items.push(i)%2Cthis.tmpItems.push(i)%2Ci%5Bl%5D%3F.setParent(this%2Cn.root%2Cr)%7Dreturn%20r%7Dpop()%7Blet%20e%3D-1%3Bfor(let%20t%3Dthis.tmpItems.length-1%3Bt%3E%3D0%3Bt--)if(!0!%3D%3Dthis.deletedIndexes%5Bt%5D)%7Be%3Dt%3Bbreak%7Dif(!(e%3C0))return%20this%5Bl%5D.delete(e%2Cvoid%200%2Cthis.items.length-1)%2Cthis.deletedIndexes%5Be%5D%3D!0%2Cthis.items.pop()%7Dat(e)%7Breturn%20e%3C0%26%26(e%2B%3Dthis.length)%2Cthis.items%5Be%5D%7D%24changeAt(t%2Cr)%7Bif(null%3D%3Dr)return%20void%20console.error(%22ArraySchema%20items%20cannot%20be%20null%20nor%20undefined%3B%20Use%20%60deleteAt(index)%60%20instead.%22)%3Bif(this.items%5Bt%5D%3D%3D%3Dr)return%3Bconst%20n%3Dvoid%200!%3D%3Dthis.items%5Bt%5D%3F%22object%22%3D%3Dtypeof%20r%3Fe.OPERATION.DELETE_AND_ADD%3Ae.OPERATION.REPLACE%3Ae.OPERATION.ADD%2Cs%3Dthis%5Bl%5D%3Bs.change(t%2Cn)%2Cr%5Bl%5D%3F.setParent(this%2Cs.root%2Ct)%7D%24deleteAt(e%2Ct)%7Bthis%5Bl%5D.delete(e%2Ct)%7D%24setAt(t%2Cr%2Cn)%7B0%3D%3D%3Dt%26%26n%3D%3D%3De.OPERATION.ADD%26%26void%200!%3D%3Dthis.items%5Bt%5D%3Fthis.items.unshift(r)%3An%3D%3D%3De.OPERATION.DELETE_AND_MOVE%3F(this.items.splice(t%2C1)%2Cthis.items%5Bt%5D%3Dr)%3Athis.items%5Bt%5D%3Dr%7Dclear()%7Bif(0%3D%3D%3Dthis.items.length)return%3Bconst%20t%3Dthis%5Bl%5D%3Bt.forEachChild(((e%2Ct)%3D%3E%7Be.discard(!0)%3Bconst%20r%3De.root%3Bvoid%200!%3D%3Dr%26%26(r.removeChangeFromChangeSet(%22changes%22%2Ce)%2Cr.removeChangeFromChangeSet(%22allChanges%22%2Ce)%2Cr.removeChangeFromChangeSet(%22allFilteredChanges%22%2Ce))%7D))%2Ct.discard(!0)%2Ct.operation(e.OPERATION.CLEAR)%2Cthis.items.length%3D0%2Cthis.tmpItems.length%3D0%7Dconcat(...e)%7Breturn%20new%20Fe(...this.items.concat(...e))%7Djoin(e)%7Breturn%20this.items.join(e)%7Dreverse()%7Breturn%20this%5Bl%5D.operation(e.OPERATION.REVERSE)%2Cthis.items.reverse()%2Cthis.tmpItems.reverse()%2Cthis%7Dshift()%7Bif(0%3D%3D%3Dthis.items.length)return%3Bconst%20t%3Dthis%5Bl%5D%2Cr%3Dthis.tmpItems.findIndex((e%3D%3Ee%3D%3D%3Dthis.items%5B0%5D))%2Cn%3Dthis.items.findIndex((e%3D%3Ee%3D%3D%3Dthis.items%5B0%5D))%3Breturn%20t.delete(r%2Ce.OPERATION.DELETE%2Cn)%2Ct.shiftAllChangeIndexes(-1%2Cn)%2Cthis.items.shift()%7Dslice(e%2Ct)%7Bconst%20r%3Dnew%20Fe%3Breturn%20r.push(...this.items.slice(e%2Ct))%2Cr%7Dsort(t%3DLe)%7Bthis.isMovingItems%3D!0%3Bconst%20r%3Dthis%5Bl%5D%3Breturn%20this.items.sort(t).forEach(((t%2Cn)%3D%3Er.change(n%2Ce.OPERATION.REPLACE)))%2Cthis.tmpItems.sort(t)%2Cthis.isMovingItems%3D!1%2Cthis%7Dsplice(t%2Cr%2C...n)%7Bconst%20s%3Dthis%5Bl%5D%2Ci%3Dthis.items.length%2Co%3Dthis.tmpItems.length%2Ca%3Dn.length%2Cc%3D%5B%5D%3Bfor(let%20e%3D0%3Be%3Co%3Be%2B%2B)!0!%3D%3Dthis.deletedIndexes%5Be%5D%26%26c.push(e)%3Bif(i%3Et)%7Bvoid%200%3D%3D%3Dr%26%26(r%3Di-t)%3Bfor(let%20n%3Dt%3Bn%3Ct%2Br%3Bn%2B%2B)%7Bconst%20t%3Dc%5Bn%5D%3Bs.delete(t%2Ce.OPERATION.DELETE)%2Cthis.deletedIndexes%5Bt%5D%3D!0%7D%7Delse%20r%3D0%3Bif(a%3E0)%7Bif(a%3Er)throw%20console.error(%22Inserting%20more%20elements%20than%20deleting%20during%20ArraySchema%23splice()%22)%2Cnew%20Error(%22ArraySchema%23splice()%3A%20insertCount%20must%20be%20equal%20or%20lower%20than%20deleteCount.%22)%3Bfor(let%20r%3D0%3Br%3Ca%3Br%2B%2B)%7Bconst%20o%3D(c%5Bt%5D%3F%3Fi)%2Br%3Bs.indexedOperation(o%2Cthis.deletedIndexes%5Bo%5D%3Fe.OPERATION.DELETE_AND_ADD%3Ae.OPERATION.ADD)%2Cn%5Br%5D%5Bl%5D%3F.setParent(this%2Cs.root%2Co)%7D%7Dreturn%20r%3Ea%26%26s.shiftAllChangeIndexes(-(r-a)%2Cc%5Bt%2Ba%5D)%2Cvoid%200!%3D%3Ds.filteredChanges%3FAe(s.root%2Cs%2C%22filteredChanges%22)%3AAe(s.root%2Cs%2C%22changes%22)%2Cthis.items.splice(t%2Cr%2C...n)%7Dunshift(...t)%7Bconst%20r%3Dthis%5Bl%5D%3Breturn%20r.shiftChangeIndexes(t.length)%2Cr.isFiltered%3FOe(r.filteredChanges%2Cthis.items.length)%3AOe(r.allChanges%2Cthis.items.length)%2Ct.forEach(((t%2Cn)%3D%3E%7Br.change(n%2Ce.OPERATION.ADD)%7D))%2Cthis.tmpItems.unshift(...t)%2Cthis.items.unshift(...t)%7DindexOf(e%2Ct)%7Breturn%20this.items.indexOf(e%2Ct)%7DlastIndexOf(e%2Ct%3Dthis.length-1)%7Breturn%20this.items.lastIndexOf(e%2Ct)%7Devery(e%2Ct)%7Breturn%20this.items.every(e%2Ct)%7Dsome(e%2Ct)%7Breturn%20this.items.some(e%2Ct)%7DforEach(e%2Ct)%7Breturn%20this.items.forEach(e%2Ct)%7Dmap(e%2Ct)%7Breturn%20this.items.map(e%2Ct)%7Dfilter(e%2Ct)%7Breturn%20this.items.filter(e%2Ct)%7Dreduce(e%2Ct)%7Breturn%20this.items.reduce(e%2Ct)%7DreduceRight(e%2Ct)%7Breturn%20this.items.reduceRight(e%2Ct)%7Dfind(e%2Ct)%7Breturn%20this.items.find(e%2Ct)%7DfindIndex(e%2Ct)%7Breturn%20this.items.findIndex(e%2Ct)%7Dfill(e%2Ct%2Cr)%7Bthrow%20new%20Error(%22ArraySchema%23fill()%20not%20implemented%22)%7DcopyWithin(e%2Ct%2Cr)%7Bthrow%20new%20Error(%22ArraySchema%23copyWithin()%20not%20implemented%22)%7DtoString()%7Breturn%20this.items.toString()%7DtoLocaleString()%7Breturn%20this.items.toLocaleString()%7D%5BSymbol.iterator%5D()%7Breturn%20this.items%5BSymbol.iterator%5D()%7Dstatic%20get%5BSymbol.species%5D()%7Breturn%20Fe%7Dentries()%7Breturn%20this.items.entries()%7Dkeys()%7Breturn%20this.items.keys()%7Dvalues()%7Breturn%20this.items.values()%7Dincludes(e%2Ct)%7Breturn%20this.items.includes(e%2Ct)%7DflatMap(e%2Ct)%7Bthrow%20new%20Error(%22ArraySchema%23flatMap()%20is%20not%20supported.%22)%7Dflat(e)%7Bthrow%20new%20Error(%22ArraySchema%23flat()%20is%20not%20supported.%22)%7DfindLast()%7Breturn%20this.items.findLast.apply(this.items%2Carguments)%7DfindLastIndex(...e)%7Breturn%20this.items.findLastIndex.apply(this.items%2Carguments)%7Dwith(e%2Ct)%7Bconst%20r%3Dthis.items.slice()%3Breturn%20e%3C0%26%26(e%2B%3Dthis.length)%2Cr%5Be%5D%3Dt%2Cnew%20Fe(...r)%7DtoReversed()%7Breturn%20this.items.slice().reverse()%7DtoSorted(e)%7Breturn%20this.items.slice().sort(e)%7DtoSpliced(e%2Ct%2C...r)%7Breturn%20this.items.toSpliced.apply(copy%2Carguments)%7Dshuffle()%7Breturn%20this.move((e%3D%3E%7Blet%20t%3Dthis.items.length%3Bfor(%3B0!%3Dt%3B)%7Blet%20e%3DMath.floor(Math.random()*t)%3Bt--%2C%5Bthis%5Bt%5D%2Cthis%5Be%5D%5D%3D%5Bthis%5Be%5D%2Cthis%5Bt%5D%5D%7D%7D))%7Dmove(e)%7Breturn%20this.isMovingItems%3D!0%2Ce(this)%2Cthis.isMovingItems%3D!1%2Cthis%7D%5Bc%5D(e%2Ct%3D!1)%7Breturn%20t%7C%7Cthis.deletedIndexes%5Be%5D%3Fthis.items%5Be%5D%3Athis.tmpItems%5Be%5D%7C%7Cthis.items%5Be%5D%7D%5Bh%5D(e)%7Bthis.items%5Be%5D%3Dvoid%200%2Cthis.tmpItems%5Be%5D%3Dvoid%200%7D%5Bf%5D()%7Bthis.tmpItems%3Dthis.items.slice()%2Cthis.deletedIndexes%3D%7B%7D%7D%5Bd%5D()%7Bthis.items%3Dthis.items.filter((e%3D%3Evoid%200!%3D%3De))%2Cthis.tmpItems%3Dthis.items.slice()%7DtoArray()%7Breturn%20this.items.slice(0)%7DtoJSON()%7Breturn%20this.toArray().map((e%3D%3E%22function%22%3D%3Dtypeof%20e.toJSON%3Fe.toJSON()%3Ae))%7Dclone(e)%7Blet%20t%3Breturn%20e%3F(t%3Dnew%20Fe%2Ct.push(...this.items))%3At%3Dnew%20Fe(...this.map((e%3D%3Ee%5Bl%5D%3Fe.clone()%3Ae)))%2Ct%7D%7Dvar%20Ve%2Cze%3Bge(%22array%22%2C%7Bconstructor%3AFe%7D)%3Bclass%20We%7Bstatic%7Bthis%5BVe%5D%3DCe%7Dstatic%7Bthis%5Bze%5D%3Dke%7Dstatic%5B(Ve%3Di%2Cze%3Do%2Ca)%5D(e%2Ct%2Cr)%7Breturn!r%7C%7C%22string%22%3D%3Dtypeof%20e%5Bu%5D%7C%7Cr.isChangeTreeVisible((e%5Bc%5D(t)%3F%3Fe.deletedItems%5Bt%5D)%5Bl%5D)%7Dstatic%20is(e)%7Breturn%20void%200!%3D%3De.map%7Dconstructor(e)%7Bif(this.%24items%3Dnew%20Map%2Cthis.%24indexes%3Dnew%20Map%2Cthis.deletedItems%3D%7B%7D%2Cthis%5Bl%5D%3Dnew%20Se(this)%2Cthis%5Bl%5D.indexes%3D%7B%7D%2Ce)if(e%20instanceof%20Map%7C%7Ce%20instanceof%20We)e.forEach(((e%2Ct)%3D%3Ethis.set(t%2Ce)))%3Belse%20for(const%20t%20in%20e)this.set(t%2Ce%5Bt%5D)%3BObject.defineProperty(this%2Cu%2C%7Bvalue%3Avoid%200%2Cenumerable%3A!1%2Cwritable%3A!0%2Cconfigurable%3A!0%7D)%7D%5BSymbol.iterator%5D()%7Breturn%20this.%24items%5BSymbol.iterator%5D()%7Dget%5BSymbol.toStringTag%5D()%7Breturn%20this.%24items%5BSymbol.toStringTag%5D%7Dstatic%20get%5BSymbol.species%5D()%7Breturn%20We%7Dset(t%2Cr)%7Bif(null%3D%3Dr)throw%20new%20Error(%60MapSchema%23set('%24%7Bt%7D'%2C%20%24%7Br%7D)%3A%20trying%20to%20set%20%24%7Br%7D%20value%20on%20'%24%7Bt%7D'.%60)%3B%22object%22%3D%3Dtypeof%20r%26%26this%5Bu%5D%26%26Me(r%2Cthis%5Bu%5D%2Cthis%2Ct)%2Ct%3Dt.toString()%3Bconst%20n%3Dthis%5Bl%5D%2Cs%3Dvoid%200!%3D%3Dr%5Bl%5D%3Blet%20i%2Co%3Bif(void%200!%3D%3Dn.indexes%5Bt%5D)%7Bi%3Dn.indexes%5Bt%5D%2Co%3De.OPERATION.REPLACE%3Bconst%20a%3Dthis.%24items.get(t)%3Bif(a%3D%3D%3Dr)return%3Bs%26%26(o%3De.OPERATION.DELETE_AND_ADD%2Cvoid%200!%3D%3Da%26%26a%5Bl%5D.root%3F.remove(a%5Bl%5D))%7Delse%20i%3Dn.indexes%5Bg%5D%3F%3F0%2Co%3De.OPERATION.ADD%2Cthis.%24indexes.set(i%2Ct)%2Cn.indexes%5Bt%5D%3Di%2Cn.indexes%5Bg%5D%3Di%2B1%3Breturn%20this.%24items.set(t%2Cr)%2Cn.change(i%2Co)%2Cs%26%26r%5Bl%5D.setParent(this%2Cn.root%2Ci)%2Cthis%7Dget(e)%7Breturn%20this.%24items.get(e)%7Ddelete(e)%7Bconst%20t%3Dthis%5Bl%5D.indexes%5Be%5D%3Breturn%20this.deletedItems%5Bt%5D%3Dthis%5Bl%5D.delete(t)%2Cthis.%24items.delete(e)%7Dclear()%7Bconst%20t%3Dthis%5Bl%5D%3Bt.discard(!0)%2Ct.indexes%3D%7B%7D%2Cthis.%24indexes.clear()%2Cthis.%24items.clear()%2Ct.operation(e.OPERATION.CLEAR)%7Dhas(e)%7Breturn%20this.%24items.has(e)%7DforEach(e)%7Bthis.%24items.forEach(e)%7Dentries()%7Breturn%20this.%24items.entries()%7Dkeys()%7Breturn%20this.%24items.keys()%7Dvalues()%7Breturn%20this.%24items.values()%7Dget%20size()%7Breturn%20this.%24items.size%7DsetIndex(e%2Ct)%7Bthis.%24indexes.set(e%2Ct)%7DgetIndex(e)%7Breturn%20this.%24indexes.get(e)%7D%5Bc%5D(e)%7Breturn%20this.%24items.get(this.%24indexes.get(e))%7D%5Bh%5D(e)%7Bconst%20t%3Dthis.%24indexes.get(e)%3Bthis.%24items.delete(t)%2Cthis.%24indexes.delete(e)%7D%5Bf%5D()%7Bthis.deletedItems%3D%7B%7D%7DtoJSON()%7Bconst%20e%3D%7B%7D%3Breturn%20this.forEach(((t%2Cr)%3D%3E%7Be%5Br%5D%3D%22function%22%3D%3Dtypeof%20t.toJSON%3Ft.toJSON()%3At%7D))%2Ce%7Dclone(e)%7Blet%20t%3Breturn%20e%3Ft%3DObject.assign(new%20We%2Cthis)%3A(t%3Dnew%20We%2Cthis.forEach(((e%2Cr)%3D%3E%7Be%5Bl%5D%3Ft.set(r%2Ce.clone())%3At.set(r%2Ce)%7D)))%2Ct%7D%7Dge(%22map%22%2C%7Bconstructor%3AWe%7D)%3Bconst%20He%3D-1%3Bfunction%20qe(e)%7Breturn%20be.register(e)%2Ce%7Dfunction%20Je(e%3DHe)%7Breturn%20function(t%2Cr)%7Bconst%20n%3Dt.constructor%2Cs%3DObject.getPrototypeOf(n)%5BSymbol.metadata%5D%2Ci%3Dn%5BSymbol.metadata%5D%3F%3F%3DObject.assign(%7B%7D%2Cn%5BSymbol.metadata%5D%2Cs%3F%3FObject.create(null))%3Bve.setTag(i%2Cr%2Ce)%7D%7Dfunction%20Ge(e%2Ct)%7Breturn%20function(r%2Cn)%7Bconst%20s%3Dr.constructor%3Bif(!e)throw%20new%20Error(%60%24%7Bs.name%7D%3A%20%40type()%20reference%20provided%20for%20%22%24%7Bn%7D%22%20is%20undefined.%20Make%20sure%20you%20don't%20have%20any%20circular%20dependencies.%60)%3Bbe.register(s)%3Bconst%20i%3DObject.getPrototypeOf(s)%5BSymbol.metadata%5D%2Co%3Dve.initialize(s)%3Blet%20a%3Do%5Bn%5D%3Bif(void%200!%3D%3Do%5Ba%5D)%7Bif(o%5Ba%5D.deprecated)return%3Bif(void%200!%3D%3Do%5Ba%5D.type)try%7Bthrow%20new%20Error(%60%40colyseus%2Fschema%3A%20Duplicate%20'%24%7Bn%7D'%20definition%20on%20'%24%7Bs.name%7D'.%5CnCheck%20%40type()%20annotation%60)%7Dcatch(e)%7Bconst%20t%3De.stack.split(%22%5Cn%22)%5B4%5D.trim()%3Bthrow%20new%20Error(%60%24%7Be.message%7D%20%24%7Bt%7D%60)%7D%7Delse%20a%3Do%5Bg%5D%3F%3F(i%26%26i%5Bg%5D)%3F%3F-1%2Ca%2B%2B%3Bif(t%26%26t.manual)ve.addField(o%2Ca%2Cn%2Ce%2C%7Benumerable%3A!0%2Cconfigurable%3A!0%2Cwritable%3A!0%7D)%3Belse%7Bconst%20t%3DArray.isArray(e)%3Fye(%22array%22)%3A%22string%22%3D%3Dtypeof%20Object.keys(e)%5B0%5D%26%26ye(Object.keys(e)%5B0%5D)%2Cr%3Dt%3FObject.values(e)%5B0%5D%3Ae%3Bve.addField(o%2Ca%2Cn%2Ce%2CKe(%60_%24%7Bn%7D%60%2Ca%2Cr%2Ct))%7D%7D%7Dfunction%20Ke(t%2Cr%2Cn%2Ci)%7Breturn%7Bget%3Afunction()%7Breturn%20this%5Bt%5D%7D%2Cset%3Afunction(o)%7Bconst%20a%3Dthis%5Bt%5D%3F%3Fvoid%200%3Bif(o!%3D%3Da)%7Bif(null!%3Do)%7Bi%3F(i.constructor!%3D%3DFe%7C%7Co%20instanceof%20Fe%7C%7C(o%3Dnew%20Fe(...o))%2Ci.constructor!%3D%3DWe%7C%7Co%20instanceof%20We%7C%7C(o%3Dnew%20We(o))%2Co%5Bu%5D%3Dn)%3A%22string%22!%3Dtypeof%20n%3FMe(o%2Cn%2Cthis%2Ct.substring(1))%3AUe(o%2Cn%2Cthis%2Ct.substring(1))%3Bconst%20c%3Dthis%5Bl%5D%3Bvoid%200!%3D%3Da%26%26a%5Bl%5D%3F(c.root%3F.remove(a%5Bl%5D)%2Cthis.constructor%5Bs%5D(c%2Cr%2Ce.OPERATION.DELETE_AND_ADD))%3Athis.constructor%5Bs%5D(c%2Cr%2Ce.OPERATION.ADD)%2Co%5Bl%5D%3F.setParent(this%2Cc.root%2Cr)%7Delse%20void%200!%3D%3Da%26%26this%5Bl%5D.delete(r)%3Bthis%5Bt%5D%3Do%7D%7D%2Cenumerable%3A!0%2Cconfigurable%3A!0%7D%7Dfunction%20Ye(e%3D!0)%7Breturn%20function(t%2Cr)%7Bconst%20n%3Dt.constructor%2Cs%3DObject.getPrototypeOf(n)%5BSymbol.metadata%5D%2Ci%3Dn%5BSymbol.metadata%5D%3F%3F%3DObject.assign(%7B%7D%2Cn%5BSymbol.metadata%5D%2Cs%3F%3FObject.create(null))%2Co%3Di%5Br%5D%3Bi%5Bo%5D.deprecated%3D!0%2Ce%26%26(i%5Bp%5D%3F%3F%3D%7B%7D%2Ci%5Bp%5D%5Br%5D%3D%7Bget%3Afunction()%7Bthrow%20new%20Error(%60%24%7Br%7D%20is%20deprecated.%60)%7D%2Cset%3Afunction(e)%7B%7D%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%2CObject.defineProperty(i%2Co%2C%7Bvalue%3Ai%5Bo%5D%2Cenumerable%3A!1%2Cconfigurable%3A!0%7D)%7D%7Dfunction%20Xe(e%2Ct%2Cr)%7Bfor(let%20n%20in%20t)Ge(t%5Bn%5D%2Cr)(e.prototype%2Cn)%3Breturn%20e%7Dfunction%20Ze(e%2Ct%2Cr%3Dat)%7Bconst%20n%3D%7B%7D%2Cs%3D%7B%7D%3Bfor(let%20t%20in%20e)%7Bconst%20r%3De%5Bt%5D%3B%22object%22%3D%3Dtypeof%20r%26%26(void%200!%3D%3Dr.default%26%26(n%5Bt%5D%3Dr.default)%2Cvoid%200!%3D%3Dr.view%26%26(s%5Bt%5D%3D%22boolean%22%3D%3Dtypeof%20r.view%3FHe%3Ar.view))%7Dconst%20i%3Dve.setFields(class%20extends%20r%7Bconstructor(...e)%7Be%5B0%5D%3DObject.assign(%7B%7D%2Cn%2Ce%5B0%5D)%2Csuper(...e)%7D%7D%2Ce)%3Bfor(let%20e%20in%20s)Je(s%5Be%5D)(i.prototype%2Ce)%3Breturn%20t%26%26Object.defineProperty(i%2C%22name%22%2C%7Bvalue%3At%7D)%2Ci.extends%3D(e%2Ct)%3D%3EZe(e%2Ct%2Ci)%2Ci%7Dfunction%20Qe(e)%7Breturn%20new%20Array(e).fill(0).map(((t%2Cr)%3D%3Er%3D%3D%3De-1%3F%22%E2%94%94%E2%94%80%20%22%3A%22%20%20%20%22)).join(%22%22)%7Dfunction%20et(t)%7Bconst%20r%3Dt%5Bl%5D.root%2Cn%3D%7Bops%3A%7B%7D%2Crefs%3A%5B%5D%7D%3Breturn%20r.changes.forEach((t%3D%3E%7Bif(void%200%3D%3D%3Dt)return%3Bconst%20r%3Dt.indexedOperations%3Bn.refs.push(%60refId%23%24%7Bt.refId%7D%60)%3Bfor(const%20t%20in%20r)%7Bconst%20s%3Dr%5Bt%5D%2Ci%3De.OPERATION%5Bs%5D%3Bn.ops%5Bi%5D%7C%7C(n.ops%5Bi%5D%3D0)%2Cn.ops%5Be.OPERATION%5Bs%5D%5D%2B%2B%7D%7D))%2Cn%7Dvar%20tt%2Crt%2Cnt%2Cst%2Cit%2Cot%3Bclass%20at%7Bstatic%7Bthis%5Btt%5D%3D_e%7Dstatic%7Bthis%5Brt%5D%3DDe%7Dstatic%20initialize(e)%7BObject.defineProperty(e%2Cl%2C%7Bvalue%3Anew%20Se(e)%2Cenumerable%3A!1%2Cwritable%3A!0%7D)%2CObject.defineProperties(e%2Ce.constructor%5BSymbol.metadata%5D%3F.%5Bp%5D%7C%7C%7B%7D)%7Dstatic%20is(e)%7Breturn%22object%22%3D%3Dtypeof%20e%5BSymbol.metadata%5D%7Dstatic%5B(tt%3Di%2Crt%3Do%2Cs)%5D(t%2Cr%2Cn%3De.OPERATION.ADD)%7Bt.change(r%2Cn)%7Dstatic%5Ba%5D(e%2Ct%2Cr)%7Bconst%20n%3De.constructor%5BSymbol.metadata%5D%2Cs%3Dn%5Bt%5D%3F.tag%3Bif(void%200%3D%3D%3Dr)return%20void%200%3D%3D%3Ds%3Bif(void%200%3D%3D%3Ds)return!0%3Bif(s%3D%3D%3DHe)return%20r.isChangeTreeVisible(e%5Bl%5D)%3B%7Bconst%20t%3Dr.tags%3F.get(e%5Bl%5D)%3Breturn%20t%26%26t.has(s)%7D%7Dconstructor(...e)%7Bat.initialize(this)%2Ce%5B0%5D%26%26Object.assign(this%2Ce%5B0%5D)%7Dassign(e)%7Breturn%20Object.assign(this%2Ce)%2Cthis%7DsetDirty(e%2Ct)%7Bconst%20r%3Dthis.constructor%5BSymbol.metadata%5D%3Bthis%5Bl%5D.change(r%5Br%5Be%5D%5D.index%2Ct)%7Dclone()%7Bconst%20e%3Dnew%20this.constructor%2Ct%3Dthis.constructor%5BSymbol.metadata%5D%3Bfor(const%20r%20in%20t)%7Bconst%20n%3Dt%5Br%5D.name%3B%22object%22%3D%3Dtypeof%20this%5Bn%5D%26%26%22function%22%3D%3Dtypeof%20this%5Bn%5D%3F.clone%3Fe%5Bn%5D%3Dthis%5Bn%5D.clone()%3Ae%5Bn%5D%3Dthis%5Bn%5D%7Dreturn%20e%7DtoJSON()%7Bconst%20e%3D%7B%7D%2Ct%3Dthis.constructor%5BSymbol.metadata%5D%3Bfor(const%20r%20in%20t)%7Bconst%20n%3Dt%5Br%5D%2Cs%3Dn.name%3Bn.deprecated%7C%7Cnull%3D%3D%3Dthis%5Bs%5D%7C%7Cvoid%200%3D%3D%3Dthis%5Bs%5D%7C%7C(e%5Bs%5D%3D%22function%22%3D%3Dtypeof%20this%5Bs%5D.toJSON%3Fthis%5Bs%5D.toJSON()%3Athis%5Bs%5D)%7Dreturn%20e%7DdiscardAllChanges()%7Bthis%5Bl%5D.discardAll()%7D%5Bc%5D(e)%7Breturn%20this%5Bthis.constructor%5BSymbol.metadata%5D%5Be%5D.name%5D%7D%5Bh%5D(e)%7Bthis%5Bthis.constructor%5BSymbol.metadata%5D%5Be%5D.name%5D%3Dvoid%200%7Dstatic%20debugRefIds(e%2Ct%3D!1%2Cr%3D0)%7Bconst%20n%3Dt%3F%60%20-%20%24%7BJSON.stringify(e.toJSON())%7D%60%3A%22%22%2Cs%3De%5Bl%5D%2Ci%3Ds.refId%3Blet%20o%3D%22%22%3Breturn%20o%2B%3D%60%24%7BQe(r)%7D%24%7Be.constructor.name%7D%20(refId%3A%20%24%7Bi%7D)%24%7Bn%7D%5Cn%60%2Cs.forEachChild((e%3D%3Eo%2B%3Dthis.debugRefIds(e.ref%2Ct%2Cr%2B1)))%2Co%7Dstatic%20debugChanges(t%2Cr%3D!1)%7Bconst%20n%3Dt%5Bl%5D%2Cs%3Dr%3Fn.allChanges%3An.changes%2Ci%3Dr%3F%22allChanges%22%3A%22changes%22%3Blet%20o%3D%60%24%7Bt.constructor.name%7D%20(%24%7Bn.refId%7D)%20-%3E%20.%24%7Bi%7D%3A%5Cn%60%3Bfunction%20a(t)%7Bt.operations.filter((e%3D%3Ee)).forEach((t%3D%3E%7Bconst%20s%3Dn.indexedOperations%5Bt%5D%3Bconsole.log(%7Bindex%3At%2Coperation%3As%7D)%2Co%2B%3D%60-%20%5B%24%7Bt%7D%5D%3A%20%24%7Be.OPERATION%5Bs%5D%7D%20(%24%7BJSON.stringify(n.getValue(Number(t)%2Cr))%7D)%5Cn%60%7D))%7Dreturn%20a(s)%2C!r%26%26n.filteredChanges%26%26n.filteredChanges.operations.filter((e%3D%3Ee)).length%3E0%26%26(o%2B%3D%60%24%7Bt.constructor.name%7D%20(%24%7Bn.refId%7D)%20-%3E%20.filteredChanges%3A%5Cn%60%2Ca(n.filteredChanges))%2Cr%26%26n.allFilteredChanges%26%26n.allFilteredChanges.operations.filter((e%3D%3Ee)).length%3E0%26%26(o%2B%3D%60%24%7Bt.constructor.name%7D%20(%24%7Bn.refId%7D)%20-%3E%20.allFilteredChanges%3A%5Cn%60%2Ca(n.allFilteredChanges))%2Co%7Dstatic%20debugChangesDeep(t%2Cr%3D%22changes%22)%7Blet%20n%3D%22%22%3Bconst%20s%3Dt%5Bl%5D%2Ci%3Ds.root%2Co%3Dnew%20Map%2Ca%3D%5B%5D%3Blet%20c%3D0%3Bfor(const%5Be%2Cn%5Dof%20Object.entries(i%5Br%5D))%7Bconst%20r%3Di.changeTrees%5Be%5D%3Blet%20h%3D!1%2Cu%3D%5B%5D%2Cf%3Dr.parent%3F.%5Bl%5D%3Bif(r%3D%3D%3Ds)h%3D!0%3Belse%20for(%3Bvoid%200!%3D%3Df%3B)%7Bif(u.push(f)%2Cf.ref%3D%3D%3Dt)%7Bh%3D!0%3Bbreak%7Df%3Df.parent%3F.%5Bl%5D%7Dh%26%26(a.push(r.refId)%2Cc%2B%3DObject.keys(n).length%2Co.set(r%2Cu.reverse()))%7Dn%2B%3D%22---%5Cn%22%2Cn%2B%3D%60root%20refId%3A%20%24%7Bs.refId%7D%5Cn%60%2Cn%2B%3D%60Total%20instances%3A%20%24%7Ba.length%7D%20(refIds%3A%20%24%7Ba.join(%22%2C%20%22)%7D)%5Cn%60%2Cn%2B%3D%60Total%20changes%3A%20%24%7Bc%7D%5Cn%60%2Cn%2B%3D%22---%5Cn%22%3Bconst%20h%3Dnew%20WeakSet%3Bfor(const%5Bt%2Cr%5Dof%20o.entries())%7Br.forEach(((e%2Ct)%3D%3E%7Bh.has(e)%7C%7C(n%2B%3D%60%24%7BQe(t)%7D%24%7Be.ref.constructor.name%7D%20(refId%3A%20%24%7Be.refId%7D)%5Cn%60%2Ch.add(e))%7D))%3Bconst%20s%3Dt.indexedOperations%2Ci%3Dr.length%2Co%3DQe(i)%2Ca%3Di%3E0%3F%60(%24%7Bt.parentIndex%7D)%20%60%3A%22%22%3Bn%2B%3D%60%24%7Bo%7D%24%7Ba%7D%24%7Bt.ref.constructor.name%7D%20(refId%3A%20%24%7Bt.refId%7D)%20-%20changes%3A%20%24%7BObject.keys(s).length%7D%5Cn%60%3Bfor(const%20t%20in%20s)%7Bconst%20r%3Ds%5Bt%5D%3Bn%2B%3D%60%24%7BQe(i%2B1)%7D%24%7Be.OPERATION%5Br%5D%7D%3A%20%24%7Bt%7D%5Cn%60%7D%7Dreturn%60%24%7Bn%7D%60%7D%7Dclass%20ct%7Bstatic%7Bthis%5Bnt%5D%3DCe%7Dstatic%7Bthis%5Bst%5D%3Dke%7Dstatic%5B(nt%3Di%2Cst%3Do%2Ca)%5D(e%2Ct%2Cr)%7Breturn!r%7C%7C%22string%22%3D%3Dtypeof%20e%5Bu%5D%7C%7Cr.isChangeTreeVisible((e%5Bc%5D(t)%3F%3Fe.deletedItems%5Bt%5D)%5Bl%5D)%7Dstatic%20is(e)%7Breturn%20void%200!%3D%3De.collection%7Dconstructor(e)%7Bthis.%24items%3Dnew%20Map%2Cthis.%24indexes%3Dnew%20Map%2Cthis.deletedItems%3D%7B%7D%2Cthis.%24refId%3D0%2Cthis%5Bl%5D%3Dnew%20Se(this)%2Cthis%5Bl%5D.indexes%3D%7B%7D%2Ce%26%26e.forEach((e%3D%3Ethis.add(e)))%2CObject.defineProperty(this%2Cu%2C%7Bvalue%3Avoid%200%2Cenumerable%3A!1%2Cwritable%3A!0%2Cconfigurable%3A!0%7D)%7Dadd(e)%7Bconst%20t%3Dthis.%24refId%2B%2B%3Breturn%20void%200!%3D%3De%5Bl%5D%26%26e%5Bl%5D.setParent(this%2Cthis%5Bl%5D.root%2Ct)%2Cthis%5Bl%5D.indexes%5Bt%5D%3Dt%2Cthis.%24indexes.set(t%2Ct)%2Cthis.%24items.set(t%2Ce)%2Cthis%5Bl%5D.change(t)%2Ct%7Dat(e)%7Bconst%20t%3DArray.from(this.%24items.keys())%5Be%5D%3Breturn%20this.%24items.get(t)%7Dentries()%7Breturn%20this.%24items.entries()%7Ddelete(e)%7Bconst%20t%3Dthis.%24items.entries()%3Blet%20r%2Cn%3Bfor(%3B(n%3Dt.next())%26%26!n.done%3B)if(e%3D%3D%3Dn.value%5B1%5D)%7Br%3Dn.value%5B0%5D%3Bbreak%7Dreturn%20void%200!%3D%3Dr%26%26(this.deletedItems%5Br%5D%3Dthis%5Bl%5D.delete(r)%2Cthis.%24indexes.delete(r)%2Cthis.%24items.delete(r))%7Dclear()%7Bconst%20t%3Dthis%5Bl%5D%3Bt.discard(!0)%2Ct.indexes%3D%7B%7D%2Cthis.%24indexes.clear()%2Cthis.%24items.clear()%2Ct.operation(e.OPERATION.CLEAR)%7Dhas(e)%7Breturn%20Array.from(this.%24items.values()).some((t%3D%3Et%3D%3D%3De))%7DforEach(e)%7Bthis.%24items.forEach(((t%2Cr%2Cn)%3D%3Ee(t%2Cr%2Cthis)))%7Dvalues()%7Breturn%20this.%24items.values()%7Dget%20size()%7Breturn%20this.%24items.size%7D%5BSymbol.iterator%5D()%7Breturn%20this.%24items.values()%7DsetIndex(e%2Ct)%7Bthis.%24indexes.set(e%2Ct)%7DgetIndex(e)%7Breturn%20this.%24indexes.get(e)%7D%5Bc%5D(e)%7Breturn%20this.%24items.get(this.%24indexes.get(e))%7D%5Bh%5D(e)%7Bconst%20t%3Dthis.%24indexes.get(e)%3Bthis.%24items.delete(t)%2Cthis.%24indexes.delete(e)%7D%5Bf%5D()%7Bthis.deletedItems%3D%7B%7D%7DtoArray()%7Breturn%20Array.from(this.%24items.values())%7DtoJSON()%7Bconst%20e%3D%5B%5D%3Breturn%20this.forEach(((t%2Cr)%3D%3E%7Be.push(%22function%22%3D%3Dtypeof%20t.toJSON%3Ft.toJSON()%3At)%7D))%2Ce%7Dclone(e)%7Blet%20t%3Breturn%20e%3Ft%3DObject.assign(new%20ct%2Cthis)%3A(t%3Dnew%20ct%2Cthis.forEach((e%3D%3E%7Be%5Bl%5D%3Ft.add(e.clone())%3At.add(e)%7D)))%2Ct%7D%7Dge(%22collection%22%2C%7Bconstructor%3Act%7D)%3Bclass%20ht%7Bstatic%7Bthis%5Bit%5D%3DCe%7Dstatic%7Bthis%5Bot%5D%3Dke%7Dstatic%5B(it%3Di%2Cot%3Do%2Ca)%5D(e%2Ct%2Cr)%7Breturn!r%7C%7C%22string%22%3D%3Dtypeof%20e%5Bu%5D%7C%7Cr.visible.has((e%5Bc%5D(t)%3F%3Fe.deletedItems%5Bt%5D)%5Bl%5D)%7Dstatic%20is(e)%7Breturn%20void%200!%3D%3De.set%7Dconstructor(e)%7Bthis.%24items%3Dnew%20Map%2Cthis.%24indexes%3Dnew%20Map%2Cthis.deletedItems%3D%7B%7D%2Cthis.%24refId%3D0%2Cthis%5Bl%5D%3Dnew%20Se(this)%2Cthis%5Bl%5D.indexes%3D%7B%7D%2Ce%26%26e.forEach((e%3D%3Ethis.add(e)))%2CObject.defineProperty(this%2Cu%2C%7Bvalue%3Avoid%200%2Cenumerable%3A!1%2Cwritable%3A!0%2Cconfigurable%3A!0%7D)%7Dadd(t)%7Bif(this.has(t))return!1%3Bconst%20r%3Dthis.%24refId%2B%2B%3Bvoid%200!%3D%3Dt%5Bl%5D%26%26t%5Bl%5D.setParent(this%2Cthis%5Bl%5D.root%2Cr)%3Bconst%20n%3Dthis%5Bl%5D.indexes%5Br%5D%3F.op%3F%3Fe.OPERATION.ADD%3Breturn%20this%5Bl%5D.indexes%5Br%5D%3Dr%2Cthis.%24indexes.set(r%2Cr)%2Cthis.%24items.set(r%2Ct)%2Cthis%5Bl%5D.change(r%2Cn)%2Cr%7Dentries()%7Breturn%20this.%24items.entries()%7Ddelete(e)%7Bconst%20t%3Dthis.%24items.entries()%3Blet%20r%2Cn%3Bfor(%3B(n%3Dt.next())%26%26!n.done%3B)if(e%3D%3D%3Dn.value%5B1%5D)%7Br%3Dn.value%5B0%5D%3Bbreak%7Dreturn%20void%200!%3D%3Dr%26%26(this.deletedItems%5Br%5D%3Dthis%5Bl%5D.delete(r)%2Cthis.%24indexes.delete(r)%2Cthis.%24items.delete(r))%7Dclear()%7Bconst%20t%3Dthis%5Bl%5D%3Bt.discard(!0)%2Ct.indexes%3D%7B%7D%2Cthis.%24indexes.clear()%2Cthis.%24items.clear()%2Ct.operation(e.OPERATION.CLEAR)%7Dhas(e)%7Bconst%20t%3Dthis.%24items.values()%3Blet%20r%2Cn%3D!1%3Bfor(%3B(r%3Dt.next())%26%26!r.done%3B)if(e%3D%3D%3Dr.value)%7Bn%3D!0%3Bbreak%7Dreturn%20n%7DforEach(e)%7Bthis.%24items.forEach(((t%2Cr%2Cn)%3D%3Ee(t%2Cr%2Cthis)))%7Dvalues()%7Breturn%20this.%24items.values()%7Dget%20size()%7Breturn%20this.%24items.size%7D%5BSymbol.iterator%5D()%7Breturn%20this.%24items.values()%7DsetIndex(e%2Ct)%7Bthis.%24indexes.set(e%2Ct)%7DgetIndex(e)%7Breturn%20this.%24indexes.get(e)%7D%5Bc%5D(e)%7Breturn%20this.%24items.get(this.%24indexes.get(e))%7D%5Bh%5D(e)%7Bconst%20t%3Dthis.%24indexes.get(e)%3Bthis.%24items.delete(t)%2Cthis.%24indexes.delete(e)%7D%5Bf%5D()%7Bthis.deletedItems%3D%7B%7D%7DtoArray()%7Breturn%20Array.from(this.%24items.values())%7DtoJSON()%7Bconst%20e%3D%5B%5D%3Breturn%20this.forEach(((t%2Cr)%3D%3E%7Be.push(%22function%22%3D%3Dtypeof%20t.toJSON%3Ft.toJSON()%3At)%7D))%2Ce%7Dclone(e)%7Blet%20t%3Breturn%20e%3Ft%3DObject.assign(new%20ht%2Cthis)%3A(t%3Dnew%20ht%2Cthis.forEach((e%3D%3E%7Be%5Bl%5D%3Ft.add(e.clone())%3At.add(e)%7D)))%2Ct%7D%7Dfunction%20lt(e%2Ct%2Cr%2Cn)%7Bvar%20s%2Ci%3Darguments.length%2Co%3Di%3C3%3Ft%3An%3Bif(%22object%22%3D%3Dtypeof%20Reflect%26%26%22function%22%3D%3Dtypeof%20Reflect.decorate)o%3DReflect.decorate(e%2Ct%2Cr%2Cn)%3Belse%20for(var%20a%3De.length-1%3Ba%3E%3D0%3Ba--)(s%3De%5Ba%5D)%26%26(o%3D(i%3C3%3Fs(o)%3Ai%3E3%3Fs(t%2Cr%2Co)%3As(t%2Cr))%7C%7Co)%3Breturn%20i%3E3%26%26o%26%26Object.defineProperty(t%2Cr%2Co)%2Co%7Dge(%22set%22%2C%7Bconstructor%3Aht%7D)%2C%22function%22%3D%3Dtypeof%20SuppressedError%26%26SuppressedError%3Bclass%20ut%7Bconstructor(e)%7Bthis.types%3De%2Cthis.nextUniqueId%3D0%2Cthis.refCount%3D%7B%7D%2Cthis.changeTrees%3D%7B%7D%2Cthis.allChanges%3D%5B%5D%2Cthis.allFilteredChanges%3D%5B%5D%2Cthis.changes%3D%5B%5D%2Cthis.filteredChanges%3D%5B%5D%7DgetNextUniqueId()%7Breturn%20this.nextUniqueId%2B%2B%7Dadd(t)%7Bt.ensureRefId()%3Bconst%20r%3Dvoid%200%3D%3D%3Dthis.changeTrees%5Bt.refId%5D%3Br%26%26(this.changeTrees%5Bt.refId%5D%3Dt)%3Bconst%20n%3Dthis.refCount%5Bt.refId%5D%3Bif(0%3D%3D%3Dn)%7Bconst%20r%3Dt.allChanges.operations%3Blet%20n%3Dr.length%3Bfor(%3Bn--%3B)t.indexedOperations%5Br%5Bn%5D%5D%3De.OPERATION.ADD%2COe(t.changes%2Cn)%7Dreturn%20this.refCount%5Bt.refId%5D%3D(n%7C%7C0)%2B1%2Cr%7Dremove(e)%7Bconst%20t%3Dthis.refCount%5Be.refId%5D-1%3Breturn%20t%3C%3D0%3F(e.root%3Dvoid%200%2Cdelete%20this.changeTrees%5Be.refId%5D%2Cthis.removeChangeFromChangeSet(%22allChanges%22%2Ce)%2Cthis.removeChangeFromChangeSet(%22changes%22%2Ce)%2Ce.filteredChanges%26%26(this.removeChangeFromChangeSet(%22allFilteredChanges%22%2Ce)%2Cthis.removeChangeFromChangeSet(%22filteredChanges%22%2Ce))%2Cthis.refCount%5Be.refId%5D%3D0)%3A(this.refCount%5Be.refId%5D%3Dt%2Cvoid%200!%3D%3De.filteredChanges%3F(this.removeChangeFromChangeSet(%22filteredChanges%22%2Ce)%2CAe(this%2Ce%2C%22filteredChanges%22))%3A(this.removeChangeFromChangeSet(%22changes%22%2Ce)%2CAe(this%2Ce%2C%22changes%22)))%2Ce.forEachChild(((e%2Ct)%3D%3Ethis.remove(e)))%2Ct%7DremoveChangeFromChangeSet(e%2Ct)%7Bconst%20r%3Dthis%5Be%5D%2Cn%3Dr.indexOf(t)%3Bif(-1!%3D%3Dn)return%20t%5Be%5D.queueRootIndex%3D-1%2Cr%5Bn%5D%3Dvoid%200%2C!0%7Dclear()%7Bthis.changes.length%3D0%7D%7Dclass%20ft%7Bstatic%7Bthis.BUFFER_SIZE%3D%22undefined%22!%3Dtypeof%20Buffer%26%26Buffer.poolSize%7C%7C8192%7Dconstructor(e)%7Bthis.sharedBuffer%3DBuffer.allocUnsafe(ft.BUFFER_SIZE)%2Cthis.context%3Dbe.cache(e.constructor)%2Cthis.root%3Dnew%20ut(this.context)%2Cthis.setState(e)%7DsetState(e)%7Bthis.state%3De%2Cthis.state%5Bl%5D.setRoot(this.root)%7Dencode(r%3D%7Boffset%3A0%7D%2Cn%2Cs%3Dthis.sharedBuffer%2Co%3D%22changes%22%2Cc%3D%22allChanges%22%3D%3D%3Do%2Ch%3Dr.offset)%7Bconst%20u%3Dvoid%200!%3D%3Dn%2Cf%3Dthis.state%5Bl%5D%2Cd%3Dthis.root%5Bo%5D%3Bfor(let%20l%3D0%2Cp%3Dd.length%3Bl%3Cp%3Bl%2B%2B)%7Bconst%20p%3Dd%5Bl%5D%3Bif(!p)continue%3Bif(u)%7Bif(!n.isChangeTreeVisible(p))%7Bn.invisible.add(p)%3Bcontinue%7Dn.invisible.delete(p)%7Dconst%20g%3Dp%5Bo%5D%2Cy%3Dp.ref%2Cm%3Dg.operations.length%3Bif(0%3D%3D%3Dm)continue%3Bconst%20b%3Dy.constructor%2Cw%3Db%5Bi%5D%2Cv%3Db%5Ba%5D%2CE%3Db%5BSymbol.metadata%5D%3B(u%7C%7Cr.offset%3Eh%7C%7Cp!%3D%3Df)%26%26(s%5Br.offset%2B%2B%5D%3D255%26t%2CV.number(s%2Cp.refId%2Cr))%3Bfor(let%20t%3D0%3Bt%3Cm%3Bt%2B%2B)%7Bconst%20i%3Dg.operations%5Bt%5D%2Co%3Di%3C0%3FMath.abs(i)%3Ac%3Fe.OPERATION.ADD%3Ap.indexedOperations%5Bi%5D%3Bvoid%200%3D%3D%3Di%7C%7Cvoid%200%3D%3D%3Do%7C%7Cv%26%26!v(y%2Ci%2Cn)%7C%7Cw(this%2Cs%2Cp%2Ci%2Co%2Cr%2Cc%2Cu%2CE)%7D%7Dif(r.offset%3Es.byteLength)%7Bconst%20e%3DMath.ceil(r.offset%2F(Buffer.poolSize%3F%3F8192))*(Buffer.poolSize%3F%3F8192)%3Breturn%20console.warn(%60%40colyseus%2Fschema%20buffer%20overflow.%20Encoded%20state%20is%20higher%20than%20default%20BUFFER_SIZE.%20Use%20the%20following%20to%20increase%20default%20BUFFER_SIZE%3A%5Cn%5Cn%20%20%20%20import%20%7B%20Encoder%20%7D%20from%20%22%40colyseus%2Fschema%22%3B%5Cn%20%20%20%20Encoder.BUFFER_SIZE%20%3D%20%24%7BMath.round(e%2F1024)%7D%20*%201024%3B%20%2F%2F%20%24%7BMath.round(e%2F1024)%7D%20KB%5Cn%60)%2C(s%3DBuffer.alloc(e%2Cs))%3D%3D%3Dthis.sharedBuffer%26%26(this.sharedBuffer%3Ds)%2Cthis.encode(%7Boffset%3Ah%7D%2Cn%2Cs%2Co%2Cc)%7Dreturn%20s.subarray(0%2Cr.offset)%7DencodeAll(e%3D%7Boffset%3A0%7D%2Ct%3Dthis.sharedBuffer)%7Breturn%20this.encode(e%2Cvoid%200%2Ct%2C%22allChanges%22%2C!0)%7DencodeAllView(e%2Ct%2Cr%2Cn%3Dthis.sharedBuffer)%7Bconst%20s%3Dr.offset%3Breturn%20this.encode(r%2Ce%2Cn%2C%22allFilteredChanges%22%2C!0%2Cs)%2CBuffer.concat(%5Bn.subarray(0%2Ct)%2Cn.subarray(s%2Cr.offset)%5D)%7DdebugChanges(t)%7B(%22string%22%3D%3Dtypeof%20t%3Fthis.root%5Bt%5D%3At).forEach((r%3D%3E%7Bconst%20n%3Dr%5Bt%5D%2Cs%3Dr.ref.constructor%5BSymbol.metadata%5D%3Bconsole.log(%22-%3E%22%2C%7Bref%3Ar.ref.constructor.name%2CrefId%3Ar.refId%2Cchanges%3AObject.keys(n).length%7D)%3Bfor(const%20t%20in%20n)%7Bconst%20r%3Dn%5Bt%5D%3Bconsole.log(%22%20%20-%3E%22%2C%7Bindex%3At%2Cfield%3As%3F.%5Bt%5D%2Cop%3Ae.OPERATION%5Br%5D%7D)%7D%7D))%7DencodeView(r%2Cn%2Cs%2Co%3Dthis.sharedBuffer)%7Bconst%20a%3Ds.offset%3Bfor(const%5Bn%2Ca%5Dof%20r.changes)%7Bconst%20h%3Dthis.root.changeTrees%5Bn%5D%3Bif(void%200%3D%3D%3Dh)%7Br.changes.delete(n)%3Bcontinue%7Dconst%20l%3DObject.keys(a)%3Bif(0%3D%3D%3Dl.length)continue%3Bconst%20u%3Dh.ref.constructor%2Cf%3Du%5Bi%5D%2Cd%3Du%5BSymbol.metadata%5D%3Bo%5Bs.offset%2B%2B%5D%3D255%26t%2CV.number(o%2Ch.refId%2Cs)%3Bfor(let%20t%3D0%2Cr%3Dl.length%3Bt%3Cr%3Bt%2B%2B)%7Bconst%20r%3DNumber(l%5Bt%5D)%2Cn%3Dh.ref%5Bc%5D(r)%3Bf(this%2Co%2Ch%2Cr%2Cvoid%200!%3D%3Dn%26%26a%5Br%5D%7C%7Ce.OPERATION.DELETE%2Cs%2C!1%2C!0%2Cd)%7D%7Dreturn%20r.changes.clear()%2Cthis.encode(s%2Cr%2Co%2C%22filteredChanges%22%2C!1%2Ca)%2CBuffer.concat(%5Bo.subarray(0%2Cn)%2Co.subarray(a%2Cs.offset)%5D)%7DdiscardChanges()%7Blet%20e%3Dthis.root.changes.length%3Bif(e%3E0)%7Bfor(%3Be--%3B)this.root.changes%5Be%5D%3F.endEncode(%22changes%22)%3Bthis.root.changes.length%3D0%7Dif(e%3Dthis.root.filteredChanges.length%2Ce%3E0)%7Bfor(%3Be--%3B)this.root.filteredChanges%5Be%5D%3F.endEncode(%22filteredChanges%22)%3Bthis.root.filteredChanges.length%3D0%7D%7DtryEncodeTypeId(e%2Ct%2Cn%2Cs)%7Bconst%20i%3Dthis.context.getTypeId(t)%2Co%3Dthis.context.getTypeId(n)%3Bvoid%200!%3D%3Do%3Fi!%3D%3Do%26%26(e%5Bs.offset%2B%2B%5D%3D255%26r%2CV.number(e%2Co%2Cs))%3Aconsole.warn(%60%40colyseus%2Fschema%20WARNING%3A%20Class%20%22%24%7Bn.name%7D%22%20is%20not%20registered%20on%20TypeRegistry%20-%20Please%20either%20tag%20the%20class%20with%20%40entity%20or%20define%20a%20%40type()%20field.%60)%7Dget%20hasChanges()%7Breturn%20this.root.changes.length%3E0%7C%7Cthis.root.filteredChanges.length%3E0%7D%7Dfunction%20dt(e%2Ct)%7Bif(-1%3D%3D%3Dt%7C%7Ct%3E%3De.length)return!1%3Bconst%20r%3De.length-1%3Bfor(let%20n%3Dt%3Bn%3Cr%3Bn%2B%2B)e%5Bn%5D%3De%5Bn%2B1%5D%3Breturn%20e.length%3Dr%2C!0%7Dclass%20pt%20extends%20Error%7Bconstructor(e)%7Bsuper(e)%2Cthis.name%3D%22DecodingWarning%22%7D%7Dclass%20gt%7Bconstructor()%7Bthis.refs%3Dnew%20Map%2Cthis.refIds%3Dnew%20WeakMap%2Cthis.refCounts%3D%7B%7D%2Cthis.deletedRefs%3Dnew%20Set%2Cthis.callbacks%3D%7B%7D%2Cthis.nextUniqueId%3D0%7DgetNextUniqueId()%7Breturn%20this.nextUniqueId%2B%2B%7DaddRef(e%2Ct%2Cr%3D!0)%7Bthis.refs.set(e%2Ct)%2Cthis.refIds.set(t%2Ce)%2Cr%26%26(this.refCounts%5Be%5D%3D(this.refCounts%5Be%5D%7C%7C0)%2B1)%2Cthis.deletedRefs.has(e)%26%26this.deletedRefs.delete(e)%7DremoveRef(e)%7Bconst%20t%3Dthis.refCounts%5Be%5D%3Bif(void%200!%3D%3Dt)if(0!%3D%3Dt)(this.refCounts%5Be%5D%3Dt-1)%3C%3D0%26%26this.deletedRefs.add(e)%3Belse%20try%7Bconst%20t%3Dthis.refs.get(e)%3Bthrow%20new%20pt(%60trying%20to%20remove%20refId%20'%24%7Be%7D'%20with%200%20refCount%20(%24%7Bt.constructor.name%7D%3A%20%24%7BJSON.stringify(t)%7D)%60)%7Dcatch(e)%7Bconsole.warn(e)%7Delse%20try%7Bthrow%20new%20pt(%22trying%20to%20remove%20refId%20that%20doesn't%20exist%3A%20%22%2Be)%7Dcatch(e)%7Bconsole.warn(e)%7D%7DclearRefs()%7Bthis.refs.clear()%2Cthis.deletedRefs.clear()%2Cthis.callbacks%3D%7B%7D%2Cthis.refCounts%3D%7B%7D%7DgarbageCollectDeletedRefs()%7Bthis.deletedRefs.forEach((e%3D%3E%7Bif(this.refCounts%5Be%5D%3E0)return%3Bconst%20t%3Dthis.refs.get(e)%3Bif(void%200!%3D%3Dt.constructor%5BSymbol.metadata%5D)%7Bconst%20e%3Dt.constructor%5BSymbol.metadata%5D%3Bfor(const%20r%20in%20e)%7Bconst%20n%3De%5Br%5D.name%2Cs%3D%22object%22%3D%3Dtypeof%20t%5Bn%5D%26%26this.refIds.get(t%5Bn%5D)%3Bs%26%26!this.deletedRefs.has(s)%26%26this.removeRef(s)%7D%7Delse%22function%22%3D%3Dtypeof%20t%5Bu%5D%26%26Array.from(t.values()).forEach((e%3D%3E%7Bconst%20t%3Dthis.refIds.get(e)%3Bthis.deletedRefs.has(t)%7C%7Cthis.removeRef(t)%7D))%3Bthis.refs.delete(e)%2Cdelete%20this.refCounts%5Be%5D%2Cdelete%20this.callbacks%5Be%5D%7D))%2Cthis.deletedRefs.clear()%7DaddCallback(t%2Cr%2Cn)%7Bif(void%200%3D%3D%3Dt)%7Bconst%20t%3D%22number%22%3D%3Dtypeof%20r%3Fe.OPERATION%5Br%5D%3Ar%3Bthrow%20new%20Error(%60Can't%20addCallback%20on%20'%24%7Bt%7D'%20(refId%20is%20undefined)%60)%7Dreturn%20this.callbacks%5Bt%5D%7C%7C(this.callbacks%5Bt%5D%3D%7B%7D)%2Cthis.callbacks%5Bt%5D%5Br%5D%7C%7C(this.callbacks%5Bt%5D%5Br%5D%3D%5B%5D)%2Cthis.callbacks%5Bt%5D%5Br%5D.push(n)%2C()%3D%3Ethis.removeCallback(t%2Cr%2Cn)%7DremoveCallback(e%2Ct%2Cr)%7Bconst%20n%3Dthis.callbacks%3F.%5Be%5D%3F.%5Bt%5D%3F.indexOf(r)%3B-1!%3D%3Dn%26%26dt(this.callbacks%5Be%5D%5Bt%5D%2Cn)%7D%7Dclass%20yt%7Bconstructor(e%2Ct)%7Bthis.currentRefId%3D0%2Cthis.setState(e)%2Cthis.context%3Dt%7C%7Cnew%20be(e.constructor)%7DsetState(e)%7Bthis.state%3De%2Cthis.root%3Dnew%20gt%2Cthis.root.addRef(0%2Ce)%7Ddecode(e%2Cr%3D%7Boffset%3A0%7D%2Cn%3Dthis.state)%7Bconst%20s%3D%5B%5D%2Ci%3Dthis.root%2Ca%3De.byteLength%3Blet%20c%3Dn.constructor%5Bo%5D%3Bfor(this.currentRefId%3D0%3Br.offset%3Ca%3B)if(e%5Br.offset%5D!%3Dt)if(c(this%2Ce%2Cr%2Cn%2Cs)!%3D%3Dxe)%3Belse%7Bconsole.warn(%22%40colyseus%2Fschema%3A%20definition%20mismatch%22)%3Bconst%20n%3D%7Boffset%3Ar.offset%7D%3Bfor(%3Br.offset%3Ca%26%26(e%5Br.offset%5D!%3D%3Dt%7C%7C(n.offset%3Dr.offset%2B1%2C!i.refs.has(fe.number(e%2Cn))))%3B)r.offset%2B%2B%7Delse%7Br.offset%2B%2B%2Cthis.currentRefId%3Dfe.number(e%2Cr)%3Bconst%20t%3Di.refs.get(this.currentRefId)%3Bif(!t)throw%20new%20Error(%60%22refId%22%20not%20found%3A%20%24%7Bthis.currentRefId%7D%60)%3Bn%5Bd%5D%3F.()%2Cc%3D(n%3Dt).constructor%5Bo%5D%7Dreturn%20n%5Bd%5D%3F.()%2Cthis.triggerChanges%3F.(s)%2Ci.garbageCollectDeletedRefs()%2Cs%7DgetInstanceType(e%2Ct%2Cn)%7Blet%20s%3Bif(e%5Bt.offset%5D%3D%3D%3Dr)%7Bt.offset%2B%2B%3Bconst%20r%3Dfe.number(e%2Ct)%3Bs%3Dthis.context.get(r)%7Dreturn%20s%7C%7Cn%7DcreateInstanceOfType(e)%7Breturn%20new%20e%7DremoveChildRefs(t%2Cr)%7Bconst%20n%3D%22string%22!%3Dtypeof%20t%5Bu%5D%2Cs%3Dthis.root.refIds.get(t)%3Bt.forEach(((i%2Co)%3D%3E%7Br.push(%7Bref%3At%2CrefId%3As%2Cop%3Ae.OPERATION.DELETE%2Cfield%3Ao%2Cvalue%3Avoid%200%2CpreviousValue%3Ai%7D)%2Cn%26%26this.root.removeRef(this.root.refIds.get(i))%7D))%7D%7Dclass%20mt%20extends%20at%7B%7Dlt(%5BGe(%22string%22)%5D%2Cmt.prototype%2C%22name%22%2Cvoid%200)%2Clt(%5BGe(%22string%22)%5D%2Cmt.prototype%2C%22type%22%2Cvoid%200)%2Clt(%5BGe(%22number%22)%5D%2Cmt.prototype%2C%22referencedType%22%2Cvoid%200)%3Bclass%20bt%20extends%20at%7Bconstructor()%7Bsuper(...arguments)%2Cthis.fields%3Dnew%20Fe%7D%7Dlt(%5BGe(%22number%22)%5D%2Cbt.prototype%2C%22id%22%2Cvoid%200)%2Clt(%5BGe(%22number%22)%5D%2Cbt.prototype%2C%22extendsId%22%2Cvoid%200)%2Clt(%5BGe(%5Bmt%5D)%5D%2Cbt.prototype%2C%22fields%22%2Cvoid%200)%3Bclass%20wt%20extends%20at%7Bconstructor()%7Bsuper(...arguments)%2Cthis.types%3Dnew%20Fe%7Dstatic%20encode(e%2Ct%3D%7Boffset%3A0%7D)%7Bconst%20r%3De.context%2Cn%3Dnew%20wt%2Cs%3Dnew%20ft(n)%2Ci%3Dr.schemas.get(e.state.constructor)%3Bi%3E0%26%26(n.rootType%3Di)%3Bconst%20o%3Dnew%20Set%2Ca%3D%7B%7D%2Cc%3De%3D%3E%7Bif(void%200%3D%3D%3De.extendsId%7C%7Co.has(e.extendsId))%7Bo.add(e.id)%2Cn.types.push(e)%3Bconst%20t%3Da%5Be.id%5D%3Bvoid%200!%3D%3Dt%26%26(delete%20a%5Be.id%5D%2Ct.forEach((e%3D%3Ec(e))))%7Delse%20void%200%3D%3D%3Da%5Be.extendsId%5D%26%26(a%5Be.extendsId%5D%3D%5B%5D)%2Ca%5Be.extendsId%5D.push(e)%7D%3Br.schemas.forEach(((e%2Ct)%3D%3E%7Bconst%20n%3Dnew%20bt%3Bn.id%3DNumber(e)%3Bconst%20s%3DObject.getPrototypeOf(t)%3Bs!%3D%3Dat%26%26(n.extendsId%3Dr.schemas.get(s))%3Bconst%20i%3Dt%5BSymbol.metadata%5D%3Bif(i!%3D%3Ds%5BSymbol.metadata%5D)for(const%20e%20in%20i)%7Bconst%20t%3DNumber(e)%2Cs%3Di%5Bt%5D.name%3Bif(!Object.prototype.hasOwnProperty.call(i%2Cs))continue%3Bconst%20o%3Dnew%20mt%3Blet%20a%3Bo.name%3Ds%3Bconst%20c%3Di%5Bt%5D%3Bif(%22string%22%3D%3Dtypeof%20c.type)a%3Dc.type%3Belse%7Blet%20e%3Bat.is(c.type)%3F(a%3D%22ref%22%2Ce%3Dc.type)%3A(a%3DObject.keys(c.type)%5B0%5D%2C%22string%22%3D%3Dtypeof%20c.type%5Ba%5D%3Fa%2B%3D%22%3A%22%2Bc.type%5Ba%5D%3Ae%3Dc.type%5Ba%5D)%2Co.referencedType%3De%3Fr.getTypeId(e)%3A-1%7Do.type%3Da%2Cn.fields.push(o)%7Dc(n)%7D))%3Bfor(const%20e%20in%20a)a%5Be%5D.forEach((e%3D%3En.types.push(e)))%3Bconst%20h%3Ds.encodeAll(t)%3Breturn%20Buffer.from(h%2C0%2Ct.offset)%7Dstatic%20decode(e%2Ct)%7Bconst%20r%3Dnew%20wt%3Bnew%20yt(r).decode(e%2Ct)%3Bconst%20n%3Dnew%20be%3Br.types.forEach((e%3D%3E%7Bconst%20t%3Dn.get(e.extendsId)%3F%3Fat%2Cr%3Dclass%20extends%20t%7B%7D%3Bbe.register(r)%2Cn.add(r%2Ce.id)%7D)%2C%7B%7D)%3Bconst%20s%3D(e%2Ct%2Cr)%3D%3E%7Bt.fields.forEach(((t%2Cs)%3D%3E%7Bconst%20i%3Dr%2Bs%3Bif(void%200!%3D%3Dt.referencedType)%7Blet%20r%3Dt.type%2Cs%3Dn.get(t.referencedType)%3Bif(!s)%7Bconst%20e%3Dt.type.split(%22%3A%22)%3Br%3De%5B0%5D%2Cs%3De%5B1%5D%7D%22ref%22%3D%3D%3Dr%3Fve.addField(e%2Ci%2Ct.name%2Cs)%3Ave.addField(e%2Ci%2Ct.name%2C%7B%5Br%5D%3As%7D)%7Delse%20ve.addField(e%2Ci%2Ct.name%2Ct.type)%7D))%7D%3Br.types.forEach((e%3D%3E%7Bconst%20t%3Dn.get(e.id)%2Ci%3Dve.initialize(t)%2Co%3D%5B%5D%3Blet%20a%3De%3Bdo%7Bo.push(a)%2Ca%3Dr.types.find((e%3D%3Ee.id%3D%3D%3Da.extendsId))%7Dwhile(a)%3Blet%20c%3D0%3Bo.reverse().forEach((e%3D%3E%7Bs(i%2Ce%2Cc)%2Cc%2B%3De.fields.length%7D))%7D))%3Bconst%20i%3Dnew(n.get(r.rootType%7C%7C0))%3Breturn%20new%20yt(i%2Cn)%7D%7Dfunction%20vt(t)%7Bconst%20r%3Dt.root%2Cn%3Dr.callbacks%2Cs%3Dnew%20WeakMap%3Blet%20i%3Bfunction%20o(t%2Cn)%7Blet%20c%3Dn.instance%3F.constructor%5BSymbol.metadata%5D%7C%7Ct%2Ch%3Dn.instance%26%26%22function%22%3D%3Dtypeof%20n.instance.forEach%7C%7Ct%26%26void%200%3D%3D%3Dt%5BSymbol.metadata%5D%3Bif(c%26%26!h)%7Bconst%20t%3Dfunction(e%2Ct%2Co%2Ca)%7Breturn%20a%26%26void%200!%3D%3Dn.instance%5Bt%5D%26%26!s.has(i)%26%26o(n.instance%5Bt%5D%2Cvoid%200)%2Cr.addCallback(r.refIds.get(e)%2Ct%2Co)%7D%3Breturn%20new%20Proxy(%7Blisten%3Afunction(e%2Cr%2Co%3D!0)%7Bif(n.instance)return%20t(n.instance%2Ce%2Cr%2Co)%3B%7Blet%20a%3D()%3D%3E%7B%7D%3Breturn%20n.onInstanceAvailable(((n%2Cc)%3D%3E%7Ba%3Dt(n%2Ce%2Cr%2Co%26%26c%26%26!s.has(i))%7D))%2C()%3D%3Ea()%7D%7D%2ConChange%3Afunction(t)%7Breturn%20r.addCallback(r.refIds.get(n.instance)%2Ce.OPERATION.REPLACE%2Ct)%7D%2CbindTo%3Afunction(t%2Cs)%7Breturn%20s%7C%7C(s%3DObject.keys(c).map((e%3D%3Ec%5Be%5D.name)))%2Cr.addCallback(r.refIds.get(n.instance)%2Ce.OPERATION.REPLACE%2C(()%3D%3E%7Bs.forEach((e%3D%3Et%5Be%5D%3Dn.instance%5Be%5D))%7D))%7D%7D%2C%7Bget(e%2Ct)%7Bconst%20s%3Dc%5Bc%5Bt%5D%5D%3Bif(s)%7Bconst%20e%3Dn.instance%3F.%5Bt%5D%2Ci%3Ds%3D%3E%7Bconst%20i%3Da(n.instance).listen(t%2C((e%2Ct)%3D%3E%7Bs(e%2C!1)%2Ci%3F.()%7D)%2C!1)%3Bvoid%200!%3D%3Dr.refIds.get(e)%26%26s(e%2C!0)%7D%3Breturn%20o(s.type%2C%7Binstance%3Ar.refIds.get(e)%26%26e%2CparentInstance%3An.instance%2ConInstanceAvailable%3Ai%7D)%7Dreturn%20e%5Bt%5D%7D%2Chas%3A(e%2Ct)%3D%3Evoid%200!%3D%3Dc%5Bt%5D%2Cset(e%2Ct%2Cr)%7Bthrow%20new%20Error(%22not%20allowed%22)%7D%2CdeleteProperty(e%2Ct)%7Bthrow%20new%20Error(%22not%20allowed%22)%7D%7D)%7D%7Bconst%20t%3Dfunction(t%2Cn%2Co)%7Breturn%20o%26%26t.forEach(((e%2Ct)%3D%3En(e%2Ct)))%2Cr.addCallback(r.refIds.get(t)%2Ce.OPERATION.ADD%2C((e%2Ct)%3D%3E%7Bs.set(n%2C!0)%2Ci%3Dn%2Cn(e%2Ct)%2Cs.delete(n)%2Ci%3Dvoid%200%7D))%7D%2Co%3Dfunction(t%2Cn)%7Breturn%20r.addCallback(r.refIds.get(t)%2Ce.OPERATION.DELETE%2Cn)%7D%2Ca%3Dfunction(t%2Cn)%7Breturn%20r.addCallback(r.refIds.get(t)%2Ce.OPERATION.REPLACE%2Cn)%7D%3Breturn%20new%20Proxy(%7BonAdd%3Afunction(e%2Cr%3D!0)%7Bif(n.instance)return%20t(n.instance%2Ce%2Cr%26%26!s.has(i))%3Bif(n.onInstanceAvailable)%7Blet%20o%3D()%3D%3E%7B%7D%3Breturn%20n.onInstanceAvailable(((n%2Ca)%3D%3E%7Bo%3Dt(n%2Ce%2Cr%26%26a%26%26!s.has(i))%7D))%2C()%3D%3Eo()%7D%7D%2ConRemove%3Afunction(e)%7Bif(n.instance)return%20o(n.instance%2Ce)%3Bif(n.onInstanceAvailable)%7Blet%20t%3D()%3D%3E%7B%7D%3Breturn%20n.onInstanceAvailable((r%3D%3E%7Bt%3Do(r%2Ce)%7D))%2C()%3D%3Et()%7D%7D%2ConChange%3Afunction(e)%7Bif(n.instance)return%20a(n.instance%2Ce)%3Bif(n.onInstanceAvailable)%7Blet%20t%3D()%3D%3E%7B%7D%3Breturn%20n.onInstanceAvailable((r%3D%3E%7Bt%3Da(r%2Ce)%7D))%2C()%3D%3Et()%7D%7D%7D%2C%7Bget(e%2Ct)%7Bif(!e%5Bt%5D)throw%20new%20Error(%60Can't%20access%20'%24%7Bt%7D'%20through%20callback%20proxy.%20access%20the%20instance%20directly.%60)%3Breturn%20e%5Bt%5D%7D%2Chas%3A(e%2Ct)%3D%3Evoid%200!%3D%3De%5Bt%5D%2Cset(e%2Ct%2Cr)%7Bthrow%20new%20Error(%22not%20allowed%22)%7D%2CdeleteProperty(e%2Ct)%7Bthrow%20new%20Error(%22not%20allowed%22)%7D%7D)%7D%7Dfunction%20a(e)%7Breturn%20o(void%200%2C%7Binstance%3Ae%7D)%7Dreturn%20t.triggerChanges%3Dfunction(t)%7Bconst%20s%3Dnew%20Set%3Bfor(let%20i%3D0%2Co%3Dt.length%3Bi%3Co%3Bi%2B%2B)%7Bconst%20o%3Dt%5Bi%5D%2Ca%3Do.refId%2Cc%3Do.ref%2Ch%3Dn%5Ba%5D%3Bif(h)%7Bif((o.op%26e.OPERATION.DELETE)%3D%3D%3De.OPERATION.DELETE%26%26o.previousValue%20instanceof%20at)%7Bconst%20t%3Dn%5Br.refIds.get(o.previousValue)%5D%3F.%5Be.OPERATION.DELETE%5D%3Bfor(let%20e%3Dt%3F.length-1%3Be%3E%3D0%3Be--)t%5Be%5D()%7Dif(c%20instanceof%20at)%7Bif(!s.has(a))%7Bconst%20t%3Dh%3F.%5Be.OPERATION.REPLACE%5D%3Bfor(let%20e%3Dt%3F.length-1%3Be%3E%3D0%3Be--)t%5Be%5D()%7Dif(h.hasOwnProperty(o.field))%7Bconst%20e%3Dh%5Bo.field%5D%3Bfor(let%20t%3De%3F.length-1%3Bt%3E%3D0%3Bt--)e%5Bt%5D(o.value%2Co.previousValue)%7D%7Delse%7Bif((o.op%26e.OPERATION.DELETE)%3D%3D%3De.OPERATION.DELETE)%7Bif(void%200!%3D%3Do.previousValue)%7Bconst%20t%3Dh%5Be.OPERATION.DELETE%5D%3Bfor(let%20e%3Dt%3F.length-1%3Be%3E%3D0%3Be--)t%5Be%5D(o.previousValue%2Co.dynamicIndex%3F%3Fo.field)%7Dif((o.op%26e.OPERATION.ADD)%3D%3D%3De.OPERATION.ADD)%7Bconst%20t%3Dh%5Be.OPERATION.ADD%5D%3Bfor(let%20e%3Dt%3F.length-1%3Be%3E%3D0%3Be--)t%5Be%5D(o.value%2Co.dynamicIndex%3F%3Fo.field)%7D%7Delse%20if((o.op%26e.OPERATION.ADD)%3D%3D%3De.OPERATION.ADD%26%26o.previousValue!%3D%3Do.value)%7Bconst%20t%3Dh%5Be.OPERATION.ADD%5D%3Bfor(let%20e%3Dt%3F.length-1%3Be%3E%3D0%3Be--)t%5Be%5D(o.value%2Co.dynamicIndex%3F%3Fo.field)%7Dif(o.value!%3D%3Do.previousValue%26%26(void%200!%3D%3Do.value%7C%7Cvoid%200!%3D%3Do.previousValue))%7Bconst%20t%3Dh%5Be.OPERATION.REPLACE%5D%3Bfor(let%20e%3Dt%3F.length-1%3Be%3E%3D0%3Be--)t%5Be%5D(o.value%2Co.dynamicIndex%3F%3Fo.field)%7D%7Ds.add(a)%7D%7D%7D%2Ca%7Dfunction%20Et(e%2Ct)%7Be.triggerChanges%3Dt%7Dlt(%5BGe(%5Bbt%5D)%5D%2Cwt.prototype%2C%22types%22%2Cvoid%200)%2Clt(%5BGe(%22number%22)%5D%2Cwt.prototype%2C%22rootType%22%2Cvoid%200)%3Bclass%20Ot%7Bconstructor(e%3D!1)%7Bthis.iterable%3De%2Cthis.visible%3Dnew%20WeakSet%2Cthis.invisible%3Dnew%20WeakSet%2Cthis.changes%3Dnew%20Map%2Ce%26%26(this.items%3D%5B%5D)%7Dadd(t%2Cr%3DHe%2Cn%3D!0)%7Bconst%20s%3Dt%3F.%5Bl%5D%3Bif(!s)return%20console.warn(%22StateView%23add()%2C%20invalid%20object%3A%22%2Ct)%2Cthis%3Bif(!s.parent%26%260!%3D%3Ds.refId)throw%20new%20Error(%60Cannot%20add%20a%20detached%20instance%20to%20the%20StateView.%20Make%20sure%20to%20assign%20the%20%22%24%7Bs.ref.constructor.name%7D%22%20instance%20to%20the%20state%20before%20calling%20view.add()%60)%3Bconst%20i%3Dt.constructor%5BSymbol.metadata%5D%3Bthis.visible.add(s)%2Cthis.iterable%26%26n%26%26this.items.push(t)%2Cn%26%26s.parent%26%26this.addParentOf(s%2Cr)%3Blet%20o%3Dthis.changes.get(s.refId)%3Bif(void%200%3D%3D%3Do%26%26(o%3D%7B%7D%2Cthis.changes.set(s.refId%2Co))%2Cr!%3D%3DHe)%7Blet%20t%3Bthis.tags%7C%7C(this.tags%3Dnew%20WeakMap)%2Cthis.tags.has(s)%3Ft%3Dthis.tags.get(s)%3A(t%3Dnew%20Set%2Cthis.tags.set(s%2Ct))%2Ct.add(r)%2Ci%3F.%5Bb%5D%3F.%5Br%5D%3F.forEach((t%3D%3E%7Bs.getChange(t)!%3D%3De.OPERATION.DELETE%26%26(o%5Bt%5D%3De.OPERATION.ADD)%7D))%7Delse%7Bconst%20t%3Dthis.invisible.has(s)%2Cn%3Dvoid%200!%3D%3Ds.filteredChanges%3Fs.allFilteredChanges%3As.allChanges%3Bfor(let%20a%3D0%2Cc%3Dn.operations.length%3Ba%3Cc%3Ba%2B%2B)%7Bconst%20c%3Dn.operations%5Ba%5D%3Bif(void%200%3D%3D%3Dc)continue%3Bconst%20h%3Ds.indexedOperations%5Bc%5D%3F%3Fe.OPERATION.ADD%2Cl%3Di%3F.%5Bc%5D.tag%3Bs.isNew%7C%7C!t%26%26void%200!%3D%3Dl%26%26l!%3D%3Dr%7C%7Ch%3D%3D%3De.OPERATION.DELETE%7C%7C(o%5Bc%5D%3Dh)%7D%7Dreturn%20s.forEachChild(((e%2Ct)%3D%3E%7Bi%26%26void%200!%3D%3Di%5Bt%5D.tag%26%26i%5Bt%5D.tag!%3D%3Dr%7C%7Cthis.add(e.ref%2Cr%2C!1)%7D))%2Cthis%7DaddParentOf(t%2Cr)%7Bconst%20n%3Dt.parent%5Bl%5D%2Cs%3Dt.parentIndex%3Bif(!this.visible.has(n))%7Bthis.visible.add(n)%3Bconst%20e%3Dn.parent%3F.%5Bl%5D%3Be%26%26void%200!%3D%3De.filteredChanges%26%26this.addParentOf(n%2Cr)%7Dif(n.getChange(s)!%3D%3De.OPERATION.DELETE)%7Blet%20t%2Ci%3Dthis.changes.get(n.refId)%3Bvoid%200%3D%3D%3Di%26%26(i%3D%7B%7D%2Cthis.changes.set(n.refId%2Ci))%2Cthis.tags%7C%7C(this.tags%3Dnew%20WeakMap)%2Cthis.tags.has(n)%3Ft%3Dthis.tags.get(n)%3A(t%3Dnew%20Set%2Cthis.tags.set(n%2Ct))%2Ct.add(r)%2Ci%5Bs%5D%3De.OPERATION.ADD%7D%7Dremove(t%2Cr%3DHe%2Cn%3D!1)%7Bconst%20s%3Dt%5Bl%5D%3Bif(!s)return%20console.warn(%22StateView%23remove()%2C%20invalid%20object%3A%22%2Ct)%2Cthis%3Bthis.visible.delete(s)%2Cthis.iterable%26%26!n%26%26dt(this.items%2Cthis.items.indexOf(t))%3Bconst%20i%3Ds.ref.constructor%5BSymbol.metadata%5D%3Blet%20o%3Dthis.changes.get(s.refId)%3Bif(void%200%3D%3D%3Do%26%26(o%3D%7B%7D%2Cthis.changes.set(s.refId%2Co))%2Cr%3D%3D%3DHe)%7Bconst%20t%3Ds.parent%3Bif(!ve.isValidInstance(t)%26%26s.isFiltered)%7Bconst%20r%3Dt%5Bl%5D%3Blet%20n%3Dthis.changes.get(r.refId)%3Bvoid%200%3D%3D%3Dn%26%26(n%3D%7B%7D%2Cthis.changes.set(r.refId%2Cn))%2Cn%5Bs.parentIndex%5D%3De.OPERATION.DELETE%7Delse%20i%3F.%5Bm%5D%3F.forEach((t%3D%3Eo%5Bt%5D%3De.OPERATION.DELETE))%7Delse%20i%3F.%5Bb%5D%5Br%5D.forEach((t%3D%3Eo%5Bt%5D%3De.OPERATION.DELETE))%3Bif(this.tags%26%26this.tags.has(s))%7Bconst%20e%3Dthis.tags.get(s)%3Bvoid%200%3D%3D%3Dr%3Fthis.tags.delete(s)%3A(e.delete(r)%2C0%3D%3D%3De.size%26%26this.tags.delete(s))%7Dreturn%20this%7Dhas(e)%7Breturn%20this.visible.has(e%5Bl%5D)%7DhasTag(e%2Ct%3DHe)%7Bconst%20r%3Dthis.tags%3F.get(e%5Bl%5D)%3Breturn%20r%3F.has(t)%3F%3F!1%7Dclear()%7Bif(!this.iterable)throw%20new%20Error(%22StateView%23clear()%20is%20only%20available%20for%20iterable%20StateView's.%20Use%20StateView(iterable%3A%20true)%20constructor.%22)%3Bfor(let%20e%3D0%2Ct%3Dthis.items.length%3Be%3Ct%3Be%2B%2B)this.remove(this.items%5Be%5D%2CHe%2C!0)%3Bthis.items.length%3D0%7DisChangeTreeVisible(e)%7Blet%20t%3Dthis.visible.has(e)%3Breturn!t%26%26e.isVisibilitySharedWithParent%26%26this.visible.has(e.parent%5Bl%5D)%26%26(this.visible.add(e)%2Ct%3D!0)%2Ct%7D%7Dge(%22map%22%2C%7Bconstructor%3AWe%7D)%2Cge(%22array%22%2C%7Bconstructor%3AFe%7D)%2Cge(%22set%22%2C%7Bconstructor%3Aht%7D)%2Cge(%22collection%22%2C%7Bconstructor%3Act%7D)%2Ce.%24changes%3Dl%2Ce.%24childType%3Du%2Ce.%24decoder%3Do%2Ce.%24deleteByIndex%3Dh%2Ce.%24encoder%3Di%2Ce.%24filter%3Da%2Ce.%24getByIndex%3Dc%2Ce.%24track%3Ds%2Ce.ArraySchema%3DFe%2Ce.ChangeTree%3DSe%2Ce.CollectionSchema%3Dct%2Ce.Decoder%3Dyt%2Ce.Encoder%3Dft%2Ce.MapSchema%3DWe%2Ce.Metadata%3Dve%2Ce.Reflection%3Dwt%2Ce.ReflectionField%3Dmt%2Ce.ReflectionType%3Dbt%2Ce.Schema%3Dat%2Ce.SetSchema%3Dht%2Ce.StateView%3DOt%2Ce.TypeContext%3Dbe%2Ce.decode%3Dfe%2Ce.decodeKeyValueOperation%3Dke%2Ce.decodeSchemaOperation%3DDe%2Ce.defineCustomTypes%3Dme%2Ce.defineTypes%3DXe%2Ce.deprecated%3DYe%2Ce.dumpChanges%3Det%2Ce.encode%3DV%2Ce.encodeArray%3DRe%2Ce.encodeKeyValueOperation%3DCe%2Ce.encodeSchemaOperation%3D_e%2Ce.entity%3Dqe%2Ce.getDecoderStateCallbacks%3Dvt%2Ce.getRawChangesCallback%3DEt%2Ce.registerType%3Dge%2Ce.schema%3DZe%2Ce.type%3DGe%2Ce.view%3DJe%7D(ge.exports))%2Cge.exports%7Dfunction%20me()%7Bif(ue)return%20pe%3Bue%3D1%3Bvar%20e%3Dae%2Ct%3Dye()%3Breturn%20pe.H3TransportTransport%3Dclass%7Bconstructor(e)%7Bthis.events%3De%2Cthis.isOpen%3D!1%2Cthis.lengthPrefixBuffer%3Dnew%20Uint8Array(9)%7Dconnect(e%2Ct%3D%7B%7D)%7Bconst%20r%3Dt.fingerprint%26%26%7BserverCertificateHashes%3A%5B%7Balgorithm%3A%22sha-256%22%2Cvalue%3Anew%20Uint8Array(t.fingerprint).buffer%7D%5D%7D%7C%7Cvoid%200%3Bthis.wt%3Dnew%20WebTransport(e%2Cr)%2Cthis.wt.ready.then((e%3D%3E%7Bconsole.log(%22WebTransport%20ready!%22%2Ce)%2Cthis.isOpen%3D!0%2Cthis.unreliableReader%3Dthis.wt.datagrams.readable.getReader()%2Cthis.unreliableWriter%3Dthis.wt.datagrams.writable.getWriter()%3Bthis.wt.incomingBidirectionalStreams.getReader().read().then((e%3D%3E%7Bthis.reader%3De.value.readable.getReader()%2Cthis.writer%3De.value.writable.getWriter()%2Cthis.sendSeatReservation(t.room.roomId%2Ct.sessionId%2Ct.reconnectionToken)%2Cthis.readIncomingData()%2Cthis.readIncomingUnreliableData()%7D)).catch((e%3D%3E%7Bconsole.error(%22failed%20to%20read%20incoming%20stream%22%2Ce)%2Cconsole.error(%22TODO%3A%20close%20the%20connection%22)%7D))%7D)).catch((e%3D%3E%7Bconsole.log(%22WebTransport%20not%20ready!%22%2Ce)%2Cthis._close()%7D))%2Cthis.wt.closed.then((e%3D%3E%7Bconsole.log(%22WebTransport%20closed%20w%2F%20success%22%2Ce)%2Cthis.events.onclose(%7Bcode%3Ae.closeCode%2Creason%3Ae.reason%7D)%7D)).catch((e%3D%3E%7Bconsole.log(%22WebTransport%20closed%20w%2F%20error%22%2Ce)%2Cthis.events.onerror(e)%2Cthis.events.onclose(%7Bcode%3Ae.closeCode%2Creason%3Ae.reason%7D)%7D)).finally((()%3D%3E%7Bthis._close()%7D))%7Dsend(e)%7Bconst%20r%3Dt.encode.number(this.lengthPrefixBuffer%2Ce.length%2C%7Boffset%3A0%7D)%2Cn%3Dnew%20Uint8Array(r%2Be.length)%3Bn.set(this.lengthPrefixBuffer.subarray(0%2Cr)%2C0)%2Cn.set(e%2Cr)%2Cthis.writer.write(n)%7DsendUnreliable(e)%7Bconst%20r%3Dt.encode.number(this.lengthPrefixBuffer%2Ce.length%2C%7Boffset%3A0%7D)%2Cn%3Dnew%20Uint8Array(r%2Be.length)%3Bn.set(this.lengthPrefixBuffer.subarray(0%2Cr)%2C0)%2Cn.set(e%2Cr)%2Cthis.unreliableWriter.write(n)%7Dclose(e%2Ct)%7Btry%7Bthis.wt.close(%7BcloseCode%3Ae%2Creason%3At%7D)%7Dcatch(e)%7Bconsole.error(e)%7D%7DreadIncomingData()%7Breturn%20e.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Blet%20e%3Bfor(%3Bthis.isOpen%3B)%7Btry%7Be%3Dyield%20this.reader.read()%3Bconst%20r%3De.value%2Cn%3D%7Boffset%3A0%7D%3Bdo%7Bconst%20e%3Dt.decode.number(r%2Cn)%3Bthis.events.onmessage(%7Bdata%3Ar.subarray(n.offset%2Cn.offset%2Be)%7D)%2Cn.offset%2B%3De%7Dwhile(n.offset%3Cr.length)%7Dcatch(e)%7B-1%3D%3D%3De.message.indexOf(%22session%20is%20closed%22)%26%26console.error(%22H3Transport%3A%20failed%20to%20read%20incoming%20data%22%2Ce)%3Bbreak%7Dif(e.done)break%7D%7D))%7DreadIncomingUnreliableData()%7Breturn%20e.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Blet%20e%3Bfor(%3Bthis.isOpen%3B)%7Btry%7Be%3Dyield%20this.unreliableReader.read()%3Bconst%20r%3De.value%2Cn%3D%7Boffset%3A0%7D%3Bdo%7Bconst%20e%3Dt.decode.number(r%2Cn)%3Bthis.events.onmessage(%7Bdata%3Ar.subarray(n.offset%2Cn.offset%2Be)%7D)%2Cn.offset%2B%3De%7Dwhile(n.offset%3Cr.length)%7Dcatch(e)%7B-1%3D%3D%3De.message.indexOf(%22session%20is%20closed%22)%26%26console.error(%22H3Transport%3A%20failed%20to%20read%20incoming%20data%22%2Ce)%3Bbreak%7Dif(e.done)break%7D%7D))%7DsendSeatReservation(e%2Cr%2Cn)%7Bconst%20s%3D%7Boffset%3A0%7D%2Ci%3D%5B%5D%3Bt.encode.string(i%2Ce%2Cs)%2Ct.encode.string(i%2Cr%2Cs)%2Cn%26%26t.encode.string(i%2Cn%2Cs)%2Cthis.writer.write(new%20Uint8Array(i).buffer)%7D_close()%7Bthis.isOpen%3D!1%7D%7D%2Cpe%7Dvar%20be%2Cwe%2Cve%2CEe%2COe%3D%7B%7D%3Bfunction%20Ie()%7Bif(ve)return%20Oe%3Bve%3D1%3Bvar%20e%3Dwe%3Fbe%3A(we%3D1%2Cbe%3Dfunction()%7Bthrow%20new%20Error(%22ws%20does%20not%20work%20in%20the%20browser.%20Browser%20clients%20must%20use%20the%20native%20WebSocket%20object%22)%7D)%3Bconst%20t%3DglobalThis.WebSocket%7C%7Ce%3Breturn%20Oe.WebSocketTransport%3Dclass%7Bconstructor(e)%7Bthis.events%3De%7Dsend(e)%7Bthis.ws.send(e)%7DsendUnreliable(e)%7Bconsole.warn(%22colyseus.js%3A%20The%20WebSocket%20transport%20does%20not%20support%20unreliable%20messages%22)%7Dconnect(e%2Cr)%7Btry%7Bthis.ws%3Dnew%20t(e%2C%7Bheaders%3Ar%2Cprotocols%3Athis.protocols%7D)%7Dcatch(r)%7Bthis.ws%3Dnew%20t(e%2Cthis.protocols)%7Dthis.ws.binaryType%3D%22arraybuffer%22%2Cthis.ws.onopen%3Dthis.events.onopen%2Cthis.ws.onmessage%3Dthis.events.onmessage%2Cthis.ws.onclose%3Dthis.events.onclose%2Cthis.ws.onerror%3Dthis.events.onerror%7Dclose(e%2Ct)%7Bthis.ws.close(e%2Ct)%7Dget%20isOpen()%7Breturn%20this.ws.readyState%3D%3D%3Dt.OPEN%7D%7D%2COe%7Dfunction%20Ae()%7Bif(Ee)return%20de%3BEe%3D1%3Bvar%20e%3Dme()%2Ct%3DIe()%3Breturn%20de.Connection%3Dclass%7Bconstructor(r)%7Bif(this.events%3D%7B%7D%2C%22h3%22%3D%3D%3Dr)this.transport%3Dnew%20e.H3TransportTransport(this.events)%3Belse%20this.transport%3Dnew%20t.WebSocketTransport(this.events)%7Dconnect(e%2Ct)%7Bthis.transport.connect.call(this.transport%2Ce%2Ct)%7Dsend(e)%7Bthis.transport.send(e)%7DsendUnreliable(e)%7Bthis.transport.sendUnreliable(e)%7Dclose(e%2Ct)%7Bthis.transport.close(e%2Ct)%7Dget%20isOpen()%7Breturn%20this.transport.isOpen%7D%7D%2Cde%7Dvar%20Se%2CTe%3D%7B%7D%3Bfunction%20_e()%7Breturn%20Se%7C%7C(Se%3D1%2C(e%3DTe).Protocol%3Dvoid%200%2Cfunction(e)%7Be%5Be.HANDSHAKE%3D9%5D%3D%22HANDSHAKE%22%2Ce%5Be.JOIN_ROOM%3D10%5D%3D%22JOIN_ROOM%22%2Ce%5Be.ERROR%3D11%5D%3D%22ERROR%22%2Ce%5Be.LEAVE_ROOM%3D12%5D%3D%22LEAVE_ROOM%22%2Ce%5Be.ROOM_DATA%3D13%5D%3D%22ROOM_DATA%22%2Ce%5Be.ROOM_STATE%3D14%5D%3D%22ROOM_STATE%22%2Ce%5Be.ROOM_STATE_PATCH%3D15%5D%3D%22ROOM_STATE_PATCH%22%2Ce%5Be.ROOM_DATA_SCHEMA%3D16%5D%3D%22ROOM_DATA_SCHEMA%22%2Ce%5Be.ROOM_DATA_BYTES%3D17%5D%3D%22ROOM_DATA_BYTES%22%7D(e.Protocol%7C%7C(e.Protocol%3D%7B%7D))%2Ce.ErrorCode%3Dvoid%200%2C(t%3De.ErrorCode%7C%7C(e.ErrorCode%3D%7B%7D))%5Bt.MATCHMAKE_NO_HANDLER%3D4210%5D%3D%22MATCHMAKE_NO_HANDLER%22%2Ct%5Bt.MATCHMAKE_INVALID_CRITERIA%3D4211%5D%3D%22MATCHMAKE_INVALID_CRITERIA%22%2Ct%5Bt.MATCHMAKE_INVALID_ROOM_ID%3D4212%5D%3D%22MATCHMAKE_INVALID_ROOM_ID%22%2Ct%5Bt.MATCHMAKE_UNHANDLED%3D4213%5D%3D%22MATCHMAKE_UNHANDLED%22%2Ct%5Bt.MATCHMAKE_EXPIRED%3D4214%5D%3D%22MATCHMAKE_EXPIRED%22%2Ct%5Bt.AUTH_FAILED%3D4215%5D%3D%22AUTH_FAILED%22%2Ct%5Bt.APPLICATION_ERROR%3D4216%5D%3D%22APPLICATION_ERROR%22)%2CTe%3Bvar%20e%2Ct%7Dvar%20Ce%2CRe%3D%7B%7D%3Bfunction%20xe()%7Bif(Ce)return%20Re%3BCe%3D1%3Bconst%20e%3D%7B%7D%3Breturn%20Re.getSerializer%3Dfunction(t)%7Bconst%20r%3De%5Bt%5D%3Bif(!r)throw%20new%20Error(%22missing%20serializer%3A%20%22%2Bt)%3Breturn%20r%7D%2CRe.registerSerializer%3Dfunction(t%2Cr)%7Be%5Bt%5D%3Dr%7D%2CRe%7Dvar%20Pe%2CDe%3D%7B%7D%3Bfunction%20ke()%7Bif(Pe)return%20De%3BPe%3D1%3Breturn%20De.createNanoEvents%3D()%3D%3E(%7Bemit(e%2C...t)%7Blet%20r%3Dthis.events%5Be%5D%7C%7C%5B%5D%3Bfor(let%20e%3D0%2Cn%3Dr.length%3Be%3Cn%3Be%2B%2B)r%5Be%5D(...t)%7D%2Cevents%3A%7B%7D%2Con(e%2Ct)%7Bvar%20r%3Breturn(null%3D%3D%3D(r%3Dthis.events%5Be%5D)%7C%7Cvoid%200%3D%3D%3Dr%3Fvoid%200%3Ar.push(t))%7C%7C(this.events%5Be%5D%3D%5Bt%5D)%2C()%3D%3E%7Bvar%20r%3Bthis.events%5Be%5D%3Dnull%3D%3D%3D(r%3Dthis.events%5Be%5D)%7C%7Cvoid%200%3D%3D%3Dr%3Fvoid%200%3Ar.filter((e%3D%3Et!%3D%3De))%7D%7D%7D)%2CDe%7Dvar%20%24e%2CNe%3D%7B%7D%3Bfunction%20Ue()%7Bif(%24e)return%20Ne%3B%24e%3D1%3Bclass%20e%7Bconstructor()%7Bthis.handlers%3D%5B%5D%7Dregister(e%2Ct%3D!1)%7Breturn%20this.handlers.push(e)%2Cthis%7Dinvoke(...e)%7Bthis.handlers.forEach((t%3D%3Et.apply(this%2Ce)))%7DinvokeAsync(...e)%7Breturn%20Promise.all(this.handlers.map((t%3D%3Et.apply(this%2Ce))))%7Dremove(e)%7Bconst%20t%3Dthis.handlers.indexOf(e)%3Bthis.handlers%5Bt%5D%3Dthis.handlers%5Bthis.handlers.length-1%5D%2Cthis.handlers.pop()%7Dclear()%7Bthis.handlers%3D%5B%5D%7D%7Dreturn%20Ne.EventEmitter%3De%2CNe.createSignal%3Dfunction()%7Bconst%20t%3Dnew%20e%3Bfunction%20r(e)%7Breturn%20t.register(e%2Cnull%3D%3D%3Dthis)%7Dreturn%20r.once%3De%3D%3E%7Bconst%20r%3Dfunction(...n)%7Be.apply(this%2Cn)%2Ct.remove(r)%7D%3Bt.register(r)%7D%2Cr.remove%3De%3D%3Et.remove(e)%2Cr.invoke%3D(...e)%3D%3Et.invoke(...e)%2Cr.invokeAsync%3D(...e)%3D%3Et.invokeAsync(...e)%2Cr.clear%3D()%3D%3Et.clear()%2Cr%7D%2CNe%7Dvar%20Me%2Cje%2CBe%2CLe%2CFe%3D%7B%7D%3Bfunction%20Ve()%7Bif(Me)return%20Fe%3BMe%3D1%3Bvar%20e%3Dye()%3Breturn%20Fe.SchemaSerializer%3Dclass%7BsetState(e%2Ct)%7Bthis.decoder.decode(e%2Ct)%7DgetState()%7Breturn%20this.state%7Dpatch(e%2Ct)%7Breturn%20this.decoder.decode(e%2Ct)%7Dteardown()%7Bthis.decoder.root.clearRefs()%7Dhandshake(t%2Cr)%7Bthis.state%3F(e.Reflection.decode(t%2Cr)%2Cthis.decoder%3Dnew%20e.Decoder(this.state))%3A(this.decoder%3De.Reflection.decode(t%2Cr)%2Cthis.state%3Dthis.decoder.state)%7D%7D%2CFe.getStateCallbacks%3Dfunction(t)%7Btry%7Breturn%20e.getDecoderStateCallbacks(t.serializer.decoder)%7Dcatch(e)%7Breturn%7D%7D%2CFe%7Dtry%7Bje%3Dnew%20TextDecoder%7Dcatch(e)%7B%7Dvar%20ze%2CWe%2CHe%2Cqe%2CJe%2CGe%3D0%2CKe%3D%7B%7D%2CYe%3D0%2CXe%3D0%2CZe%3D%5B%5D%2CQe%3D%7BuseRecords%3A!1%2CmapsAsObjects%3A!0%7D%3Bclass%20et%7B%7Dconst%20tt%3Dnew%20et%3Btt.name%3D%22MessagePack%200xC1%22%3Bvar%20rt%3D!1%2Cnt%3D2%3Btry%7Bnew%20Function(%22%22)%7Dcatch(e)%7Bnt%3D1%2F0%7Dclass%20st%7Bconstructor(e)%7Be%26%26(!1%3D%3D%3De.useRecords%26%26void%200%3D%3D%3De.mapsAsObjects%26%26(e.mapsAsObjects%3D!0)%2Ce.sequential%26%26!1!%3D%3De.trusted%26%26(e.trusted%3D!0%2Ce.structures%7C%7C0%3D%3De.useRecords%7C%7C(e.structures%3D%5B%5D%2Ce.maxSharedStructures%7C%7C(e.maxSharedStructures%3D0)))%2Ce.structures%3Fe.structures.sharedLength%3De.structures.length%3Ae.getStructures%26%26((e.structures%3D%5B%5D).uninitialized%3D!0%2Ce.structures.sharedLength%3D0)%2Ce.int64AsNumber%26%26(e.int64AsType%3D%22number%22))%2CObject.assign(this%2Ce)%7Dunpack(e%2Ct)%7Bif(Be)return%20kt((()%3D%3E(%24t()%2Cthis%3Fthis.unpack(e%2Ct)%3Ast.prototype.unpack.call(Qe%2Ce%2Ct))))%3Be.buffer%7C%7Ce.constructor!%3D%3DArrayBuffer%7C%7C(e%3D%22undefined%22!%3Dtypeof%20Buffer%3FBuffer.from(e)%3Anew%20Uint8Array(e))%2C%22object%22%3D%3Dtypeof%20t%3F(Le%3Dt.end%7C%7Ce.length%2CGe%3Dt.start%7C%7C0)%3A(Ge%3D0%2CLe%3Dt%3E-1%3Ft%3Ae.length)%2CXe%3D0%2CWe%3Dnull%2CHe%3Dnull%2CBe%3De%3Btry%7BJe%3De.dataView%7C%7C(e.dataView%3Dnew%20DataView(e.buffer%2Ce.byteOffset%2Ce.byteLength))%7Dcatch(t)%7Bif(Be%3Dnull%2Ce%20instanceof%20Uint8Array)throw%20t%3Bthrow%20new%20Error(%22Source%20must%20be%20a%20Uint8Array%20or%20Buffer%20but%20was%20a%20%22%2B(e%26%26%22object%22%3D%3Dtypeof%20e%3Fe.constructor.name%3Atypeof%20e))%7Dif(this%20instanceof%20st)%7Bif(Ke%3Dthis%2Cthis.structures)return%20ze%3Dthis.structures%2Cit(t)%3B(!ze%7C%7Cze.length%3E0)%26%26(ze%3D%5B%5D)%7Delse%20Ke%3DQe%2C(!ze%7C%7Cze.length%3E0)%26%26(ze%3D%5B%5D)%3Breturn%20it(t)%7DunpackMultiple(e%2Ct)%7Blet%20r%2Cn%3D0%3Btry%7Brt%3D!0%3Blet%20s%3De.length%2Ci%3Dthis%3Fthis.unpack(e%2Cs)%3AMt.unpack(e%2Cs)%3Bif(!t)%7Bfor(r%3D%5Bi%5D%3BGe%3Cs%3B)n%3DGe%2Cr.push(it())%3Breturn%20r%7Dif(!1%3D%3D%3Dt(i%2Cn%2CGe))return%3Bfor(%3BGe%3Cs%3B)if(n%3DGe%2C!1%3D%3D%3Dt(it()%2Cn%2CGe))return%7Dcatch(e)%7Bthrow%20e.lastPosition%3Dn%2Ce.values%3Dr%2Ce%7Dfinally%7Brt%3D!1%2C%24t()%7D%7D_mergeStructures(e%2Ct)%7Be%3De%7C%7C%5B%5D%2CObject.isFrozen(e)%26%26(e%3De.map((e%3D%3Ee.slice(0))))%3Bfor(let%20t%3D0%2Cr%3De.length%3Bt%3Cr%3Bt%2B%2B)%7Blet%20r%3De%5Bt%5D%3Br%26%26(r.isShared%3D!0%2Ct%3E%3D32%26%26(r.highByte%3Dt-32%3E%3E5))%7De.sharedLength%3De.length%3Bfor(let%20r%20in%20t%7C%7C%5B%5D)if(r%3E%3D0)%7Blet%20n%3De%5Br%5D%2Cs%3Dt%5Br%5D%3Bs%26%26(n%26%26((e.restoreStructures%7C%7C(e.restoreStructures%3D%5B%5D))%5Br%5D%3Dn)%2Ce%5Br%5D%3Ds)%7Dreturn%20this.structures%3De%7Ddecode(e%2Ct)%7Breturn%20this.unpack(e%2Ct)%7D%7Dfunction%20it(e)%7Btry%7Bif(!Ke.trusted%26%26!rt)%7Blet%20e%3Dze.sharedLength%7C%7C0%3Be%3Cze.length%26%26(ze.length%3De)%7Dlet%20e%3Bif(Ke.randomAccessStructure%26%26Be%5BGe%5D%3C64%26%26Be%5BGe%5D%2Ce%3Dat()%2CHe%26%26(Ge%3DHe.postBundlePosition%2CHe%3Dnull)%2Crt%26%26(ze.restoreStructures%3Dnull)%2CGe%3D%3DLe)ze%26%26ze.restoreStructures%26%26ot()%2Cze%3Dnull%2CBe%3Dnull%2Cqe%26%26(qe%3Dnull)%3Belse%7Bif(Ge%3ELe)throw%20new%20Error(%22Unexpected%20end%20of%20MessagePack%20data%22)%3Bif(!rt)%7Blet%20t%3Btry%7Bt%3DJSON.stringify(e%2C((e%2Ct)%3D%3E%22bigint%22%3D%3Dtypeof%20t%3F%60%24%7Bt%7Dn%60%3At)).slice(0%2C100)%7Dcatch(e)%7Bt%3D%22(JSON%20view%20not%20available%20%22%2Be%2B%22)%22%7Dthrow%20new%20Error(%22Data%20read%2C%20but%20end%20of%20buffer%20not%20reached%20%22%2Bt)%7D%7Dreturn%20e%7Dcatch(e)%7Bthrow%20ze%26%26ze.restoreStructures%26%26ot()%2C%24t()%2C(e%20instanceof%20RangeError%7C%7Ce.message.startsWith(%22Unexpected%20end%20of%20buffer%22)%7C%7CGe%3ELe)%26%26(e.incomplete%3D!0)%2Ce%7D%7Dfunction%20ot()%7Bfor(let%20e%20in%20ze.restoreStructures)ze%5Be%5D%3Dze.restoreStructures%5Be%5D%3Bze.restoreStructures%3Dnull%7Dfunction%20at()%7Blet%20e%3DBe%5BGe%2B%2B%5D%3Bif(e%3C160)%7Bif(e%3C128)%7Bif(e%3C64)return%20e%3B%7Blet%20t%3Dze%5B63%26e%5D%7C%7CKe.getStructures%26%26ut()%5B63%26e%5D%3Breturn%20t%3F(t.read%7C%7C(t.read%3Dht(t%2C63%26e))%2Ct.read())%3Ae%7D%7Dif(e%3C144)%7Bif(e-%3D128%2CKe.mapsAsObjects)%7Blet%20t%3D%7B%7D%3Bfor(let%20r%3D0%3Br%3Ce%3Br%2B%2B)%7Blet%20e%3DTt()%3B%22__proto__%22%3D%3D%3De%26%26(e%3D%22__proto_%22)%2Ct%5Be%5D%3Dat()%7Dreturn%20t%7D%7Blet%20t%3Dnew%20Map%3Bfor(let%20r%3D0%3Br%3Ce%3Br%2B%2B)t.set(at()%2Cat())%3Breturn%20t%7D%7D%7Be-%3D144%3Blet%20t%3Dnew%20Array(e)%3Bfor(let%20r%3D0%3Br%3Ce%3Br%2B%2B)t%5Br%5D%3Dat()%3Breturn%20Ke.freezeData%3FObject.freeze(t)%3At%7D%7Dif(e%3C192)%7Blet%20t%3De-160%3Bif(Xe%3E%3DGe)return%20We.slice(Ge-Ye%2C(Ge%2B%3Dt)-Ye)%3Bif(0%3D%3DXe%26%26Le%3C140)%7Blet%20e%3Dt%3C16%3FEt(t)%3Avt(t)%3Bif(null!%3De)return%20e%7Dreturn%20ft(t)%7D%7Blet%20t%3Bswitch(e)%7Bcase%20192%3Areturn%20null%3Bcase%20193%3Areturn%20He%3F(t%3Dat()%2Ct%3E0%3FHe%5B1%5D.slice(He.position1%2CHe.position1%2B%3Dt)%3AHe%5B0%5D.slice(He.position0%2CHe.position0-%3Dt))%3Att%3Bcase%20194%3Areturn!1%3Bcase%20195%3Areturn!0%3Bcase%20196%3Aif(t%3DBe%5BGe%2B%2B%5D%2Cvoid%200%3D%3D%3Dt)throw%20new%20Error(%22Unexpected%20end%20of%20buffer%22)%3Breturn%20It(t)%3Bcase%20197%3Areturn%20t%3DJe.getUint16(Ge)%2CGe%2B%3D2%2CIt(t)%3Bcase%20198%3Areturn%20t%3DJe.getUint32(Ge)%2CGe%2B%3D4%2CIt(t)%3Bcase%20199%3Areturn%20At(Be%5BGe%2B%2B%5D)%3Bcase%20200%3Areturn%20t%3DJe.getUint16(Ge)%2CGe%2B%3D2%2CAt(t)%3Bcase%20201%3Areturn%20t%3DJe.getUint32(Ge)%2CGe%2B%3D4%2CAt(t)%3Bcase%20202%3Aif(t%3DJe.getFloat32(Ge)%2CKe.useFloat32%3E2)%7Blet%20e%3DNt%5B(127%26Be%5BGe%5D)%3C%3C1%7CBe%5BGe%2B1%5D%3E%3E7%5D%3Breturn%20Ge%2B%3D4%2C(e*t%2B(t%3E0%3F.5%3A-.5)%7C0)%2Fe%7Dreturn%20Ge%2B%3D4%2Ct%3Bcase%20203%3Areturn%20t%3DJe.getFloat64(Ge)%2CGe%2B%3D8%2Ct%3Bcase%20204%3Areturn%20Be%5BGe%2B%2B%5D%3Bcase%20205%3Areturn%20t%3DJe.getUint16(Ge)%2CGe%2B%3D2%2Ct%3Bcase%20206%3Areturn%20t%3DJe.getUint32(Ge)%2CGe%2B%3D4%2Ct%3Bcase%20207%3Areturn%22number%22%3D%3D%3DKe.int64AsType%3F(t%3D4294967296*Je.getUint32(Ge)%2Ct%2B%3DJe.getUint32(Ge%2B4))%3A%22string%22%3D%3D%3DKe.int64AsType%3Ft%3DJe.getBigUint64(Ge).toString()%3A%22auto%22%3D%3D%3DKe.int64AsType%3F(t%3DJe.getBigUint64(Ge)%2Ct%3C%3DBigInt(2)%3C%3CBigInt(52)%26%26(t%3DNumber(t)))%3At%3DJe.getBigUint64(Ge)%2CGe%2B%3D8%2Ct%3Bcase%20208%3Areturn%20Je.getInt8(Ge%2B%2B)%3Bcase%20209%3Areturn%20t%3DJe.getInt16(Ge)%2CGe%2B%3D2%2Ct%3Bcase%20210%3Areturn%20t%3DJe.getInt32(Ge)%2CGe%2B%3D4%2Ct%3Bcase%20211%3Areturn%22number%22%3D%3D%3DKe.int64AsType%3F(t%3D4294967296*Je.getInt32(Ge)%2Ct%2B%3DJe.getUint32(Ge%2B4))%3A%22string%22%3D%3D%3DKe.int64AsType%3Ft%3DJe.getBigInt64(Ge).toString()%3A%22auto%22%3D%3D%3DKe.int64AsType%3F(t%3DJe.getBigInt64(Ge)%2Ct%3E%3DBigInt(-2)%3C%3CBigInt(52)%26%26t%3C%3DBigInt(2)%3C%3CBigInt(52)%26%26(t%3DNumber(t)))%3At%3DJe.getBigInt64(Ge)%2CGe%2B%3D8%2Ct%3Bcase%20212%3Aif(t%3DBe%5BGe%2B%2B%5D%2C114%3D%3Dt)return%20Ct(63%26Be%5BGe%2B%2B%5D)%3B%7Blet%20e%3DZe%5Bt%5D%3Bif(e)return%20e.read%3F(Ge%2B%2B%2Ce.read(at()))%3Ae.noBuffer%3F(Ge%2B%2B%2Ce())%3Ae(Be.subarray(Ge%2C%2B%2BGe))%3Bthrow%20new%20Error(%22Unknown%20extension%20%22%2Bt)%7Dcase%20213%3Areturn%20t%3DBe%5BGe%5D%2C114%3D%3Dt%3F(Ge%2B%2B%2CCt(63%26Be%5BGe%2B%2B%5D%2CBe%5BGe%2B%2B%5D))%3AAt(2)%3Bcase%20214%3Areturn%20At(4)%3Bcase%20215%3Areturn%20At(8)%3Bcase%20216%3Areturn%20At(16)%3Bcase%20217%3Areturn%20t%3DBe%5BGe%2B%2B%5D%2CXe%3E%3DGe%3FWe.slice(Ge-Ye%2C(Ge%2B%3Dt)-Ye)%3Adt(t)%3Bcase%20218%3Areturn%20t%3DJe.getUint16(Ge)%2CXe%3E%3D(Ge%2B%3D2)%3FWe.slice(Ge-Ye%2C(Ge%2B%3Dt)-Ye)%3Apt(t)%3Bcase%20219%3Areturn%20t%3DJe.getUint32(Ge)%2CXe%3E%3D(Ge%2B%3D4)%3FWe.slice(Ge-Ye%2C(Ge%2B%3Dt)-Ye)%3Agt(t)%3Bcase%20220%3Areturn%20t%3DJe.getUint16(Ge)%2CGe%2B%3D2%2Cmt(t)%3Bcase%20221%3Areturn%20t%3DJe.getUint32(Ge)%2CGe%2B%3D4%2Cmt(t)%3Bcase%20222%3Areturn%20t%3DJe.getUint16(Ge)%2CGe%2B%3D2%2Cbt(t)%3Bcase%20223%3Areturn%20t%3DJe.getUint32(Ge)%2CGe%2B%3D4%2Cbt(t)%3Bdefault%3Aif(e%3E%3D224)return%20e-256%3Bif(void%200%3D%3D%3De)%7Blet%20e%3Dnew%20Error(%22Unexpected%20end%20of%20MessagePack%20data%22)%3Bthrow%20e.incomplete%3D!0%2Ce%7Dthrow%20new%20Error(%22Unknown%20MessagePack%20token%20%22%2Be)%7D%7D%7Dconst%20ct%3D%2F%5E%5Ba-zA-Z_%24%5D%5Ba-zA-Z%5Cd_%24%5D*%24%2F%3Bfunction%20ht(e%2Ct)%7Bfunction%20r()%7Bif(r.count%2B%2B%3Ent)%7Blet%20r%3De.read%3Dnew%20Function(%22r%22%2C%22return%20function()%7Breturn%20%22%2B(Ke.freezeData%3F%22Object.freeze%22%3A%22%22)%2B%22(%7B%22%2Be.map((e%3D%3E%22__proto__%22%3D%3D%3De%3F%22__proto_%3Ar()%22%3Act.test(e)%3Fe%2B%22%3Ar()%22%3A%22%5B%22%2BJSON.stringify(e)%2B%22%5D%3Ar()%22)).join(%22%2C%22)%2B%22%7D)%7D%22)(at)%3Breturn%200%3D%3D%3De.highByte%26%26(e.read%3Dlt(t%2Ce.read))%2Cr()%7Dlet%20n%3D%7B%7D%3Bfor(let%20t%3D0%2Cr%3De.length%3Bt%3Cr%3Bt%2B%2B)%7Blet%20r%3De%5Bt%5D%3B%22__proto__%22%3D%3D%3Dr%26%26(r%3D%22__proto_%22)%2Cn%5Br%5D%3Dat()%7Dreturn%20Ke.freezeData%3FObject.freeze(n)%3An%7Dreturn%20r.count%3D0%2C0%3D%3D%3De.highByte%3Flt(t%2Cr)%3Ar%7Dconst%20lt%3D(e%2Ct)%3D%3Efunction()%7Blet%20r%3DBe%5BGe%2B%2B%5D%3Bif(0%3D%3D%3Dr)return%20t()%3Blet%20n%3De%3C32%3F-(e%2B(r%3C%3C5))%3Ae%2B(r%3C%3C5)%2Cs%3Dze%5Bn%5D%7C%7Cut()%5Bn%5D%3Bif(!s)throw%20new%20Error(%22Record%20id%20is%20not%20defined%20for%20%22%2Bn)%3Breturn%20s.read%7C%7C(s.read%3Dht(s%2Ce))%2Cs.read()%7D%3Bfunction%20ut()%7Blet%20e%3Dkt((()%3D%3E(Be%3Dnull%2CKe.getStructures())))%3Breturn%20ze%3DKe._mergeStructures(e%2Cze)%7Dvar%20ft%3Dyt%2Cdt%3Dyt%2Cpt%3Dyt%2Cgt%3Dyt%3Bfunction%20yt(e)%7Blet%20t%3Bif(e%3C16%26%26(t%3DEt(e)))return%20t%3Bif(e%3E64%26%26je)return%20je.decode(Be.subarray(Ge%2CGe%2B%3De))%3Bconst%20r%3DGe%2Be%2Cn%3D%5B%5D%3Bfor(t%3D%22%22%3BGe%3Cr%3B)%7Bconst%20e%3DBe%5BGe%2B%2B%5D%3Bif(128%26e)if(192%3D%3D(224%26e))%7Bconst%20t%3D63%26Be%5BGe%2B%2B%5D%3Bn.push((31%26e)%3C%3C6%7Ct)%7Delse%20if(224%3D%3D(240%26e))%7Bconst%20t%3D63%26Be%5BGe%2B%2B%5D%2Cr%3D63%26Be%5BGe%2B%2B%5D%3Bn.push((31%26e)%3C%3C12%7Ct%3C%3C6%7Cr)%7Delse%20if(240%3D%3D(248%26e))%7Blet%20t%3D(7%26e)%3C%3C18%7C(63%26Be%5BGe%2B%2B%5D)%3C%3C12%7C(63%26Be%5BGe%2B%2B%5D)%3C%3C6%7C63%26Be%5BGe%2B%2B%5D%3Bt%3E65535%26%26(t-%3D65536%2Cn.push(t%3E%3E%3E10%261023%7C55296)%2Ct%3D56320%7C1023%26t)%2Cn.push(t)%7Delse%20n.push(e)%3Belse%20n.push(e)%3Bn.length%3E%3D4096%26%26(t%2B%3Dwt.apply(String%2Cn)%2Cn.length%3D0)%7Dreturn%20n.length%3E0%26%26(t%2B%3Dwt.apply(String%2Cn))%2Ct%7Dfunction%20mt(e)%7Blet%20t%3Dnew%20Array(e)%3Bfor(let%20r%3D0%3Br%3Ce%3Br%2B%2B)t%5Br%5D%3Dat()%3Breturn%20Ke.freezeData%3FObject.freeze(t)%3At%7Dfunction%20bt(e)%7Bif(Ke.mapsAsObjects)%7Blet%20t%3D%7B%7D%3Bfor(let%20r%3D0%3Br%3Ce%3Br%2B%2B)%7Blet%20e%3DTt()%3B%22__proto__%22%3D%3D%3De%26%26(e%3D%22__proto_%22)%2Ct%5Be%5D%3Dat()%7Dreturn%20t%7D%7Blet%20t%3Dnew%20Map%3Bfor(let%20r%3D0%3Br%3Ce%3Br%2B%2B)t.set(at()%2Cat())%3Breturn%20t%7D%7Dvar%20wt%3DString.fromCharCode%3Bfunction%20vt(e)%7Blet%20t%3DGe%2Cr%3Dnew%20Array(e)%3Bfor(let%20n%3D0%3Bn%3Ce%3Bn%2B%2B)%7Bconst%20e%3DBe%5BGe%2B%2B%5D%3Bif((128%26e)%3E0)return%20void(Ge%3Dt)%3Br%5Bn%5D%3De%7Dreturn%20wt.apply(String%2Cr)%7Dfunction%20Et(e)%7Bif(e%3C4)%7Bif(e%3C2)%7Bif(0%3D%3D%3De)return%22%22%3B%7Blet%20e%3DBe%5BGe%2B%2B%5D%3Breturn(128%26e)%3E1%3Fvoid(Ge-%3D1)%3Awt(e)%7D%7D%7Blet%20t%3DBe%5BGe%2B%2B%5D%2Cr%3DBe%5BGe%2B%2B%5D%3Bif((128%26t)%3E0%7C%7C(128%26r)%3E0)return%20void(Ge-%3D2)%3Bif(e%3C3)return%20wt(t%2Cr)%3Blet%20n%3DBe%5BGe%2B%2B%5D%3Breturn(128%26n)%3E0%3Fvoid(Ge-%3D3)%3Awt(t%2Cr%2Cn)%7D%7D%7Blet%20t%3DBe%5BGe%2B%2B%5D%2Cr%3DBe%5BGe%2B%2B%5D%2Cn%3DBe%5BGe%2B%2B%5D%2Cs%3DBe%5BGe%2B%2B%5D%3Bif((128%26t)%3E0%7C%7C(128%26r)%3E0%7C%7C(128%26n)%3E0%7C%7C(128%26s)%3E0)return%20void(Ge-%3D4)%3Bif(e%3C6)%7Bif(4%3D%3D%3De)return%20wt(t%2Cr%2Cn%2Cs)%3B%7Blet%20e%3DBe%5BGe%2B%2B%5D%3Breturn(128%26e)%3E0%3Fvoid(Ge-%3D5)%3Awt(t%2Cr%2Cn%2Cs%2Ce)%7D%7Dif(e%3C8)%7Blet%20i%3DBe%5BGe%2B%2B%5D%2Co%3DBe%5BGe%2B%2B%5D%3Bif((128%26i)%3E0%7C%7C(128%26o)%3E0)return%20void(Ge-%3D6)%3Bif(e%3C7)return%20wt(t%2Cr%2Cn%2Cs%2Ci%2Co)%3Blet%20a%3DBe%5BGe%2B%2B%5D%3Breturn(128%26a)%3E0%3Fvoid(Ge-%3D7)%3Awt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca)%7D%7Blet%20i%3DBe%5BGe%2B%2B%5D%2Co%3DBe%5BGe%2B%2B%5D%2Ca%3DBe%5BGe%2B%2B%5D%2Cc%3DBe%5BGe%2B%2B%5D%3Bif((128%26i)%3E0%7C%7C(128%26o)%3E0%7C%7C(128%26a)%3E0%7C%7C(128%26c)%3E0)return%20void(Ge-%3D8)%3Bif(e%3C10)%7Bif(8%3D%3D%3De)return%20wt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc)%3B%7Blet%20e%3DBe%5BGe%2B%2B%5D%3Breturn(128%26e)%3E0%3Fvoid(Ge-%3D9)%3Awt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ce)%7D%7Dif(e%3C12)%7Blet%20h%3DBe%5BGe%2B%2B%5D%2Cl%3DBe%5BGe%2B%2B%5D%3Bif((128%26h)%3E0%7C%7C(128%26l)%3E0)return%20void(Ge-%3D10)%3Bif(e%3C11)return%20wt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch%2Cl)%3Blet%20u%3DBe%5BGe%2B%2B%5D%3Breturn(128%26u)%3E0%3Fvoid(Ge-%3D11)%3Awt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch%2Cl%2Cu)%7D%7Blet%20h%3DBe%5BGe%2B%2B%5D%2Cl%3DBe%5BGe%2B%2B%5D%2Cu%3DBe%5BGe%2B%2B%5D%2Cf%3DBe%5BGe%2B%2B%5D%3Bif((128%26h)%3E0%7C%7C(128%26l)%3E0%7C%7C(128%26u)%3E0%7C%7C(128%26f)%3E0)return%20void(Ge-%3D12)%3Bif(e%3C14)%7Bif(12%3D%3D%3De)return%20wt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch%2Cl%2Cu%2Cf)%3B%7Blet%20e%3DBe%5BGe%2B%2B%5D%3Breturn(128%26e)%3E0%3Fvoid(Ge-%3D13)%3Awt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch%2Cl%2Cu%2Cf%2Ce)%7D%7D%7Blet%20d%3DBe%5BGe%2B%2B%5D%2Cp%3DBe%5BGe%2B%2B%5D%3Bif((128%26d)%3E0%7C%7C(128%26p)%3E0)return%20void(Ge-%3D14)%3Bif(e%3C15)return%20wt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch%2Cl%2Cu%2Cf%2Cd%2Cp)%3Blet%20g%3DBe%5BGe%2B%2B%5D%3Breturn(128%26g)%3E0%3Fvoid(Ge-%3D15)%3Awt(t%2Cr%2Cn%2Cs%2Ci%2Co%2Ca%2Cc%2Ch%2Cl%2Cu%2Cf%2Cd%2Cp%2Cg)%7D%7D%7D%7D%7Dfunction%20Ot()%7Blet%20e%2Ct%3DBe%5BGe%2B%2B%5D%3Bif(t%3C192)e%3Dt-160%3Belse%20switch(t)%7Bcase%20217%3Ae%3DBe%5BGe%2B%2B%5D%3Bbreak%3Bcase%20218%3Ae%3DJe.getUint16(Ge)%2CGe%2B%3D2%3Bbreak%3Bcase%20219%3Ae%3DJe.getUint32(Ge)%2CGe%2B%3D4%3Bbreak%3Bdefault%3Athrow%20new%20Error(%22Expected%20string%22)%7Dreturn%20yt(e)%7Dfunction%20It(e)%7Breturn%20Ke.copyBuffers%3FUint8Array.prototype.slice.call(Be%2CGe%2CGe%2B%3De)%3ABe.subarray(Ge%2CGe%2B%3De)%7Dfunction%20At(e)%7Blet%20t%3DBe%5BGe%2B%2B%5D%3Bif(Ze%5Bt%5D)%7Blet%20r%3Breturn%20Ze%5Bt%5D(Be.subarray(Ge%2Cr%3DGe%2B%3De)%2C(e%3D%3E%7BGe%3De%3Btry%7Breturn%20at()%7Dfinally%7BGe%3Dr%7D%7D))%7Dthrow%20new%20Error(%22Unknown%20extension%20type%20%22%2Bt)%7Dvar%20St%3Dnew%20Array(4096)%3Bfunction%20Tt()%7Blet%20e%3DBe%5BGe%2B%2B%5D%3Bif(!(e%3E%3D160%26%26e%3C192))return%20Ge--%2C_t(at())%3Bif(e-%3D160%2CXe%3E%3DGe)return%20We.slice(Ge-Ye%2C(Ge%2B%3De)-Ye)%3Bif(!(0%3D%3DXe%26%26Le%3C180))return%20ft(e)%3Blet%20t%2Cr%3D4095%26(e%3C%3C5%5E(e%3E1%3FJe.getUint16(Ge)%3Ae%3E0%3FBe%5BGe%5D%3A0))%2Cn%3DSt%5Br%5D%2Cs%3DGe%2Ci%3DGe%2Be-3%2Co%3D0%3Bif(n%26%26n.bytes%3D%3De)%7Bfor(%3Bs%3Ci%3B)%7Bif(t%3DJe.getUint32(s)%2Ct!%3Dn%5Bo%2B%2B%5D)%7Bs%3D1879048192%3Bbreak%7Ds%2B%3D4%7Dfor(i%2B%3D3%3Bs%3Ci%3B)if(t%3DBe%5Bs%2B%2B%5D%2Ct!%3Dn%5Bo%2B%2B%5D)%7Bs%3D1879048192%3Bbreak%7Dif(s%3D%3D%3Di)return%20Ge%3Ds%2Cn.string%3Bi-%3D3%2Cs%3DGe%7Dfor(n%3D%5B%5D%2CSt%5Br%5D%3Dn%2Cn.bytes%3De%3Bs%3Ci%3B)t%3DJe.getUint32(s)%2Cn.push(t)%2Cs%2B%3D4%3Bfor(i%2B%3D3%3Bs%3Ci%3B)t%3DBe%5Bs%2B%2B%5D%2Cn.push(t)%3Blet%20a%3De%3C16%3FEt(e)%3Avt(e)%3Breturn%20n.string%3Dnull!%3Da%3Fa%3Aft(e)%7Dfunction%20_t(e)%7Bif(%22string%22%3D%3Dtypeof%20e)return%20e%3Bif(%22number%22%3D%3Dtypeof%20e%7C%7C%22boolean%22%3D%3Dtypeof%20e%7C%7C%22bigint%22%3D%3Dtypeof%20e)return%20e.toString()%3Bif(null%3D%3De)return%20e%2B%22%22%3Bif(Ke.allowArraysInMapKeys%26%26Array.isArray(e)%26%26e.flat().every((e%3D%3E%5B%22string%22%2C%22number%22%2C%22boolean%22%2C%22bigint%22%5D.includes(typeof%20e))))return%20e.flat().toString()%3Bthrow%20new%20Error(%22Invalid%20property%20type%20for%20record%3A%20%22%2Btypeof%20e)%7Dconst%20Ct%3D(e%2Ct)%3D%3E%7Blet%20r%3Dat().map(_t)%2Cn%3De%3Bvoid%200!%3D%3Dt%26%26(e%3De%3C32%3F-((t%3C%3C5)%2Be)%3A(t%3C%3C5)%2Be%2Cr.highByte%3Dt)%3Blet%20s%3Dze%5Be%5D%3Breturn%20s%26%26(s.isShared%7C%7Crt)%26%26((ze.restoreStructures%7C%7C(ze.restoreStructures%3D%5B%5D))%5Be%5D%3Ds)%2Cze%5Be%5D%3Dr%2Cr.read%3Dht(r%2Cn)%2Cr.read()%7D%3BZe%5B0%5D%3D()%3D%3E%7B%7D%2CZe%5B0%5D.noBuffer%3D!0%2CZe%5B66%5D%3De%3D%3E%7Blet%20t%3De.length%2Cr%3DBigInt(128%26e%5B0%5D%3Fe%5B0%5D-256%3Ae%5B0%5D)%3Bfor(let%20n%3D1%3Bn%3Ct%3Bn%2B%2B)r%3C%3C%3DBigInt(8)%2Cr%2B%3DBigInt(e%5Bn%5D)%3Breturn%20r%7D%3Blet%20Rt%3D%7BError%3AError%2CTypeError%3ATypeError%2CReferenceError%3AReferenceError%7D%3BZe%5B101%5D%3D()%3D%3E%7Blet%20e%3Dat()%3Breturn(Rt%5Be%5B0%5D%5D%7C%7CError)(e%5B1%5D%2C%7Bcause%3Ae%5B2%5D%7D)%7D%2CZe%5B105%5D%3De%3D%3E%7Bif(!1%3D%3D%3DKe.structuredClone)throw%20new%20Error(%22Structured%20clone%20extension%20is%20disabled%22)%3Blet%20t%3DJe.getUint32(Ge-4)%3Bqe%7C%7C(qe%3Dnew%20Map)%3Blet%20r%2Cn%3DBe%5BGe%5D%3Br%3Dn%3E%3D144%26%26n%3C160%7C%7C220%3D%3Dn%7C%7C221%3D%3Dn%3F%5B%5D%3A%7B%7D%3Blet%20s%3D%7Btarget%3Ar%7D%3Bqe.set(t%2Cs)%3Blet%20i%3Dat()%3Breturn%20s.used%3FObject.assign(r%2Ci)%3A(s.target%3Di%2Ci)%7D%2CZe%5B112%5D%3De%3D%3E%7Bif(!1%3D%3D%3DKe.structuredClone)throw%20new%20Error(%22Structured%20clone%20extension%20is%20disabled%22)%3Blet%20t%3DJe.getUint32(Ge-4)%2Cr%3Dqe.get(t)%3Breturn%20r.used%3D!0%2Cr.target%7D%2CZe%5B115%5D%3D()%3D%3Enew%20Set(at())%3Bconst%20xt%3D%5B%22Int8%22%2C%22Uint8%22%2C%22Uint8Clamped%22%2C%22Int16%22%2C%22Uint16%22%2C%22Int32%22%2C%22Uint32%22%2C%22Float32%22%2C%22Float64%22%2C%22BigInt64%22%2C%22BigUint64%22%5D.map((e%3D%3Ee%2B%22Array%22))%3Blet%20Pt%3D%22object%22%3D%3Dtypeof%20globalThis%3FglobalThis%3Awindow%3BZe%5B116%5D%3De%3D%3E%7Blet%20t%3De%5B0%5D%2Cr%3Dxt%5Bt%5D%3Bif(!r)%7Bif(16%3D%3D%3Dt)%7Blet%20t%3Dnew%20ArrayBuffer(e.length-1)%3Breturn%20new%20Uint8Array(t).set(e.subarray(1))%2Ct%7Dthrow%20new%20Error(%22Could%20not%20find%20typed%20array%20for%20code%20%22%2Bt)%7Dreturn%20new%20Pt%5Br%5D(Uint8Array.prototype.slice.call(e%2C1).buffer)%7D%2CZe%5B120%5D%3D()%3D%3E%7Blet%20e%3Dat()%3Breturn%20new%20RegExp(e%5B0%5D%2Ce%5B1%5D)%7D%3Bconst%20Dt%3D%5B%5D%3Bfunction%20kt(e)%7Blet%20t%3DLe%2Cr%3DGe%2Cn%3DYe%2Cs%3DXe%2Ci%3DWe%2Co%3Dqe%2Ca%3DHe%2Cc%3Dnew%20Uint8Array(Be.slice(0%2CLe))%2Ch%3Dze%2Cl%3Dze.slice(0%2Cze.length)%2Cu%3DKe%2Cf%3Drt%2Cd%3De()%3Breturn%20Le%3Dt%2CGe%3Dr%2CYe%3Dn%2CXe%3Ds%2CWe%3Di%2Cqe%3Do%2CHe%3Da%2CBe%3Dc%2Crt%3Df%2C(ze%3Dh).splice(0%2Cze.length%2C...l)%2CKe%3Du%2CJe%3Dnew%20DataView(Be.buffer%2CBe.byteOffset%2CBe.byteLength)%2Cd%7Dfunction%20%24t()%7BBe%3Dnull%2Cqe%3Dnull%2Cze%3Dnull%7DZe%5B98%5D%3De%3D%3E%7Blet%20t%3D(e%5B0%5D%3C%3C24)%2B(e%5B1%5D%3C%3C16)%2B(e%5B2%5D%3C%3C8)%2Be%5B3%5D%2Cr%3DGe%3Breturn%20Ge%2B%3Dt-e.length%2CHe%3DDt%2C(He%3D%5BOt()%2COt()%5D).position0%3D0%2CHe.position1%3D0%2CHe.postBundlePosition%3DGe%2CGe%3Dr%2Cat()%7D%2CZe%5B255%5D%3De%3D%3E4%3D%3De.length%3Fnew%20Date(1e3*(16777216*e%5B0%5D%2B(e%5B1%5D%3C%3C16)%2B(e%5B2%5D%3C%3C8)%2Be%5B3%5D))%3A8%3D%3De.length%3Fnew%20Date(((e%5B0%5D%3C%3C22)%2B(e%5B1%5D%3C%3C14)%2B(e%5B2%5D%3C%3C6)%2B(e%5B3%5D%3E%3E2))%2F1e6%2B1e3*(4294967296*(3%26e%5B3%5D)%2B16777216*e%5B4%5D%2B(e%5B5%5D%3C%3C16)%2B(e%5B6%5D%3C%3C8)%2Be%5B7%5D))%3A12%3D%3De.length%3Fnew%20Date(((e%5B0%5D%3C%3C24)%2B(e%5B1%5D%3C%3C16)%2B(e%5B2%5D%3C%3C8)%2Be%5B3%5D)%2F1e6%2B1e3*((128%26e%5B4%5D%3F-281474976710656%3A0)%2B1099511627776*e%5B6%5D%2B4294967296*e%5B7%5D%2B16777216*e%5B8%5D%2B(e%5B9%5D%3C%3C16)%2B(e%5B10%5D%3C%3C8)%2Be%5B11%5D))%3Anew%20Date(%22invalid%22)%3Bconst%20Nt%3Dnew%20Array(147)%3Bfor(let%20e%3D0%3Be%3C256%3Be%2B%2B)Nt%5Be%5D%3D%2B(%221e%22%2BMath.floor(45.15-.30103*e))%3Bconst%20Ut%3Dst%3Bvar%20Mt%3Dnew%20st(%7BuseRecords%3A!1%7D)%3Bconst%20jt%3DMt.unpack%2CBt%3DMt.unpackMultiple%2CLt%3DMt.unpack%2CFt%3D%7BNEVER%3A0%2CALWAYS%3A1%2CDECIMAL_ROUND%3A3%2CDECIMAL_FIT%3A4%7D%3Blet%20Vt%2Czt%2CWt%2CHt%3Dnew%20Float32Array(1)%2Cqt%3Dnew%20Uint8Array(Ht.buffer%2C0%2C4)%3Btry%7BVt%3Dnew%20TextEncoder%7Dcatch(e)%7B%7Dconst%20Jt%3D%22undefined%22!%3Dtypeof%20Buffer%2CGt%3DJt%3Ffunction(e)%7Breturn%20Buffer.allocUnsafeSlow(e)%7D%3AUint8Array%2CKt%3DJt%3FBuffer%3AUint8Array%2CYt%3DJt%3F4294967296%3A2144337920%3Blet%20Xt%2CZt%2CQt%2Cer%2Ctr%3D0%2Crr%3Dnull%3Bconst%20nr%3D%2F%5B%5Cu0080-%5CuFFFF%5D%2F%2Csr%3DSymbol(%22record-id%22)%3Bclass%20ir%20extends%20st%7Bconstructor(e)%7Blet%20t%2Cr%2Cn%2Cs%3Bsuper(e)%2Cthis.offset%3D0%3Blet%20i%3DKt.prototype.utf8Write%3Ffunction(e%2Ct)%7Breturn%20Xt.utf8Write(e%2Ct%2CXt.byteLength-t)%7D%3A!(!Vt%7C%7C!Vt.encodeInto)%26%26function(e%2Ct)%7Breturn%20Vt.encodeInto(e%2CXt.subarray(t)).written%7D%2Co%3Dthis%3Be%7C%7C(e%3D%7B%7D)%3Blet%20a%3De%26%26e.sequential%2Cc%3De.structures%7C%7Ce.saveStructures%2Ch%3De.maxSharedStructures%3Bif(null%3D%3Dh%26%26(h%3Dc%3F32%3A0)%2Ch%3E8160)throw%20new%20Error(%22Maximum%20maxSharedStructure%20is%208160%22)%3Be.structuredClone%26%26null%3D%3De.moreTypes%26%26(this.moreTypes%3D!0)%3Blet%20l%3De.maxOwnStructures%3Bnull%3D%3Dl%26%26(l%3Dc%3F32%3A64)%2Cthis.structures%7C%7C0%3D%3De.useRecords%7C%7C(this.structures%3D%5B%5D)%3Blet%20u%3Dh%3E32%7C%7Cl%2Bh%3E64%2Cf%3Dh%2B64%2Cd%3Dh%2Bl%2B64%3Bif(d%3E8256)throw%20new%20Error(%22Maximum%20maxSharedStructure%20%2B%20maxOwnStructure%20is%208192%22)%3Blet%20p%3D%5B%5D%2Cg%3D0%2Cy%3D0%3Bthis.pack%3Dthis.encode%3Dfunction(e%2Ci)%7Bif(Xt%7C%7C(Xt%3Dnew%20Gt(8192)%2CQt%3DXt.dataView%7C%7C(Xt.dataView%3Dnew%20DataView(Xt.buffer%2C0%2C8192))%2Ctr%3D0)%2Cer%3DXt.length-10%2Cer-tr%3C2048%3F(Xt%3Dnew%20Gt(Xt.length)%2CQt%3DXt.dataView%7C%7C(Xt.dataView%3Dnew%20DataView(Xt.buffer%2C0%2CXt.length))%2Cer%3DXt.length-10%2Ctr%3D0)%3Atr%3Dtr%2B7%262147483640%2Ct%3Dtr%2Ci%26vr%26%26(tr%2B%3D255%26i)%2Cs%3Do.structuredClone%3Fnew%20Map%3Anull%2Co.bundleStrings%26%26%22string%22!%3Dtypeof%20e%3F(rr%3D%5B%5D%2Crr.size%3D1%2F0)%3Arr%3Dnull%2Cn%3Do.structures%2Cn)%7Bn.uninitialized%26%26(n%3Do._mergeStructures(o.getStructures()))%3Blet%20e%3Dn.sharedLength%7C%7C0%3Bif(e%3Eh)throw%20new%20Error(%22Shared%20structures%20is%20larger%20than%20maximum%20shared%20structures%2C%20try%20increasing%20maxSharedStructures%20to%20%22%2Bn.sharedLength)%3Bif(!n.transitions)%7Bn.transitions%3DObject.create(null)%3Bfor(let%20t%3D0%3Bt%3Ce%3Bt%2B%2B)%7Blet%20e%3Dn%5Bt%5D%3Bif(!e)continue%3Blet%20r%2Cs%3Dn.transitions%3Bfor(let%20t%3D0%2Cn%3De.length%3Bt%3Cn%3Bt%2B%2B)%7Blet%20n%3De%5Bt%5D%3Br%3Ds%5Bn%5D%2Cr%7C%7C(r%3Ds%5Bn%5D%3DObject.create(null))%2Cs%3Dr%7Ds%5Bsr%5D%3Dt%2B64%7Dthis.lastNamedStructuresLength%3De%7Da%7C%7C(n.nextId%3De%2B64)%7Dlet%20c%3Br%26%26(r%3D!1)%3Btry%7Bo.randomAccessStructure%26%26e%26%26e.constructor%26%26e.constructor%3D%3D%3DObject%3F_(e)%3Aw(e)%3Blet%20r%3Drr%3Bif(rr%26%26hr(t%2Cw%2C0)%2Cs%26%26s.idsToInsert)%7Blet%20e%3Ds.idsToInsert.sort(((e%2Ct)%3D%3Ee.offset%3Et.offset%3F1%3A-1))%2Cn%3De.length%2Ci%3D-1%3Bfor(%3Br%26%26n%3E0%3B)%7Blet%20s%3De%5B--n%5D.offset%2Bt%3Bs%3Cr.stringsPosition%2Bt%26%26-1%3D%3D%3Di%26%26(i%3D0)%2Cs%3Er.position%2Bt%3Fi%3E%3D0%26%26(i%2B%3D6)%3A(i%3E%3D0%26%26(Qt.setUint32(r.position%2Bt%2CQt.getUint32(r.position%2Bt)%2Bi)%2Ci%3D-1)%2Cr%3Dr.previous%2Cn%2B%2B)%7Di%3E%3D0%26%26r%26%26Qt.setUint32(r.position%2Bt%2CQt.getUint32(r.position%2Bt)%2Bi)%2Ctr%2B%3D6*e.length%2Ctr%3Eer%26%26A(tr)%2Co.offset%3Dtr%3Blet%20a%3Dfunction(e%2Ct)%7Blet%20r%2Cn%3D6*t.length%2Cs%3De.length-n%3Bfor(%3Br%3Dt.pop()%3B)%7Blet%20t%3Dr.offset%2Ci%3Dr.id%3Be.copyWithin(t%2Bn%2Ct%2Cs)%2Cn-%3D6%3Blet%20o%3Dt%2Bn%3Be%5Bo%2B%2B%5D%3D214%2Ce%5Bo%2B%2B%5D%3D105%2Ce%5Bo%2B%2B%5D%3Di%3E%3E24%2Ce%5Bo%2B%2B%5D%3Di%3E%3E16%26255%2Ce%5Bo%2B%2B%5D%3Di%3E%3E8%26255%2Ce%5Bo%2B%2B%5D%3D255%26i%2Cs%3Dt%7Dreturn%20e%7D(Xt.subarray(t%2Ctr)%2Ce)%3Breturn%20s%3Dnull%2Ca%7Dreturn%20o.offset%3Dtr%2Ci%26br%3F(Xt.start%3Dt%2CXt.end%3Dtr%2CXt)%3AXt.subarray(t%2Ctr)%7Dcatch(e)%7Bthrow%20c%3De%2Ce%7Dfinally%7Bif(n%26%26(m()%2Cr%26%26o.saveStructures))%7Blet%20r%3Dn.sharedLength%7C%7C0%2Cs%3DXt.subarray(t%2Ctr)%2Ca%3Dfunction(e%2Ct)%7Breturn%20e.isCompatible%3De%3D%3E%7Blet%20r%3D!e%7C%7C(t.lastNamedStructuresLength%7C%7C0)%3D%3D%3De.length%3Breturn%20r%7C%7Ct._mergeStructures(e)%2Cr%7D%2Ce%7D(n%2Co)%3Bif(!c)return!1%3D%3D%3Do.saveStructures(a%2Ca.isCompatible)%3Fo.pack(e%2Ci)%3A(o.lastNamedStructuresLength%3Dr%2CXt.length%3E1073741824%26%26(Xt%3Dnull)%2Cs)%7DXt.length%3E1073741824%26%26(Xt%3Dnull)%2Ci%26wr%26%26(tr%3Dt)%7D%7D%3Bconst%20m%3D()%3D%3E%7By%3C10%26%26y%2B%2B%3Blet%20e%3Dn.sharedLength%7C%7C0%3Bif(n.length%3Ee%26%26!a%26%26(n.length%3De)%2Cg%3E1e4)n.transitions%3Dnull%2Cy%3D0%2Cg%3D0%2Cp.length%3E0%26%26(p%3D%5B%5D)%3Belse%20if(p.length%3E0%26%26!a)%7Bfor(let%20e%3D0%2Ct%3Dp.length%3Be%3Ct%3Be%2B%2B)p%5Be%5D%5Bsr%5D%3D0%3Bp%3D%5B%5D%7D%7D%2Cb%3De%3D%3E%7Bvar%20t%3De.length%3Bt%3C16%3FXt%5Btr%2B%2B%5D%3D144%7Ct%3At%3C65536%3F(Xt%5Btr%2B%2B%5D%3D220%2CXt%5Btr%2B%2B%5D%3Dt%3E%3E8%2CXt%5Btr%2B%2B%5D%3D255%26t)%3A(Xt%5Btr%2B%2B%5D%3D221%2CQt.setUint32(tr%2Ct)%2Ctr%2B%3D4)%3Bfor(let%20r%3D0%3Br%3Ct%3Br%2B%2B)w(e%5Br%5D)%7D%2Cw%3De%3D%3E%7Btr%3Eer%26%26(Xt%3DA(tr))%3Bvar%20r%2Cn%3Dtypeof%20e%3Bif(%22string%22%3D%3D%3Dn)%7Blet%20n%2Cs%3De.length%3Bif(rr%26%26s%3E%3D4%26%26s%3C4096)%7Bif((rr.size%2B%3Ds)%3E21760)%7Blet%20e%2Cr%2Cn%3D(rr%5B0%5D%3F3*rr%5B0%5D.length%2Brr%5B1%5D.length%3A0)%2B10%3Btr%2Bn%3Eer%26%26(Xt%3DA(tr%2Bn))%2Crr.position%3F(r%3Drr%2CXt%5Btr%5D%3D200%2Ctr%2B%3D3%2CXt%5Btr%2B%2B%5D%3D98%2Ce%3Dtr-t%2Ctr%2B%3D4%2Chr(t%2Cw%2C0)%2CQt.setUint16(e%2Bt-3%2Ctr-t-e))%3A(Xt%5Btr%2B%2B%5D%3D214%2CXt%5Btr%2B%2B%5D%3D98%2Ce%3Dtr-t%2Ctr%2B%3D4)%2Crr%3D%5B%22%22%2C%22%22%5D%2Crr.previous%3Dr%2Crr.size%3D0%2Crr.position%3De%7Dlet%20r%3Dnr.test(e)%3Breturn%20rr%5Br%3F0%3A1%5D%2B%3De%2CXt%5Btr%2B%2B%5D%3D193%2Cvoid%20w(r%3F-s%3As)%7Dn%3Ds%3C32%3F1%3As%3C256%3F2%3As%3C65536%3F3%3A5%3Blet%20o%3D3*s%3Bif(tr%2Bo%3Eer%26%26(Xt%3DA(tr%2Bo))%2Cs%3C64%7C%7C!i)%7Blet%20t%2Ci%2Co%2Ca%3Dtr%2Bn%3Bfor(t%3D0%3Bt%3Cs%3Bt%2B%2B)i%3De.charCodeAt(t)%2Ci%3C128%3FXt%5Ba%2B%2B%5D%3Di%3Ai%3C2048%3F(Xt%5Ba%2B%2B%5D%3Di%3E%3E6%7C192%2CXt%5Ba%2B%2B%5D%3D63%26i%7C128)%3A55296%3D%3D(64512%26i)%26%2656320%3D%3D(64512%26(o%3De.charCodeAt(t%2B1)))%3F(i%3D65536%2B((1023%26i)%3C%3C10)%2B(1023%26o)%2Ct%2B%2B%2CXt%5Ba%2B%2B%5D%3Di%3E%3E18%7C240%2CXt%5Ba%2B%2B%5D%3Di%3E%3E12%2663%7C128%2CXt%5Ba%2B%2B%5D%3Di%3E%3E6%2663%7C128%2CXt%5Ba%2B%2B%5D%3D63%26i%7C128)%3A(Xt%5Ba%2B%2B%5D%3Di%3E%3E12%7C224%2CXt%5Ba%2B%2B%5D%3Di%3E%3E6%2663%7C128%2CXt%5Ba%2B%2B%5D%3D63%26i%7C128)%3Br%3Da-tr-n%7Delse%20r%3Di(e%2Ctr%2Bn)%3Br%3C32%3FXt%5Btr%2B%2B%5D%3D160%7Cr%3Ar%3C256%3F(n%3C2%26%26Xt.copyWithin(tr%2B2%2Ctr%2B1%2Ctr%2B1%2Br)%2CXt%5Btr%2B%2B%5D%3D217%2CXt%5Btr%2B%2B%5D%3Dr)%3Ar%3C65536%3F(n%3C3%26%26Xt.copyWithin(tr%2B3%2Ctr%2B2%2Ctr%2B2%2Br)%2CXt%5Btr%2B%2B%5D%3D218%2CXt%5Btr%2B%2B%5D%3Dr%3E%3E8%2CXt%5Btr%2B%2B%5D%3D255%26r)%3A(n%3C5%26%26Xt.copyWithin(tr%2B5%2Ctr%2B3%2Ctr%2B3%2Br)%2CXt%5Btr%2B%2B%5D%3D219%2CQt.setUint32(tr%2Cr)%2Ctr%2B%3D4)%2Ctr%2B%3Dr%7Delse%20if(%22number%22%3D%3D%3Dn)if(e%3E%3E%3E0%3D%3D%3De)e%3C32%7C%7Ce%3C128%26%26!1%3D%3D%3Dthis.useRecords%7C%7Ce%3C64%26%26!this.randomAccessStructure%3FXt%5Btr%2B%2B%5D%3De%3Ae%3C256%3F(Xt%5Btr%2B%2B%5D%3D204%2CXt%5Btr%2B%2B%5D%3De)%3Ae%3C65536%3F(Xt%5Btr%2B%2B%5D%3D205%2CXt%5Btr%2B%2B%5D%3De%3E%3E8%2CXt%5Btr%2B%2B%5D%3D255%26e)%3A(Xt%5Btr%2B%2B%5D%3D206%2CQt.setUint32(tr%2Ce)%2Ctr%2B%3D4)%3Belse%20if((e%7C0)%3D%3D%3De)e%3E%3D-32%3FXt%5Btr%2B%2B%5D%3D256%2Be%3Ae%3E%3D-128%3F(Xt%5Btr%2B%2B%5D%3D208%2CXt%5Btr%2B%2B%5D%3De%2B256)%3Ae%3E%3D-32768%3F(Xt%5Btr%2B%2B%5D%3D209%2CQt.setInt16(tr%2Ce)%2Ctr%2B%3D2)%3A(Xt%5Btr%2B%2B%5D%3D210%2CQt.setInt32(tr%2Ce)%2Ctr%2B%3D4)%3Belse%7Blet%20t%3Bif((t%3Dthis.useFloat32)%3E0%26%26e%3C4294967296%26%26e%3E%3D-2147483648)%7Blet%20r%3Bif(Xt%5Btr%2B%2B%5D%3D202%2CQt.setFloat32(tr%2Ce)%2Ct%3C4%7C%7C((r%3De*Nt%5B(127%26Xt%5Btr%5D)%3C%3C1%7CXt%5Btr%2B1%5D%3E%3E7%5D)%7C0)%3D%3D%3Dr)return%20void(tr%2B%3D4)%3Btr--%7DXt%5Btr%2B%2B%5D%3D203%2CQt.setFloat64(tr%2Ce)%2Ctr%2B%3D8%7Delse%20if(%22object%22%3D%3D%3Dn%7C%7C%22function%22%3D%3D%3Dn)if(e)%7Bif(s)%7Blet%20r%3Ds.get(e)%3Bif(r)%7Bif(!r.id)%7Blet%20e%3Ds.idsToInsert%7C%7C(s.idsToInsert%3D%5B%5D)%3Br.id%3De.push(r)%7Dreturn%20Xt%5Btr%2B%2B%5D%3D214%2CXt%5Btr%2B%2B%5D%3D112%2CQt.setUint32(tr%2Cr.id)%2Cvoid(tr%2B%3D4)%7Ds.set(e%2C%7Boffset%3Atr-t%7D)%7Dlet%20i%3De.constructor%3Bif(i%3D%3D%3DObject)I(e)%3Belse%20if(i%3D%3D%3DArray)b(e)%3Belse%20if(i%3D%3D%3DMap)if(this.mapAsEmptyObject)Xt%5Btr%2B%2B%5D%3D128%3Belse%7B(r%3De.size)%3C16%3FXt%5Btr%2B%2B%5D%3D128%7Cr%3Ar%3C65536%3F(Xt%5Btr%2B%2B%5D%3D222%2CXt%5Btr%2B%2B%5D%3Dr%3E%3E8%2CXt%5Btr%2B%2B%5D%3D255%26r)%3A(Xt%5Btr%2B%2B%5D%3D223%2CQt.setUint32(tr%2Cr)%2Ctr%2B%3D4)%3Bfor(let%5Bt%2Cr%5Dof%20e)w(t)%2Cw(r)%7Delse%7Bfor(let%20t%3D0%2Cr%3Dzt.length%3Bt%3Cr%3Bt%2B%2B)%7Bif(e%20instanceof%20Wt%5Bt%5D)%7Blet%20r%3Dzt%5Bt%5D%3Bif(r.write)%7Br.type%26%26(Xt%5Btr%2B%2B%5D%3D212%2CXt%5Btr%2B%2B%5D%3Dr.type%2CXt%5Btr%2B%2B%5D%3D0)%3Blet%20t%3Dr.write.call(this%2Ce)%3Breturn%20void(t%3D%3D%3De%3FArray.isArray(e)%3Fb(e)%3AI(e)%3Aw(t))%7Dlet%20n%2Cs%3DXt%2Ci%3DQt%2Co%3Dtr%3BXt%3Dnull%3Btry%7Bn%3Dr.pack.call(this%2Ce%2C(e%3D%3E(Xt%3Ds%2Cs%3Dnull%2Ctr%2B%3De%2Ctr%3Eer%26%26A(tr)%2C%7Btarget%3AXt%2CtargetView%3AQt%2Cposition%3Atr-e%7D))%2Cw)%7Dfinally%7Bs%26%26(Xt%3Ds%2CQt%3Di%2Ctr%3Do%2Cer%3DXt.length-10)%7Dreturn%20void(n%26%26(n.length%2Btr%3Eer%26%26A(n.length%2Btr)%2Ctr%3Dcr(n%2CXt%2Ctr%2Cr.type)))%7D%7Dif(Array.isArray(e))b(e)%3Belse%7Bif(e.toJSON)%7Bconst%20t%3De.toJSON()%3Bif(t!%3D%3De)return%20w(t)%7Dif(%22function%22%3D%3D%3Dn)return%20w(this.writeFunction%26%26this.writeFunction(e))%3BI(e)%7D%7D%7Delse%20Xt%5Btr%2B%2B%5D%3D192%3Belse%20if(%22boolean%22%3D%3D%3Dn)Xt%5Btr%2B%2B%5D%3De%3F195%3A194%3Belse%20if(%22bigint%22%3D%3D%3Dn)%7Bif(e%3CBigInt(1)%3C%3CBigInt(63)%26%26e%3E%3D-(BigInt(1)%3C%3CBigInt(63)))Xt%5Btr%2B%2B%5D%3D211%2CQt.setBigInt64(tr%2Ce)%3Belse%20if(e%3CBigInt(1)%3C%3CBigInt(64)%26%26e%3E0)Xt%5Btr%2B%2B%5D%3D207%2CQt.setBigUint64(tr%2Ce)%3Belse%7Bif(!this.largeBigIntToFloat)%7Bif(this.largeBigIntToString)return%20w(e.toString())%3Bif(this.useBigIntExtension%26%26e%3CBigInt(2)**BigInt(1023)%26%26e%3E-(BigInt(2)**BigInt(1023)))%7BXt%5Btr%2B%2B%5D%3D199%2Ctr%2B%2B%2CXt%5Btr%2B%2B%5D%3D66%3Blet%20t%2Cr%3D%5B%5D%3Bdo%7Blet%20n%3De%26BigInt(255)%3Bt%3D(n%26BigInt(128))%3D%3D%3D(e%3CBigInt(0)%3FBigInt(128)%3ABigInt(0))%2Cr.push(n)%2Ce%3E%3E%3DBigInt(8)%7Dwhile(e!%3D%3DBigInt(0)%26%26e!%3D%3DBigInt(-1)%7C%7C!t)%3BXt%5Btr-2%5D%3Dr.length%3Bfor(let%20e%3Dr.length%3Be%3E0%3B)Xt%5Btr%2B%2B%5D%3DNumber(r%5B--e%5D)%3Breturn%7Dthrow%20new%20RangeError(e%2B%22%20was%20too%20large%20to%20fit%20in%20MessagePack%2064-bit%20integer%20format%2C%20use%20useBigIntExtension%2C%20or%20set%20largeBigIntToFloat%20to%20convert%20to%20float-64%2C%20or%20set%20largeBigIntToString%20to%20convert%20to%20string%22)%7DXt%5Btr%2B%2B%5D%3D203%2CQt.setFloat64(tr%2CNumber(e))%7Dtr%2B%3D8%7Delse%7Bif(%22undefined%22!%3D%3Dn)throw%20new%20Error(%22Unknown%20type%3A%20%22%2Bn)%3Bthis.encodeUndefinedAsNil%3FXt%5Btr%2B%2B%5D%3D192%3A(Xt%5Btr%2B%2B%5D%3D212%2CXt%5Btr%2B%2B%5D%3D0%2CXt%5Btr%2B%2B%5D%3D0)%7D%7D%2Cv%3Dthis.variableMapSize%7C%7Cthis.coercibleKeyAsNumber%7C%7Cthis.skipValues%3Fe%3D%3E%7Blet%20t%3Bif(this.skipValues)%7Bt%3D%5B%5D%3Bfor(let%20r%20in%20e)%22function%22%3D%3Dtypeof%20e.hasOwnProperty%26%26!e.hasOwnProperty(r)%7C%7Cthis.skipValues.includes(e%5Br%5D)%7C%7Ct.push(r)%7Delse%20t%3DObject.keys(e)%3Blet%20r%2Cn%3Dt.length%3Bif(n%3C16%3FXt%5Btr%2B%2B%5D%3D128%7Cn%3An%3C65536%3F(Xt%5Btr%2B%2B%5D%3D222%2CXt%5Btr%2B%2B%5D%3Dn%3E%3E8%2CXt%5Btr%2B%2B%5D%3D255%26n)%3A(Xt%5Btr%2B%2B%5D%3D223%2CQt.setUint32(tr%2Cn)%2Ctr%2B%3D4)%2Cthis.coercibleKeyAsNumber)for(let%20s%3D0%3Bs%3Cn%3Bs%2B%2B)%7Br%3Dt%5Bs%5D%3Blet%20n%3DNumber(r)%3Bw(isNaN(n)%3Fr%3An)%2Cw(e%5Br%5D)%7Delse%20for(let%20s%3D0%3Bs%3Cn%3Bs%2B%2B)w(r%3Dt%5Bs%5D)%2Cw(e%5Br%5D)%7D%3Ae%3D%3E%7BXt%5Btr%2B%2B%5D%3D222%3Blet%20r%3Dtr-t%3Btr%2B%3D2%3Blet%20n%3D0%3Bfor(let%20t%20in%20e)(%22function%22!%3Dtypeof%20e.hasOwnProperty%7C%7Ce.hasOwnProperty(t))%26%26(w(t)%2Cw(e%5Bt%5D)%2Cn%2B%2B)%3Bif(n%3E65535)throw%20new%20Error('Object%20is%20too%20large%20to%20serialize%20with%20fast%2016-bit%20map%20size%2C%20use%20the%20%22variableMapSize%22%20option%20to%20serialize%20this%20object')%3BXt%5Br%2B%2B%2Bt%5D%3Dn%3E%3E8%2CXt%5Br%2Bt%5D%3D255%26n%7D%2CE%3D!1%3D%3D%3Dthis.useRecords%3Fv%3Ae.progressiveRecords%26%26!u%3Fe%3D%3E%7Blet%20r%2Cs%2Ci%3Dn.transitions%7C%7C(n.transitions%3DObject.create(null))%2Co%3Dtr%2B%2B-t%3Bfor(let%20a%20in%20e)if(%22function%22!%3Dtypeof%20e.hasOwnProperty%7C%7Ce.hasOwnProperty(a))%7Bif(r%3Di%5Ba%5D%2Cr)i%3Dr%3Belse%7Blet%20c%3DObject.keys(e)%2Ch%3Di%3Bi%3Dn.transitions%3Blet%20l%3D0%3Bfor(let%20e%3D0%2Ct%3Dc.length%3Be%3Ct%3Be%2B%2B)%7Blet%20t%3Dc%5Be%5D%3Br%3Di%5Bt%5D%2Cr%7C%7C(r%3Di%5Bt%5D%3DObject.create(null)%2Cl%2B%2B)%2Ci%3Dr%7Do%2Bt%2B1%3D%3Dtr%3F(tr--%2CS(i%2Cc%2Cl))%3AT(i%2Cc%2Co%2Cl)%2Cs%3D!0%2Ci%3Dh%5Ba%5D%7Dw(e%5Ba%5D)%7Dif(!s)%7Blet%20r%3Di%5Bsr%5D%3Br%3FXt%5Bo%2Bt%5D%3Dr%3AT(i%2CObject.keys(e)%2Co%2C0)%7D%7D%3Ae%3D%3E%7Blet%20t%2Cr%3Dn.transitions%7C%7C(n.transitions%3DObject.create(null))%2Cs%3D0%3Bfor(let%20n%20in%20e)(%22function%22!%3Dtypeof%20e.hasOwnProperty%7C%7Ce.hasOwnProperty(n))%26%26(t%3Dr%5Bn%5D%2Ct%7C%7C(t%3Dr%5Bn%5D%3DObject.create(null)%2Cs%2B%2B)%2Cr%3Dt)%3Blet%20i%3Dr%5Bsr%5D%3Bi%3Fi%3E%3D96%26%26u%3F(Xt%5Btr%2B%2B%5D%3D96%2B(31%26(i-%3D96))%2CXt%5Btr%2B%2B%5D%3Di%3E%3E5)%3AXt%5Btr%2B%2B%5D%3Di%3AS(r%2Cr.__keys__%7C%7CObject.keys(e)%2Cs)%3Bfor(let%20t%20in%20e)(%22function%22!%3Dtypeof%20e.hasOwnProperty%7C%7Ce.hasOwnProperty(t))%26%26w(e%5Bt%5D)%7D%2CO%3D%22function%22%3D%3Dtypeof%20this.useRecords%26%26this.useRecords%2CI%3DO%3Fe%3D%3E%7BO(e)%3FE(e)%3Av(e)%7D%3AE%2CA%3De%3D%3E%7Blet%20r%3Bif(e%3E16777216)%7Bif(e-t%3EYt)throw%20new%20Error(%22Packed%20buffer%20would%20be%20larger%20than%20maximum%20buffer%20size%22)%3Br%3DMath.min(Yt%2C4096*Math.round(Math.max((e-t)*(e%3E67108864%3F1.25%3A2)%2C4194304)%2F4096))%7Delse%20r%3D1%2B(Math.max(e-t%3C%3C2%2CXt.length-1)%3E%3E12)%3C%3C12%3Blet%20n%3Dnew%20Gt(r)%3Breturn%20Qt%3Dn.dataView%7C%7C(n.dataView%3Dnew%20DataView(n.buffer%2C0%2Cr))%2Ce%3DMath.min(e%2CXt.length)%2CXt.copy%3FXt.copy(n%2C0%2Ct%2Ce)%3An.set(Xt.slice(t%2Ce))%2Ctr-%3Dt%2Ct%3D0%2Cer%3Dn.length-10%2CXt%3Dn%7D%2CS%3D(e%2Ct%2Cs)%3D%3E%7Blet%20i%3Dn.nextId%3Bi%7C%7C(i%3D64)%2Ci%3Cf%26%26this.shouldShareStructure%26%26!this.shouldShareStructure(t)%3F(i%3Dn.nextOwnId%2Ci%3Cd%7C%7C(i%3Df)%2Cn.nextOwnId%3Di%2B1)%3A(i%3E%3Dd%26%26(i%3Df)%2Cn.nextId%3Di%2B1)%3Blet%20o%3Dt.highByte%3Di%3E%3D96%26%26u%3Fi-96%3E%3E5%3A-1%3Be%5Bsr%5D%3Di%2Ce.__keys__%3Dt%2Cn%5Bi-64%5D%3Dt%2Ci%3Cf%3F(t.isShared%3D!0%2Cn.sharedLength%3Di-63%2Cr%3D!0%2Co%3E%3D0%3F(Xt%5Btr%2B%2B%5D%3D96%2B(31%26i)%2CXt%5Btr%2B%2B%5D%3Do)%3AXt%5Btr%2B%2B%5D%3Di)%3A(o%3E%3D0%3F(Xt%5Btr%2B%2B%5D%3D213%2CXt%5Btr%2B%2B%5D%3D114%2CXt%5Btr%2B%2B%5D%3D96%2B(31%26i)%2CXt%5Btr%2B%2B%5D%3Do)%3A(Xt%5Btr%2B%2B%5D%3D212%2CXt%5Btr%2B%2B%5D%3D114%2CXt%5Btr%2B%2B%5D%3Di)%2Cs%26%26(g%2B%3Dy*s)%2Cp.length%3E%3Dl%26%26(p.shift()%5Bsr%5D%3D0)%2Cp.push(e)%2Cw(t))%7D%2CT%3D(e%2Cr%2Cn%2Cs)%3D%3E%7Blet%20i%3DXt%2Co%3Dtr%2Ca%3Der%2Cc%3Dt%3BXt%3DZt%2Ctr%3D0%2Ct%3D0%2CXt%7C%7C(Zt%3DXt%3Dnew%20Gt(8192))%2Cer%3DXt.length-10%2CS(e%2Cr%2Cs)%2CZt%3DXt%3Blet%20h%3Dtr%3Bif(Xt%3Di%2Ctr%3Do%2Cer%3Da%2Ct%3Dc%2Ch%3E1)%7Blet%20e%3Dtr%2Bh-1%3Be%3Eer%26%26A(e)%3Blet%20r%3Dn%2Bt%3BXt.copyWithin(r%2Bh%2Cr%2B1%2Ctr)%2CXt.set(Zt.slice(0%2Ch)%2Cr)%2Ctr%3De%7Delse%20Xt%5Bn%2Bt%5D%3DZt%5B0%5D%7D%2C_%3De%3D%3E%7Blet%20s%3Dundefined(e%2CXt%2Ct%2Ctr%2Cn%2CA%2C((e%2Ct%2Cn)%3D%3E%7Bif(n)return%20r%3D!0%3Btr%3Dt%3Blet%20s%3DXt%3Breturn%20w(e)%2Cm()%2Cs!%3D%3DXt%3F%7Bposition%3Atr%2CtargetView%3AQt%2Ctarget%3AXt%7D%3Atr%7D)%2Cthis)%3Bif(0%3D%3D%3Ds)return%20I(e)%3Btr%3Ds%7D%7DuseBuffer(e)%7BXt%3De%2CXt.dataView%7C%7C(Xt.dataView%3Dnew%20DataView(Xt.buffer%2CXt.byteOffset%2CXt.byteLength))%2Ctr%3D0%7Dset%20position(e)%7Btr%3De%7Dget%20position()%7Breturn%20tr%7Dset%20buffer(e)%7BXt%3De%7Dget%20buffer()%7Breturn%20Xt%7DclearSharedData()%7Bthis.structures%26%26(this.structures%3D%5B%5D)%2Cthis.typedStructs%26%26(this.typedStructs%3D%5B%5D)%7D%7Dfunction%20or(e%2Ct%2Cr%2Cn)%7Blet%20s%3De.byteLength%3Bif(s%2B1%3C256)%7Bvar%7Btarget%3Ai%2Cposition%3Ao%7D%3Dr(4%2Bs)%3Bi%5Bo%2B%2B%5D%3D199%2Ci%5Bo%2B%2B%5D%3Ds%2B1%7Delse%20if(s%2B1%3C65536)%7Bvar%7Btarget%3Ai%2Cposition%3Ao%7D%3Dr(5%2Bs)%3Bi%5Bo%2B%2B%5D%3D200%2Ci%5Bo%2B%2B%5D%3Ds%2B1%3E%3E8%2Ci%5Bo%2B%2B%5D%3Ds%2B1%26255%7Delse%7Bvar%7Btarget%3Ai%2Cposition%3Ao%2CtargetView%3Aa%7D%3Dr(7%2Bs)%3Bi%5Bo%2B%2B%5D%3D201%2Ca.setUint32(o%2Cs%2B1)%2Co%2B%3D4%7Di%5Bo%2B%2B%5D%3D116%2Ci%5Bo%2B%2B%5D%3Dt%2Ce.buffer%7C%7C(e%3Dnew%20Uint8Array(e))%2Ci.set(new%20Uint8Array(e.buffer%2Ce.byteOffset%2Ce.byteLength)%2Co)%7Dfunction%20ar(e%2Ct)%7Blet%20r%3De.byteLength%3Bvar%20n%2Cs%3Bif(r%3C256)%7Bvar%7Btarget%3An%2Cposition%3As%7D%3Dt(r%2B2)%3Bn%5Bs%2B%2B%5D%3D196%2Cn%5Bs%2B%2B%5D%3Dr%7Delse%20if(r%3C65536)%7Bvar%7Btarget%3An%2Cposition%3As%7D%3Dt(r%2B3)%3Bn%5Bs%2B%2B%5D%3D197%2Cn%5Bs%2B%2B%5D%3Dr%3E%3E8%2Cn%5Bs%2B%2B%5D%3D255%26r%7Delse%7Bvar%7Btarget%3An%2Cposition%3As%2CtargetView%3Ai%7D%3Dt(r%2B5)%3Bn%5Bs%2B%2B%5D%3D198%2Ci.setUint32(s%2Cr)%2Cs%2B%3D4%7Dn.set(e%2Cs)%7Dfunction%20cr(e%2Ct%2Cr%2Cn)%7Blet%20s%3De.length%3Bswitch(s)%7Bcase%201%3At%5Br%2B%2B%5D%3D212%3Bbreak%3Bcase%202%3At%5Br%2B%2B%5D%3D213%3Bbreak%3Bcase%204%3At%5Br%2B%2B%5D%3D214%3Bbreak%3Bcase%208%3At%5Br%2B%2B%5D%3D215%3Bbreak%3Bcase%2016%3At%5Br%2B%2B%5D%3D216%3Bbreak%3Bdefault%3As%3C256%3F(t%5Br%2B%2B%5D%3D199%2Ct%5Br%2B%2B%5D%3Ds)%3As%3C65536%3F(t%5Br%2B%2B%5D%3D200%2Ct%5Br%2B%2B%5D%3Ds%3E%3E8%2Ct%5Br%2B%2B%5D%3D255%26s)%3A(t%5Br%2B%2B%5D%3D201%2Ct%5Br%2B%2B%5D%3Ds%3E%3E24%2Ct%5Br%2B%2B%5D%3Ds%3E%3E16%26255%2Ct%5Br%2B%2B%5D%3Ds%3E%3E8%26255%2Ct%5Br%2B%2B%5D%3D255%26s)%7Dreturn%20t%5Br%2B%2B%5D%3Dn%2Ct.set(e%2Cr)%2Cr%2B%3Ds%7Dfunction%20hr(e%2Ct%2Cr)%7Bif(rr.length%3E0)%7BQt.setUint32(rr.position%2Be%2Ctr%2Br-rr.position-e)%2Crr.stringsPosition%3Dtr-e%3Blet%20n%3Drr%3Brr%3Dnull%2Ct(n%5B0%5D)%2Ct(n%5B1%5D)%7D%7DWt%3D%5BDate%2CSet%2CError%2CRegExp%2CArrayBuffer%2CObject.getPrototypeOf(Uint8Array.prototype).constructor%2Cet%5D%2Czt%3D%5B%7Bpack(e%2Ct%2Cr)%7Blet%20n%3De.getTime()%2F1e3%3Bif((this.useTimestamp32%7C%7C0%3D%3D%3De.getMilliseconds())%26%26n%3E%3D0%26%26n%3C4294967296)%7Blet%7Btarget%3Ae%2CtargetView%3Ar%2Cposition%3As%7D%3Dt(6)%3Be%5Bs%2B%2B%5D%3D214%2Ce%5Bs%2B%2B%5D%3D255%2Cr.setUint32(s%2Cn)%7Delse%20if(n%3E0%26%26n%3C4294967296)%7Blet%7Btarget%3Ar%2CtargetView%3As%2Cposition%3Ai%7D%3Dt(10)%3Br%5Bi%2B%2B%5D%3D215%2Cr%5Bi%2B%2B%5D%3D255%2Cs.setUint32(i%2C4e6*e.getMilliseconds()%2B(n%2F1e3%2F4294967296%7C0))%2Cs.setUint32(i%2B4%2Cn)%7Delse%20if(isNaN(n))%7Bif(this.onInvalidDate)return%20t(0)%2Cr(this.onInvalidDate())%3Blet%7Btarget%3Ae%2CtargetView%3An%2Cposition%3As%7D%3Dt(3)%3Be%5Bs%2B%2B%5D%3D212%2Ce%5Bs%2B%2B%5D%3D255%2Ce%5Bs%2B%2B%5D%3D255%7Delse%7Blet%7Btarget%3Ar%2CtargetView%3As%2Cposition%3Ai%7D%3Dt(15)%3Br%5Bi%2B%2B%5D%3D199%2Cr%5Bi%2B%2B%5D%3D12%2Cr%5Bi%2B%2B%5D%3D255%2Cs.setUint32(i%2C1e6*e.getMilliseconds())%2Cs.setBigInt64(i%2B4%2CBigInt(Math.floor(n)))%7D%7D%7D%2C%7Bpack(e%2Ct%2Cr)%7Bif(this.setAsEmptyObject)return%20t(0)%2Cr(%7B%7D)%3Blet%20n%3DArray.from(e)%2C%7Btarget%3As%2Cposition%3Ai%7D%3Dt(this.moreTypes%3F3%3A0)%3Bthis.moreTypes%26%26(s%5Bi%2B%2B%5D%3D212%2Cs%5Bi%2B%2B%5D%3D115%2Cs%5Bi%2B%2B%5D%3D0)%2Cr(n)%7D%7D%2C%7Bpack(e%2Ct%2Cr)%7Blet%7Btarget%3An%2Cposition%3As%7D%3Dt(this.moreTypes%3F3%3A0)%3Bthis.moreTypes%26%26(n%5Bs%2B%2B%5D%3D212%2Cn%5Bs%2B%2B%5D%3D101%2Cn%5Bs%2B%2B%5D%3D0)%2Cr(%5Be.name%2Ce.message%2Ce.cause%5D)%7D%7D%2C%7Bpack(e%2Ct%2Cr)%7Blet%7Btarget%3An%2Cposition%3As%7D%3Dt(this.moreTypes%3F3%3A0)%3Bthis.moreTypes%26%26(n%5Bs%2B%2B%5D%3D212%2Cn%5Bs%2B%2B%5D%3D120%2Cn%5Bs%2B%2B%5D%3D0)%2Cr(%5Be.source%2Ce.flags%5D)%7D%7D%2C%7Bpack(e%2Ct)%7Bthis.moreTypes%3For(e%2C16%2Ct)%3Aar(Jt%3FBuffer.from(e)%3Anew%20Uint8Array(e)%2Ct)%7D%7D%2C%7Bpack(e%2Ct)%7Blet%20r%3De.constructor%3Br!%3D%3DKt%26%26this.moreTypes%3For(e%2Cxt.indexOf(r.name)%2Ct)%3Aar(e%2Ct)%7D%7D%2C%7Bpack(e%2Ct)%7Blet%7Btarget%3Ar%2Cposition%3An%7D%3Dt(1)%3Br%5Bn%5D%3D193%7D%7D%5D%3Blet%20lr%3Dnew%20ir(%7BuseRecords%3A!1%7D)%3Bconst%20ur%3Dlr.pack%2Cfr%3Dlr.pack%2Cdr%3Dir%2C%7BNEVER%3Apr%2CALWAYS%3Agr%2CDECIMAL_ROUND%3Ayr%2CDECIMAL_FIT%3Amr%7D%3DFt%2Cbr%3D512%2Cwr%3D1024%2Cvr%3D2048%3Bconst%20Er%3Dfunction(e%2Ct%3D%7B%7D)%7Bif(!e%7C%7C%22object%22!%3Dtypeof%20e)throw%20new%20Error(%22first%20argument%20must%20be%20an%20Iterable%2C%20Async%20Iterable%2C%20Iterator%2C%20Async%20Iterator%2C%20or%20a%20promise%22)%3Bconst%20r%3Dnew%20st(t)%3Blet%20n%3Bconst%20s%3De%3D%3E%7Blet%20t%3Bn%26%26(e%3DBuffer.concat(%5Bn%2Ce%5D)%2Cn%3Dvoid%200)%3Btry%7Bt%3Dr.unpackMultiple(e)%7Dcatch(r)%7Bif(!r.incomplete)throw%20r%3Bn%3De.slice(r.lastPosition)%2Ct%3Dr.values%7Dreturn%20t%7D%3Breturn%22function%22%3D%3Dtypeof%20e%5BSymbol.iterator%5D%3Ffunction*()%7Bfor(const%20t%20of%20e)yield*s(t)%7D()%3A%22function%22%3D%3Dtypeof%20e%5BSymbol.asyncIterator%5D%3Fasync%20function*()%7Bfor%20await(const%20t%20of%20e)yield*s(t)%7D()%3Avoid%200%7D%2COr%3Dfunction(e%2Ct%3D%7B%7D)%7Bif(e%26%26%22object%22%3D%3Dtypeof%20e)%7Bif(%22function%22%3D%3Dtypeof%20e%5BSymbol.iterator%5D)return%20function*(e%2Ct)%7Bconst%20r%3Dnew%20ir(t)%3Bfor(const%20t%20of%20e)yield%20r.pack(t)%7D(e%2Ct)%3Bif(%22function%22%3D%3Dtypeof%20e.then%7C%7C%22function%22%3D%3Dtypeof%20e%5BSymbol.asyncIterator%5D)return%20async%20function*(e%2Ct)%7Bconst%20r%3Dnew%20ir(t)%3Bfor%20await(const%20t%20of%20e)yield%20r.pack(t)%7D(e%2Ct)%3Bthrow%20new%20Error(%22first%20argument%20must%20be%20an%20Iterable%2C%20Async%20Iterable%2C%20Iterator%2C%20Async%20Iterator%2C%20or%20a%20Promise%22)%7Dthrow%20new%20Error(%22first%20argument%20must%20be%20an%20Iterable%2C%20Async%20Iterable%2C%20or%20a%20Promise%20for%20an%20Async%20Iterable%22)%7D%3Bvar%20Ir%2CAr%3Dw(Object.freeze(%7B__proto__%3Anull%2CALWAYS%3Agr%2CC1%3Att%2CDECIMAL_FIT%3Amr%2CDECIMAL_ROUND%3Ayr%2CDecoder%3AUt%2CEncoder%3Adr%2CFLOAT32_OPTIONS%3AFt%2CNEVER%3Apr%2CPackr%3Air%2CRESERVE_START_SPACE%3Avr%2CRESET_BUFFER_MODE%3Awr%2CREUSE_BUFFER_MODE%3Abr%2CUnpackr%3Ast%2CaddExtension%3Afunction(e)%7Bif(e.Class)%7Bif(!e.pack%26%26!e.write)throw%20new%20Error(%22Extension%20has%20no%20pack%20or%20write%20function%22)%3Bif(e.pack%26%26!e.type)throw%20new%20Error(%22Extension%20has%20no%20type%20(numeric%20code%20to%20identify%20the%20extension)%22)%3BWt.unshift(e.Class)%2Czt.unshift(e)%7D!function(e)%7Be.unpack%3FZe%5Be.type%5D%3De.unpack%3AZe%5Be.type%5D%3De%7D(e)%7D%2CclearSource%3A%24t%2Cdecode%3ALt%2CdecodeIter%3AEr%2Cencode%3Afr%2CencodeIter%3AOr%2CisNativeAccelerationEnabled%3A!1%2CmapsAsObjects%3A!0%2Cpack%3Aur%2CroundFloat32%3Afunction(e)%7BHt%5B0%5D%3De%3Blet%20t%3DNt%5B(127%26qt%5B3%5D)%3C%3C1%7Cqt%5B2%5D%3E%3E7%5D%3Breturn(t*e%2B(e%3E0%3F.5%3A-.5)%7C0)%2Ft%7D%2Cunpack%3Ajt%2CunpackMultiple%3ABt%2CuseRecords%3A!1%7D))%3Bfunction%20Sr()%7Bif(Ir)return%20fe%3BIr%3D1%3Bvar%20e%3DAe()%2Ct%3D_e()%2Cr%3Dxe()%2Cn%3Dke()%2Cs%3DUe()%2Ci%3Dye()%2Co%3DVe()%2Ca%3Dhe()%2Cc%3DAr%3Breturn%20fe.Room%3Dclass%20h%7Bconstructor(e%2Ct)%7Bthis.onStateChange%3Ds.createSignal()%2Cthis.onError%3Ds.createSignal()%2Cthis.onLeave%3Ds.createSignal()%2Cthis.onJoin%3Ds.createSignal()%2Cthis.hasJoined%3D!1%2Cthis.onMessageHandlers%3Dn.createNanoEvents()%2Cthis.roomId%3Dnull%2Cthis.name%3De%2Cthis.packr%3Dnew%20c.Packr%2Cthis.packr.encode(void%200)%2Ct%26%26(this.serializer%3Dnew(r.getSerializer(%22schema%22))%2Cthis.rootSchema%3Dt%2Cthis.serializer.state%3Dnew%20t)%2Cthis.onError(((e%2Ct)%3D%3E%7Bvar%20r%3Breturn%20null%3D%3D%3D(r%3Dconsole.warn)%7C%7Cvoid%200%3D%3D%3Dr%3Fvoid%200%3Ar.call(console%2C%60colyseus.js%20-%20onError%20%3D%3E%20(%24%7Be%7D)%20%24%7Bt%7D%60)%7D))%2Cthis.onLeave((()%3D%3Ethis.removeAllListeners()))%7Dconnect(t%2Cr%2Cn%3Dthis%2Cs%2Ci)%7Bconst%20o%3Dnew%20e.Connection(s.protocol)%3Bif(n.connection%3Do%2Co.events.onmessage%3Dh.prototype.onMessageCallback.bind(n)%2Co.events.onclose%3Dfunction(e)%7Bvar%20t%3Bif(!n.hasJoined)return%20null%3D%3D%3D(t%3Dconsole.warn)%7C%7Cvoid%200%3D%3D%3Dt%7C%7Ct.call(console%2C%60Room%20connection%20was%20closed%20unexpectedly%20(%24%7Be.code%7D)%3A%20%24%7Be.reason%7D%60)%2Cvoid%20n.onError.invoke(e.code%2Ce.reason)%3Be.code%3D%3D%3Da.CloseCode.DEVMODE_RESTART%26%26r%3Fr()%3A(n.onLeave.invoke(e.code%2Ce.reason)%2Cn.destroy())%7D%2Co.events.onerror%3Dfunction(e)%7Bvar%20t%3Bnull%3D%3D%3D(t%3Dconsole.warn)%7C%7Cvoid%200%3D%3D%3Dt%7C%7Ct.call(console%2C%60Room%2C%20onError%20(%24%7Be.code%7D)%3A%20%24%7Be.reason%7D%60)%2Cn.onError.invoke(e.code%2Ce.reason)%7D%2C%22h3%22%3D%3D%3Ds.protocol)%7Bconst%20e%3Dnew%20URL(t)%3Bo.connect(e.origin%2Cs)%7Delse%20o.connect(t%2Ci)%7Dleave(e%3D!0)%7Breturn%20new%20Promise((r%3D%3E%7Bthis.onLeave((e%3D%3Er(e)))%2Cthis.connection%3Fe%3F(this.packr.buffer%5B0%5D%3Dt.Protocol.LEAVE_ROOM%2Cthis.connection.send(this.packr.buffer.subarray(0%2C1)))%3Athis.connection.close()%3Athis.onLeave.invoke(a.CloseCode.CONSENTED)%7D))%7DonMessage(e%2Ct)%7Breturn%20this.onMessageHandlers.on(this.getMessageHandlerKey(e)%2Ct)%7Dsend(e%2Cr)%7Bconst%20n%3D%7Boffset%3A1%7D%3Bthis.packr.buffer%5B0%5D%3Dt.Protocol.ROOM_DATA%2C%22string%22%3D%3Dtypeof%20e%3Fi.encode.string(this.packr.buffer%2Ce%2Cn)%3Ai.encode.number(this.packr.buffer%2Ce%2Cn)%2Cthis.packr.position%3D0%3Bconst%20s%3Dvoid%200!%3D%3Dr%3Fthis.packr.pack(r%2C2048%2Bn.offset)%3Athis.packr.buffer.subarray(0%2Cn.offset)%3Bthis.connection.send(s)%7DsendUnreliable(e%2Cr)%7Bconst%20n%3D%7Boffset%3A1%7D%3Bthis.packr.buffer%5B0%5D%3Dt.Protocol.ROOM_DATA%2C%22string%22%3D%3Dtypeof%20e%3Fi.encode.string(this.packr.buffer%2Ce%2Cn)%3Ai.encode.number(this.packr.buffer%2Ce%2Cn)%2Cthis.packr.position%3D0%3Bconst%20s%3Dvoid%200!%3D%3Dr%3Fthis.packr.pack(r%2C2048%2Bn.offset)%3Athis.packr.buffer.subarray(0%2Cn.offset)%3Bthis.connection.sendUnreliable(s)%7DsendBytes(e%2Cr)%7Bconst%20n%3D%7Boffset%3A1%7D%3Bif(this.packr.buffer%5B0%5D%3Dt.Protocol.ROOM_DATA_BYTES%2C%22string%22%3D%3Dtypeof%20e%3Fi.encode.string(this.packr.buffer%2Ce%2Cn)%3Ai.encode.number(this.packr.buffer%2Ce%2Cn)%2Cr.byteLength%2Bn.offset%3Ethis.packr.buffer.byteLength)%7Bconst%20e%3Dnew%20Uint8Array(n.offset%2Br.byteLength)%3Be.set(this.packr.buffer)%2Cthis.packr.useBuffer(e)%7Dthis.packr.buffer.set(r%2Cn.offset)%2Cthis.connection.send(this.packr.buffer.subarray(0%2Cn.offset%2Br.byteLength))%7Dget%20state()%7Breturn%20this.serializer.getState()%7DremoveAllListeners()%7Bthis.onJoin.clear()%2Cthis.onStateChange.clear()%2Cthis.onError.clear()%2Cthis.onLeave.clear()%2Cthis.onMessageHandlers.events%3D%7B%7D%2Cthis.serializer%20instanceof%20o.SchemaSerializer%26%26(this.serializer.decoder.root.callbacks%3D%7B%7D)%7DonMessageCallback(e)%7Bconst%20n%3Dnew%20Uint8Array(e.data)%2Cs%3D%7Boffset%3A1%7D%2Co%3Dn%5B0%5D%3Bif(o%3D%3D%3Dt.Protocol.JOIN_ROOM)%7Bconst%20e%3Di.decode.utf8Read(n%2Cs%2Cn%5Bs.offset%2B%2B%5D)%3Bif(this.serializerId%3Di.decode.utf8Read(n%2Cs%2Cn%5Bs.offset%2B%2B%5D)%2C!this.serializer)%7Bconst%20e%3Dr.getSerializer(this.serializerId)%3Bthis.serializer%3Dnew%20e%7Dn.byteLength%3Es.offset%26%26this.serializer.handshake%26%26this.serializer.handshake(n%2Cs)%2Cthis.reconnectionToken%3D%60%24%7Bthis.roomId%7D%3A%24%7Be%7D%60%2Cthis.hasJoined%3D!0%2Cthis.onJoin.invoke()%2Cthis.packr.buffer%5B0%5D%3Dt.Protocol.JOIN_ROOM%2Cthis.connection.send(this.packr.buffer.subarray(0%2C1))%7Delse%20if(o%3D%3D%3Dt.Protocol.ERROR)%7Bconst%20e%3Di.decode.number(n%2Cs)%2Ct%3Di.decode.string(n%2Cs)%3Bthis.onError.invoke(e%2Ct)%7Delse%20if(o%3D%3D%3Dt.Protocol.LEAVE_ROOM)this.leave()%3Belse%20if(o%3D%3D%3Dt.Protocol.ROOM_STATE)this.serializer.setState(n%2Cs)%2Cthis.onStateChange.invoke(this.serializer.getState())%3Belse%20if(o%3D%3D%3Dt.Protocol.ROOM_STATE_PATCH)this.serializer.patch(n%2Cs)%2Cthis.onStateChange.invoke(this.serializer.getState())%3Belse%20if(o%3D%3D%3Dt.Protocol.ROOM_DATA)%7Bconst%20e%3Di.decode.stringCheck(n%2Cs)%3Fi.decode.string(n%2Cs)%3Ai.decode.number(n%2Cs)%2Ct%3Dn.byteLength%3Es.offset%3Fc.unpack(n%2C%7Bstart%3As.offset%7D)%3Avoid%200%3Bthis.dispatchMessage(e%2Ct)%7Delse%20if(o%3D%3D%3Dt.Protocol.ROOM_DATA_BYTES)%7Bconst%20e%3Di.decode.stringCheck(n%2Cs)%3Fi.decode.string(n%2Cs)%3Ai.decode.number(n%2Cs)%3Bthis.dispatchMessage(e%2Cn.subarray(s.offset))%7D%7DdispatchMessage(e%2Ct)%7Bvar%20r%3Bconst%20n%3Dthis.getMessageHandlerKey(e)%3Bthis.onMessageHandlers.events%5Bn%5D%3Fthis.onMessageHandlers.emit(n%2Ct)%3Athis.onMessageHandlers.events%5B%22*%22%5D%3Fthis.onMessageHandlers.emit(%22*%22%2Ce%2Ct)%3Anull%3D%3D%3D(r%3Dconsole.warn)%7C%7Cvoid%200%3D%3D%3Dr%7C%7Cr.call(console%2C%60colyseus.js%3A%20onMessage()%20not%20registered%20for%20type%20'%24%7Be%7D'.%60)%7Ddestroy()%7Bthis.serializer%26%26this.serializer.teardown()%7DgetMessageHandlerKey(e)%7Bswitch(typeof%20e)%7Bcase%22string%22%3Areturn%20e%3Bcase%22number%22%3Areturn%60i%24%7Be%7D%60%3Bdefault%3Athrow%20new%20Error(%22invalid%20message%20type.%22)%7D%7D%7D%2Cfe%7Dvar%20Tr%3D%7B%7D%3Bfunction%20_r(e%2Ct)%7Bt.headers%3De.headers%7C%7C%7B%7D%2Ct.statusMessage%3De.statusText%2Ct.statusCode%3De.status%2Ct.data%3De.response%7Dfunction%20Cr(e%2Ct%2Cr)%7Breturn%20new%20Promise((function(n%2Cs)%7Br%3Dr%7C%7C%7B%7D%3Bvar%20i%2Co%2Ca%2Cc%3Dnew%20XMLHttpRequest%2Ch%3Dr.body%2Cl%3Dr.headers%7C%7C%7B%7D%3Bfor(i%20in%20r.timeout%26%26(c.timeout%3Dr.timeout)%2Cc.ontimeout%3Dc.onerror%3Dfunction(e)%7Be.timeout%3D%22timeout%22%3D%3De.type%2Cs(e)%7D%2Cc.open(e%2Ct.href%7C%7Ct)%2Cc.onload%3Dfunction()%7Bfor(a%3Dc.getAllResponseHeaders().trim().split(%2F%5B%5Cr%5Cn%5D%2B%2F)%2C_r(c%2Cc)%3Bo%3Da.shift()%3B)o%3Do.split(%22%3A%20%22)%2Cc.headers%5Bo.shift().toLowerCase()%5D%3Do.join(%22%3A%20%22)%3Bif((o%3Dc.headers%5B%22content-type%22%5D)%26%26~o.indexOf(%22application%2Fjson%22))try%7Bc.data%3DJSON.parse(c.data%2Cr.reviver)%7Dcatch(e)%7Breturn%20_r(c%2Ce)%2Cs(e)%7D(c.status%3E%3D400%3Fs%3An)(c)%7D%2Ctypeof%20FormData%3C%22u%22%26%26h%20instanceof%20FormData%7C%7Ch%26%26%22object%22%3D%3Dtypeof%20h%26%26(l%5B%22content-type%22%5D%3D%22application%2Fjson%22%2Ch%3DJSON.stringify(h))%2Cc.withCredentials%3D!!r.withCredentials%2Cl)c.setRequestHeader(i%2Cl%5Bi%5D)%3Bc.send(h)%7D))%7Dvar%20Rr%2Cxr%3DCr.bind(Cr%2C%22GET%22)%2CPr%3DCr.bind(Cr%2C%22POST%22)%2CDr%3DCr.bind(Cr%2C%22PATCH%22)%2Ckr%3DCr.bind(Cr%2C%22DELETE%22)%2C%24r%3DCr.bind(Cr%2C%22PUT%22)%2CNr%3Dw(Object.freeze(%7B__proto__%3Anull%2Cdel%3Akr%2Cget%3Axr%2Cpatch%3ADr%2Cpost%3APr%2Cput%3A%24r%2Csend%3ACr%7D))%3Bfunction%20Ur()%7Bif(Rr)return%20Tr%3BRr%3D1%3Bvar%20e%3Dhe()%3Bfunction%20t(e)%7Bvar%20t%3DObject.create(null)%3Breturn%20e%26%26Object.keys(e).forEach((function(r)%7Bif(%22default%22!%3D%3Dr)%7Bvar%20n%3DObject.getOwnPropertyDescriptor(e%2Cr)%3BObject.defineProperty(t%2Cr%2Cn.get%3Fn%3A%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20e%5Br%5D%7D%7D)%7D%7D))%2Ct.default%3De%2CObject.freeze(t)%7Dvar%20r%3Dt(Nr)%3Breturn%20Tr.HTTP%3Dclass%7Bconstructor(e%2Ct%3D%7B%7D)%7Bthis.client%3De%2Cthis.headers%3Dt%7Dget(e%2Ct%3D%7B%7D)%7Breturn%20this.request(%22get%22%2Ce%2Ct)%7Dpost(e%2Ct%3D%7B%7D)%7Breturn%20this.request(%22post%22%2Ce%2Ct)%7Ddel(e%2Ct%3D%7B%7D)%7Breturn%20this.request(%22del%22%2Ce%2Ct)%7Dput(e%2Ct%3D%7B%7D)%7Breturn%20this.request(%22put%22%2Ce%2Ct)%7Drequest(t%2Cn%2Cs%3D%7B%7D)%7Breturn%20r%5Bt%5D(this.client.getHttpEndpoint(n)%2Cthis.getOptions(s)).catch((t%3D%3E%7Bvar%20r%3Bconst%20n%3Dt.statusCode%2Cs%3D(null%3D%3D%3D(r%3Dt.data)%7C%7Cvoid%200%3D%3D%3Dr%3Fvoid%200%3Ar.error)%7C%7Ct.statusMessage%7C%7Ct.message%3Bif(!n%26%26!s)throw%20t%3Bthrow%20new%20e.ServerError(n%2Cs)%7D))%7DgetOptions(e)%7Breturn%20e.headers%3DObject.assign(%7B%7D%2Cthis.headers%2Ce.headers)%2Cthis.authToken%26%26(e.headers.Authorization%3D%60Bearer%20%24%7Bthis.authToken%7D%60)%2C%22undefined%22!%3Dtypeof%20cc%26%26cc.sys%26%26cc.sys.isNative%7C%7C(e.withCredentials%3D!0)%2Ce%7D%7D%2CTr%7Dvar%20Mr%2Cjr%2CBr%3D%7B%7D%2CLr%3D%7B%7D%3Bfunction%20Fr()%7Bif(Mr)return%20Lr%3BMr%3D1%3Bvar%20e%3Dae%3Blet%20t%3Bfunction%20r()%7Bif(!t)try%7Bt%3D%22undefined%22!%3Dtypeof%20cc%26%26cc.sys%26%26cc.sys.localStorage%3Fcc.sys.localStorage%3Awindow.localStorage%7Dcatch(e)%7B%7Dreturn%20t%7C%7Cvoid%200%3D%3D%3DglobalThis.indexedDB%7C%7C(t%3Dnew%20n)%2Ct%7C%7C(t%3D%7Bcache%3A%7B%7D%2CsetItem%3Afunction(e%2Ct)%7Bthis.cache%5Be%5D%3Dt%7D%2CgetItem%3Afunction(e)%7Bthis.cache%5Be%5D%7D%2CremoveItem%3Afunction(e)%7Bdelete%20this.cache%5Be%5D%7D%7D)%2Ct%7Dclass%20n%7Bconstructor()%7Bthis.dbPromise%3Dnew%20Promise((e%3D%3E%7Bconst%20t%3DindexedDB.open(%22_colyseus_storage%22%2C1)%3Bt.onupgradeneeded%3D()%3D%3Et.result.createObjectStore(%22store%22)%2Ct.onsuccess%3D()%3D%3Ee(t.result)%7D))%7Dtx(t%2Cr)%7Breturn%20e.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconst%20e%3D(yield%20this.dbPromise).transaction(%22store%22%2Ct).objectStore(%22store%22)%3Breturn%20r(e)%7D))%7DsetItem(e%2Ct)%7Breturn%20this.tx(%22readwrite%22%2C(r%3D%3Er.put(t%2Ce))).then()%7DgetItem(t)%7Breturn%20e.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconst%20e%3Dyield%20this.tx(%22readonly%22%2C(e%3D%3Ee.get(t)))%3Breturn%20new%20Promise((t%3D%3E%7Be.onsuccess%3D()%3D%3Et(e.result)%7D))%7D))%7DremoveItem(e)%7Breturn%20this.tx(%22readwrite%22%2C(t%3D%3Et.delete(e))).then()%7D%7Dreturn%20Lr.getItem%3Dfunction(e%2Ct)%7Bconst%20n%3Dr().getItem(e)%3B%22undefined%22!%3Dtypeof%20Promise%26%26n%20instanceof%20Promise%3Fn.then((e%3D%3Et(e)))%3At(n)%7D%2CLr.removeItem%3Dfunction(e)%7Br().removeItem(e)%7D%2CLr.setItem%3Dfunction(e%2Ct)%7Br().setItem(e%2Ct)%7D%2CLr%7Dfunction%20Vr()%7Bif(jr)return%20Br%3Bjr%3D1%3Bvar%20e%2Ct%2Cr%2Cn%2Cs%3Dae%2Ci%3DFr()%2Co%3Dke()%3Breturn%20e%3Dnew%20WeakMap%2Ct%3Dnew%20WeakMap%2Cr%3Dnew%20WeakMap%2Cn%3Dnew%20WeakMap%2CBr.Auth%3Dclass%7Bconstructor(s)%7Bthis.http%3Ds%2Cthis.settings%3D%7Bpath%3A%22%2Fauth%22%2Ckey%3A%22colyseus-auth-token%22%7D%2Ce.set(this%2C!1)%2Ct.set(this%2Cvoid%200)%2Cr.set(this%2Cvoid%200)%2Cn.set(this%2Co.createNanoEvents())%2Ci.getItem(this.settings.key%2C(e%3D%3Ethis.token%3De))%7Dset%20token(e)%7Bthis.http.authToken%3De%7Dget%20token()%7Breturn%20this.http.authToken%7DonChange(r)%7Bconst%20i%3Ds.__classPrivateFieldGet(this%2Cn%2C%22f%22).on(%22change%22%2Cr)%3Breturn%20s.__classPrivateFieldGet(this%2Ce%2C%22f%22)%7C%7Cs.__classPrivateFieldSet(this%2Ct%2Cnew%20Promise(((e%2Ct)%3D%3E%7Bthis.getUserData().then((e%3D%3E%7Bthis.emitChange(Object.assign(Object.assign(%7B%7D%2Ce)%2C%7Btoken%3Athis.token%7D))%7D)).catch((e%3D%3E%7Bthis.emitChange(%7Buser%3Anull%2Ctoken%3Avoid%200%7D)%7D)).finally((()%3D%3E%7Be()%7D))%7D))%2C%22f%22)%2Cs.__classPrivateFieldSet(this%2Ce%2C!0%2C%22f%22)%2Ci%7DgetUserData()%7Breturn%20s.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bif(this.token)return(yield%20this.http.get(%60%24%7Bthis.settings.path%7D%2Fuserdata%60)).data%3Bthrow%20new%20Error(%22missing%20auth.token%22)%7D))%7DregisterWithEmailAndPassword(e%2Ct%2Cr)%7Breturn%20s.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconst%20n%3D(yield%20this.http.post(%60%24%7Bthis.settings.path%7D%2Fregister%60%2C%7Bbody%3A%7Bemail%3Ae%2Cpassword%3At%2Coptions%3Ar%7D%7D)).data%3Breturn%20this.emitChange(n)%2Cn%7D))%7DsignInWithEmailAndPassword(e%2Ct)%7Breturn%20s.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconst%20r%3D(yield%20this.http.post(%60%24%7Bthis.settings.path%7D%2Flogin%60%2C%7Bbody%3A%7Bemail%3Ae%2Cpassword%3At%7D%7D)).data%3Breturn%20this.emitChange(r)%2Cr%7D))%7DsignInAnonymously(e)%7Breturn%20s.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconst%20t%3D(yield%20this.http.post(%60%24%7Bthis.settings.path%7D%2Fanonymous%60%2C%7Bbody%3A%7Boptions%3Ae%7D%7D)).data%3Breturn%20this.emitChange(t)%2Ct%7D))%7DsendPasswordResetEmail(e)%7Breturn%20s.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Breturn(yield%20this.http.post(%60%24%7Bthis.settings.path%7D%2Fforgot-password%60%2C%7Bbody%3A%7Bemail%3Ae%7D%7D)).data%7D))%7DsignInWithProvider(e)%7Breturn%20s.__awaiter(this%2Carguments%2Cvoid%200%2C(function*(e%2Ct%3D%7B%7D)%7Breturn%20new%20Promise(((n%2Ci)%3D%3E%7Bconst%20o%3Dt.width%7C%7C480%2Ca%3Dt.height%7C%7C768%2Cc%3Dthis.token%3F%60%3Ftoken%3D%24%7Bthis.token%7D%60%3A%22%22%2Ch%3D%60Login%20with%20%24%7Be%5B0%5D.toUpperCase()%2Be.substring(1)%7D%60%2Cl%3Dthis.http.client.getHttpEndpoint(%60%24%7Bt.prefix%7C%7C%60%24%7Bthis.settings.path%7D%2Fprovider%60%7D%2F%24%7Be%7D%24%7Bc%7D%60)%2Cu%3Dscreen.width%2F2-o%2F2%2Cf%3Dscreen.height%2F2-a%2F2%3Bs.__classPrivateFieldSet(this%2Cr%2Cwindow.open(l%2Ch%2C%22toolbar%3Dno%2C%20location%3Dno%2C%20directories%3Dno%2C%20status%3Dno%2C%20menubar%3Dno%2C%20scrollbars%3Dno%2C%20resizable%3Dno%2C%20copyhistory%3Dno%2C%20width%3D%22%2Bo%2B%22%2C%20height%3D%22%2Ba%2B%22%2C%20top%3D%22%2Bf%2B%22%2C%20left%3D%22%2Bu)%2C%22f%22)%3Bconst%20d%3De%3D%3E%7Bvoid%200%3D%3D%3De.data.user%26%26void%200%3D%3D%3De.data.token%7C%7C(clearInterval(p)%2Cs.__classPrivateFieldGet(this%2Cr%2C%22f%22).close()%2Cs.__classPrivateFieldSet(this%2Cr%2Cvoid%200%2C%22f%22)%2Cwindow.removeEventListener(%22message%22%2Cd)%2Cvoid%200!%3D%3De.data.error%3Fi(e.data.error)%3A(n(e.data)%2Cthis.emitChange(e.data)))%7D%2Cp%3DsetInterval((()%3D%3E%7Bs.__classPrivateFieldGet(this%2Cr%2C%22f%22)%26%26!s.__classPrivateFieldGet(this%2Cr%2C%22f%22).closed%7C%7C(s.__classPrivateFieldSet(this%2Cr%2Cvoid%200%2C%22f%22)%2Ci(%22cancelled%22)%2Cwindow.removeEventListener(%22message%22%2Cd))%7D)%2C200)%3Bwindow.addEventListener(%22message%22%2Cd)%7D))%7D))%7DsignOut()%7Breturn%20s.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bthis.emitChange(%7Buser%3Anull%2Ctoken%3Anull%7D)%7D))%7DemitChange(e)%7Bvoid%200!%3D%3De.token%26%26(this.token%3De.token%2Cnull%3D%3D%3De.token%3Fi.removeItem(this.settings.key)%3Ai.setItem(this.settings.key%2Ce.token))%2Cs.__classPrivateFieldGet(this%2Cn%2C%22f%22).emit(%22change%22%2Ce)%7D%7D%2CBr%7Dvar%20zr%2CWr%2CHr%3D%7B%7D%3Bfunction%20qr()%7Bif(zr)return%20Hr%3Breturn%20zr%3D1%2CHr.discordURLBuilder%3Dfunction(e)%7Bvar%20t%3Bconst%20r%3D(null%3D%3D%3D(t%3Dnull%3D%3D%3Dwindow%7C%7Cvoid%200%3D%3D%3Dwindow%3Fvoid%200%3Awindow.location)%7C%7Cvoid%200%3D%3D%3Dt%3Fvoid%200%3At.hostname)%7C%7C%22localhost%22%2Cn%3De.hostname.split(%22.%22)%2Cs%3D!e.hostname.includes(%22trycloudflare.com%22)%26%26!e.hostname.includes(%22discordsays.com%22)%26%26n.length%3E2%3F%60%2F%24%7Bn%5B0%5D%7D%60%3A%22%22%3Breturn%20e.pathname.startsWith(%22%2F.proxy%22)%3F%60%24%7Be.protocol%7D%2F%2F%24%7Br%7D%24%7Bs%7D%24%7Be.pathname%7D%24%7Be.search%7D%60%3A%60%24%7Be.protocol%7D%2F%2F%24%7Br%7D%2F.proxy%2Fcolyseus%24%7Bs%7D%24%7Be.pathname%7D%24%7Be.search%7D%60%7D%2CHr%7Dfunction%20Jr()%7Bif(Wr)return%20O%3BWr%3D1%3Bvar%20e%2Ct%3Dae%2Cr%3Dhe()%2Cn%3DSr()%2Cs%3DUr()%2Ci%3DVr()%2Co%3Dqr()%3Bclass%20a%20extends%20Error%7Bconstructor(e%2Ct)%7Bsuper(e)%2Cthis.code%3Dt%2Cthis.name%3D%22MatchMakeError%22%2CObject.setPrototypeOf(this%2Ca.prototype)%7D%7Dconst%20c%3D%22undefined%22!%3Dtypeof%20window%26%26void%200!%3D%3D(null%3D%3D%3D(e%3Dnull%3D%3D%3Dwindow%7C%7Cvoid%200%3D%3D%3Dwindow%3Fvoid%200%3Awindow.location)%7C%7Cvoid%200%3D%3D%3De%3Fvoid%200%3Ae.hostname)%3F%60%24%7Bwindow.location.protocol.replace(%22http%22%2C%22ws%22)%7D%2F%2F%24%7Bwindow.location.hostname%7D%24%7Bwindow.location.port%26%26%60%3A%24%7Bwindow.location.port%7D%60%7D%60%3A%22ws%3A%2F%2F127.0.0.1%3A2567%22%3Blet%20h%3Dclass%7Bconstructor(e%3Dc%2Ct)%7Bvar%20r%2Cn%3Bif(%22string%22%3D%3Dtypeof%20e)%7Bconst%20t%3De.startsWith(%22%2F%22)%3Fnew%20URL(e%2Cc)%3Anew%20URL(e)%2Cr%3D%22https%3A%22%3D%3D%3Dt.protocol%7C%7C%22wss%3A%22%3D%3D%3Dt.protocol%2Cn%3DNumber(t.port%7C%7C(r%3F443%3A80))%3Bthis.settings%3D%7Bhostname%3At.hostname%2Cpathname%3At.pathname%2Cport%3An%2Csecure%3Ar%7D%7Delse%20void%200%3D%3D%3De.port%26%26(e.port%3De.secure%3F443%3A80)%2Cvoid%200%3D%3D%3De.pathname%26%26(e.pathname%3D%22%22)%2Cthis.settings%3De%3Bthis.settings.pathname.endsWith(%22%2F%22)%26%26(this.settings.pathname%3Dthis.settings.pathname.slice(0%2C-1))%2Cthis.http%3Dnew%20s.HTTP(this%2C(null%3D%3Dt%3Fvoid%200%3At.headers)%7C%7C%7B%7D)%2Cthis.auth%3Dnew%20i.Auth(this.http)%2Cthis.urlBuilder%3Dnull%3D%3Dt%3Fvoid%200%3At.urlBuilder%2C!this.urlBuilder%26%26%22undefined%22!%3Dtypeof%20window%26%26(null%3D%3D%3D(n%3Dnull%3D%3D%3D(r%3Dnull%3D%3D%3Dwindow%7C%7Cvoid%200%3D%3D%3Dwindow%3Fvoid%200%3Awindow.location)%7C%7Cvoid%200%3D%3D%3Dr%3Fvoid%200%3Ar.hostname)%7C%7Cvoid%200%3D%3D%3Dn%3Fvoid%200%3An.includes(%22discordsays.com%22))%26%26(this.urlBuilder%3Do.discordURLBuilder%2Cconsole.log(%22Colyseus%20SDK%3A%20Discord%20Embedded%20SDK%20detected.%20Using%20custom%20URL%20builder.%22))%7DjoinOrCreate(e)%7Breturn%20t.__awaiter(this%2Carguments%2Cvoid%200%2C(function*(e%2Ct%3D%7B%7D%2Cr)%7Breturn%20yield%20this.createMatchMakeRequest(%22joinOrCreate%22%2Ce%2Ct%2Cr)%7D))%7Dcreate(e)%7Breturn%20t.__awaiter(this%2Carguments%2Cvoid%200%2C(function*(e%2Ct%3D%7B%7D%2Cr)%7Breturn%20yield%20this.createMatchMakeRequest(%22create%22%2Ce%2Ct%2Cr)%7D))%7Djoin(e)%7Breturn%20t.__awaiter(this%2Carguments%2Cvoid%200%2C(function*(e%2Ct%3D%7B%7D%2Cr)%7Breturn%20yield%20this.createMatchMakeRequest(%22join%22%2Ce%2Ct%2Cr)%7D))%7DjoinById(e)%7Breturn%20t.__awaiter(this%2Carguments%2Cvoid%200%2C(function*(e%2Ct%3D%7B%7D%2Cr)%7Breturn%20yield%20this.createMatchMakeRequest(%22joinById%22%2Ce%2Ct%2Cr)%7D))%7Dreconnect(e%2Cr)%7Breturn%20t.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bif(%22string%22%3D%3Dtypeof%20e%26%26%22string%22%3D%3Dtypeof%20r)throw%20new%20Error(%22DEPRECATED%3A%20.reconnect()%20now%20only%20accepts%20'reconnectionToken'%20as%20argument.%5CnYou%20can%20get%20this%20token%20from%20previously%20connected%20%60room.reconnectionToken%60%22)%3Bconst%5Bt%2Cn%5D%3De.split(%22%3A%22)%3Bif(!t%7C%7C!n)throw%20new%20Error(%22Invalid%20reconnection%20token%20format.%5CnThe%20format%20should%20be%20roomId%3AreconnectionToken%22)%3Breturn%20yield%20this.createMatchMakeRequest(%22reconnect%22%2Ct%2C%7BreconnectionToken%3An%7D%2Cr)%7D))%7DconsumeSeatReservation(e%2Cn%2Cs)%7Breturn%20t.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconst%20i%3Dthis.createRoom(e.room.name%2Cn)%3Bi.roomId%3De.room.roomId%2Ci.sessionId%3De.sessionId%3Bconst%20o%3D%7BsessionId%3Ai.sessionId%7D%3Be.reconnectionToken%26%26(o.reconnectionToken%3De.reconnectionToken)%3Bconst%20a%3Ds%7C%7Ci%3Breturn%20i.connect(this.buildEndpoint(e.room%2Co%2Ce.protocol)%2Ce.devMode%26%26(()%3D%3Et.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Bconsole.info(%60%5BColyseus%20devMode%5D%3A%20%24%7BString.fromCodePoint(128260)%7D%20Re-establishing%20connection%20with%20room%20id%20'%24%7Bi.roomId%7D'...%60)%3Blet%20r%3D0%3Bconst%20s%3D()%3D%3Et.__awaiter(this%2Cvoid%200%2Cvoid%200%2C(function*()%7Br%2B%2B%3Btry%7Byield%20this.consumeSeatReservation(e%2Cn%2Ca)%2Cconsole.info(%60%5BColyseus%20devMode%5D%3A%20%24%7BString.fromCodePoint(9989)%7D%20Successfully%20re-established%20connection%20with%20room%20'%24%7Bi.roomId%7D'%60)%7Dcatch(e)%7Br%3C8%3F(console.info(%60%5BColyseus%20devMode%5D%3A%20%24%7BString.fromCodePoint(128260)%7D%20retrying...%20(%24%7Br%7D%20out%20of%208)%60)%2CsetTimeout(s%2C2e3))%3Aconsole.info(%60%5BColyseus%20devMode%5D%3A%20%24%7BString.fromCodePoint(10060)%7D%20Failed%20to%20reconnect.%20Is%20your%20server%20running%3F%20Please%20check%20server%20logs.%60)%7D%7D))%3BsetTimeout(s%2C2e3)%7D)))%2Ca%2Ce%2Cthis.http.headers)%2Cnew%20Promise(((e%2Ct)%3D%3E%7Bconst%20n%3D(e%2Cn)%3D%3Et(new%20r.ServerError(e%2Cn))%3Ba.onError.once(n)%2Ca.onJoin.once((()%3D%3E%7Ba.onError.remove(n)%2Ce(a)%7D))%7D))%7D))%7DcreateMatchMakeRequest(e%2Cr)%7Breturn%20t.__awaiter(this%2Carguments%2Cvoid%200%2C(function*(e%2Ct%2Cr%3D%7B%7D%2Cn%2Cs)%7Bconst%20i%3D(yield%20this.http.post(%60matchmake%2F%24%7Be%7D%2F%24%7Bt%7D%60%2C%7Bheaders%3A%7BAccept%3A%22application%2Fjson%22%2C%22Content-Type%22%3A%22application%2Fjson%22%7D%2Cbody%3AJSON.stringify(r)%7D)).data%3Bif(i.error)throw%20new%20a(i.error%2Ci.code)%3Breturn%22reconnect%22%3D%3D%3De%26%26(i.reconnectionToken%3Dr.reconnectionToken)%2Cyield%20this.consumeSeatReservation(i%2Cn%2Cs)%7D))%7DcreateRoom(e%2Ct)%7Breturn%20new%20n.Room(e%2Ct)%7DbuildEndpoint(e%2Ct%3D%7B%7D%2Cr%3D%22ws%22)%7Bconst%20n%3D%5B%5D%3Bthis.http.authToken%26%26(t._authToken%3Dthis.http.authToken)%3Bfor(const%20e%20in%20t)t.hasOwnProperty(e)%26%26n.push(%60%24%7Be%7D%3D%24%7Bt%5Be%5D%7D%60)%3B%22h3%22%3D%3D%3Dr%26%26(r%3D%22http%22)%3Blet%20s%3Dthis.settings.secure%3F%60%24%7Br%7Ds%3A%2F%2F%60%3A%60%24%7Br%7D%3A%2F%2F%60%3Be.publicAddress%3Fs%2B%3D%60%24%7Be.publicAddress%7D%60%3As%2B%3D%60%24%7Bthis.settings.hostname%7D%24%7Bthis.getEndpointPort()%7D%24%7Bthis.settings.pathname%7D%60%3Bconst%20i%3D%60%24%7Bs%7D%2F%24%7Be.processId%7D%2F%24%7Be.roomId%7D%3F%24%7Bn.join(%22%26%22)%7D%60%3Breturn%20this.urlBuilder%3Fthis.urlBuilder(new%20URL(i))%3Ai%7DgetHttpEndpoint(e%3D%22%22)%7Bconst%20t%3De.startsWith(%22%2F%22)%3Fe%3A%60%2F%24%7Be%7D%60%2Cr%3D%60%24%7Bthis.settings.secure%3F%22https%22%3A%22http%22%7D%3A%2F%2F%24%7Bthis.settings.hostname%7D%24%7Bthis.getEndpointPort()%7D%24%7Bthis.settings.pathname%7D%24%7Bt%7D%60%3Breturn%20this.urlBuilder%3Fthis.urlBuilder(new%20URL(r))%3Ar%7DgetEndpointPort()%7Breturn%2080!%3D%3Dthis.settings.port%26%26443!%3D%3Dthis.settings.port%3F%60%3A%24%7Bthis.settings.port%7D%60%3A%22%22%7D%7D%3Breturn%20h.VERSION%3D%220.16.16%22%2CO.Client%3Dh%2CO.MatchMakeError%3Da%2CO%7Dvar%20Gr%2CKr%2CYr%3D%7B%7D%3Bfunction%20Xr()%7Bif(Gr)return%20Yr%3BGr%3D1%3Breturn%20Yr.NoneSerializer%3Dclass%7BsetState(e)%7B%7DgetState()%7Breturn%20null%7Dpatch(e)%7B%7Dteardown()%7B%7Dhandshake(e)%7B%7D%7D%2CYr%7Dvar%20Zr%3D(Kr%7C%7C(Kr%3D1%2Cfunction(e)%7Bv%7C%7C(v%3D1%2CArrayBuffer.isView%7C%7C(ArrayBuffer.isView%3De%3D%3Enull!%3D%3De%26%26%22object%22%3D%3Dtypeof%20e%26%26e.buffer%20instanceof%20ArrayBuffer)%2C%22undefined%22%3D%3Dtypeof%20FormData%26%26(b.FormData%3Dclass%7B%7D)%2C%22undefined%22%3D%3Dtypeof%20globalThis%26%26%22undefined%22!%3Dtypeof%20window%26%26(window.globalThis%3Dwindow))%3Bvar%20t%3DJr()%2Cr%3D_e()%2Cn%3DSr()%2Cs%3DVr()%2Ci%3Dhe()%2Co%3DVe()%2Ca%3DXr()%2Cc%3Dxe()%3Bc.registerSerializer(%22schema%22%2Co.SchemaSerializer)%2Cc.registerSerializer(%22none%22%2Ca.NoneSerializer)%2Ce.Client%3Dt.Client%2Ce.MatchMakeError%3Dt.MatchMakeError%2CObject.defineProperty(e%2C%22ErrorCode%22%2C%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20r.ErrorCode%7D%7D)%2CObject.defineProperty(e%2C%22Protocol%22%2C%7Benumerable%3A!0%2Cget%3Afunction()%7Breturn%20r.Protocol%7D%7D)%2Ce.Room%3Dn.Room%2Ce.Auth%3Ds.Auth%2Ce.ServerError%3Di.ServerError%2Ce.SchemaSerializer%3Do.SchemaSerializer%2Ce.getStateCallbacks%3Do.getStateCallbacks%2Ce.registerSerializer%3Dc.registerSerializer%7D(E))%2CE)%3Bconst%20Qr%3D()%3D%3E%7B%7D%3Blet%20en%3D!1%3Bfunction%20tn(e%2Ct%2Cr)%7Bif(null%3D%3De)return%20t(void%200)%2CQr%3Bconst%20n%3Dfunction(e)%7Bvar%20t%3Den%3Btry%7Breturn%20en%3D!0%2Ce()%7Dfinally%7Ben%3Dt%7D%7D((()%3D%3Ee.subscribe(t%2Cr)))%3Breturn%20n.unsubscribe%3F()%3D%3En.unsubscribe()%3An%7Dconst%20rn%3D%5B%5D%3Bfunction%20nn(e%2Ct%3DQr)%7Blet%20r%3Dnull%3Bconst%20n%3Dnew%20Set%3Bfunction%20s(t)%7Bif(i%3Dt%2C((s%3De)!%3Ds%3Fi%3D%3Di%3As!%3D%3Di%7C%7Cnull!%3D%3Ds%26%26%22object%22%3D%3Dtypeof%20s%7C%7C%22function%22%3D%3Dtypeof%20s)%26%26(e%3Dt%2Cr))%7Bconst%20t%3D!rn.length%3Bfor(const%20t%20of%20n)t%5B1%5D()%2Crn.push(t%2Ce)%3Bif(t)%7Bfor(let%20e%3D0%3Be%3Crn.length%3Be%2B%3D2)rn%5Be%5D%5B0%5D(rn%5Be%2B1%5D)%3Brn.length%3D0%7D%7Dvar%20s%2Ci%7Dfunction%20i(t)%7Bs(t(e))%7Dreturn%7Bset%3As%2Cupdate%3Ai%2Csubscribe%3Afunction(o%2Ca%3DQr)%7Bconst%20c%3D%5Bo%2Ca%5D%3Breturn%20n.add(c)%2C1%3D%3D%3Dn.size%26%26(r%3Dt(s%2Ci)%7C%7CQr)%2Co(e)%2C()%3D%3E%7Bn.delete(c)%2C0%3D%3D%3Dn.size%26%26r%26%26(r()%2Cr%3Dnull)%7D%7D%7D%7Dfunction%20sn(e)%7Blet%20t%3Breturn%20tn(e%2C(e%3D%3Et%3De))()%2Ct%7Dclass%20on%20extends%20EventTarget%7Bstate%3BsetState(e)%7Bthis.state.decode(e)%2Cthis.dispatchEvent(new%20CustomEvent(%22patch%22%2C%7Bdetail%3Anull%7D))%2Cthis.dispatchEvent(new%20Event(%22load%22))%7DgetState()%7Breturn%20this.state%7Dpatch(e)%7Blet%20t%3Dthis.state.decode(e)%3Bfor(let%20e%20of%20t)if(%22gameTime%22!%3De.field)%7Bthis.dispatchEvent(new%20CustomEvent(%22patch%22%2C%7Bdetail%3At%7D))%3Bbreak%7D%7Dteardown()%7Bthis.state%3F.%24changes%3F.root.clearRefs()%7Dhandshake(t%2Cr)%7Bif(this.state)%7B(new%20e.Reflection).decode(t%2Cr)%7Delse%20this.state%3De.Reflection.decode(t%2Cr)%3Bthis.dispatchEvent(new%20CustomEvent(%22patch%22%2C%7Bdetail%3Anull%7D))%7D%7Dconst%20an%3Dnew%20on%3Bclass%20cn%20extends%20EventTarget%7Bsocket%3Dnull%3BtransportType%3Dnn(%22unknown%22)%3BblueboatRoomId%3Dnull%3Bsetup()%7Blet%20e%3Dthis%3Bclass%20t%20extends%20WebSocket%7Bconstructor(t%2Cr)%7Bsuper(t%2Cr)%2Ce.socket%7C%7Ce.registerSocket(this)%7Dsend(t)%7Be.onSend(t)%2Csuper.send(t)%7D%7Dlet%20r%3DXMLHttpRequest.prototype.send%3BXMLHttpRequest.prototype.send%3Dfunction()%7Bthis.addEventListener(%22load%22%2C(()%3D%3E%7Bif(!this.responseURL.endsWith(%22%2Fmatchmaker%2Fjoin%22))return%3Blet%20t%3DJSON.parse(this.responseText)%3Be.blueboatRoomId%3Dt.roomId%2Cconsole.log(%22Got%20Blueboat%20Room%20Id%3A%20%22%2Be.blueboatRoomId)%7D))%2Cr.apply(this%2Carguments)%7D%2Ci().WebSocket%3Dt%7DregisterSocket(r)%7Bthis.socket%3Dr%2C%22Phaser%22in%20i()%3F(this.transportType.set(%22colyseus%22)%2Cthis.addEventListener(%22colyseusMessage%22%2C(e%3D%3E%7Bif(%22DEVICES_STATES_CHANGES%22!%3De.detail.type)return%3Blet%20t%3Dfunction(e)%7Blet%20t%3D%5B%5D%3Bfor(let%20r%20of%20e.changes)%7Blet%20n%3D%7B%7D%2Cs%3Dr%5B1%5D.map((t%3D%3Ee.values%5Bt%5D))%3Bfor(let%20e%3D0%3Be%3Cs.length%3Be%2B%2B)n%5Bs%5Be%5D%5D%3Dr%5B2%5D%5Be%5D%3Bt.push(%7Bid%3Ar%5B0%5D%2Cdata%3An%7D)%7Dreturn%20t%7D(e.detail.message)%3Bthis.dispatchEvent(new%20CustomEvent(%22deviceChanges%22%2C%7Bdetail%3At%7D))%7D)))%3Athis.transportType.set(%22blueboat%22)%2Cr.addEventListener(%22message%22%2C(r%3D%3E%7Blet%20n%3Bif(%22colyseus%22%3D%3Dsn(this.transportType))%7Bif(n%3Dfunction(r)%7Bconst%20n%3DArray.from(new%20Uint8Array(r.data))%2Ci%3Dn%5B0%5D%3Bif(i%3D%3D%3DZr.Protocol.JOIN_ROOM)%7Blet%20e%3D1%3Bconst%20r%3Dt.utf8Read(n%2Ce)%3Be%2B%3Dt.utf8Length(r)%3Bconst%20s%3Dt.utf8Read(n%2Ce)%3Be%2B%3Dt.utf8Length(s)%2Cconsole.log(r%2Cs%2Ce)%2Cn.length%3Ee%26%26an.handshake(n%2C%7Boffset%3Ae%7D)%7Delse%20if(i%3D%3D%3DZr.Protocol.ROOM_DATA_SCHEMA)%3Belse%20if(i%3D%3D%3DZr.Protocol.ROOM_STATE)n.shift()%2Can.setState(n)%3Belse%20if(i%3D%3D%3DZr.Protocol.ROOM_STATE_PATCH)n.shift()%2Can.patch(n)%3Belse%7Bif(i%3D%3D%3DZr.Protocol.ROOM_DATA)%7Bconst%20t%3D%7Boffset%3A1%7D%3Breturn%7Btype%3Ae.decode.stringCheck(n%2Ct)%3Fe.decode.string(n%2Ct)%3Ae.decode.number(n%2Ct)%2Cmessage%3An.length%3Et.offset%3Fs.decode(r.data%2Ct.offset)%3Avoid%200%7D%7Dif(i%3D%3D%3DZr.Protocol.ROOM_DATA_BYTES)%7Bconst%20t%3D%7Boffset%3A1%7D%3Breturn%7Btype%3Ae.decode.stringCheck(n%2Ct)%3Fe.decode.string(n%2Ct)%3Ae.decode.number(n%2Ct)%2Cmessage%3Anew%20Uint8Array(n.slice(t.offset))%7D%7D%7Dreturn%20null%7D(r)%2C!n)return%3Bthis.dispatchEvent(new%20CustomEvent(%22colyseusMessage%22%2C%7Bdetail%3An%7D))%7Delse%7Bif(n%3Da.decode(r.data)%2C!n)return%3Bthis.dispatchEvent(new%20CustomEvent(%22blueboatMessage%22%2C%7Bdetail%3An%7D))%7D%7D))%7DonSend(e)%7Bif(%22blueboat%22%3D%3Dsn(this.transportType)%26%26!this.blueboatRoomId)%7Blet%20t%3Da.decode(e)%3Bt.roomId%26%26(this.blueboatRoomId%3Dt.roomId)%2Ct.room%26%26(this.blueboatRoomId%3Dt.room)%2Cthis.blueboatRoomId%26%26console.log(%22Got%20Blueboat%20Room%20Id%3A%20%22%2Bthis.blueboatRoomId)%7D%7DsendMessage(e%2Ct)%7Bif(!this.socket)return%3Bif(!this.blueboatRoomId%26%26%22blueboat%22%3D%3Dsn(this.transportType))return%3Blet%20r%3Bif(%22colyseus%22%3D%3Dsn(this.transportType))%7Blet%20n%3D%5BZr.Protocol.ROOM_DATA%5D%2Cs%3Dm(e)%2Ci%3Dm(t)%3Br%3Dnew%20Uint8Array(s.byteLength%2Bi.byteLength%2Bn.length)%2Cr.set(n)%2Cr.set(new%20Uint8Array(s)%2Cn.length)%2Cr.set(new%20Uint8Array(i)%2Cn.length%2Bs.byteLength)%7Delse%20r%3Da.encode(e%2Ct%2Cthis.blueboatRoomId)%3Bthis.socket.send(r)%7D%7Dconst%20hn%3Dnew%20cn%3Bfunction%20ln(e)%7Bconsole.log(e)%2Cfetch(e).then((e%3D%3Ee.text())).then((e%3D%3E%7Bconst%20t%3De.indexOf('%3A%22App.')%3Bif(!t)return%20void%20alert(%22GC%3A%20Failed%20to%20find%20the%20correct%20script%20to%20modify.%20Please%20open%20an%20issue%20on%20GitHub.%22)%3Bconst%20r%3De.substring(t-7%2Ct)%2Cn%3De.lastIndexOf(%22).register(JSON.parse(%22%2Ct)%2Cs%3De.substring(n-7%2Cn)%2Ci%3Dnew%20RegExp(%60import%5C%5C(%22%5C%5C.%5C%5C%2F%22%5C%5C%2B(.)%5C%5C(%24%7Bs%7D%5C%5C)%5C%5C.resolve%5C%5C(%24%7Br%7D%5C%5C)%5C%5C)%60%2C%22g%22)%2Co%3Di.exec(e)%3F.%5B1%5D%3Bif(!o)return%20void%20alert(%22GC%3A%20Failed%20to%20find%20the%20correct%20script%20to%20modify.%20Please%20open%20an%20issue%20on%20GitHub.%22)%3Be%3D(e%3De.replace(i%2C%60new%20Promise(async%20(resolve)%20%3D%3E%20%7B%5Cn%20%20%20%20const%20src%20%3D%20%22.%2F%22%2B%24%7Bo%7D(%24%7Bs%7D).resolve(%24%7Br%7D)%5Cn%20%20%20%20console.log(src)%5Cn%20%20%20%20const%20res%20%3D%20await%20fetch(src)%5Cn%20%20%20%20let%20text%20%3D%20await%20res.text()%5Cn%20%20%20%20const%20endRegex%20%3D%20%2Fassignment%3Anew%5C%5C(0%2C(.)%5C%5C.default%5C%5C)%5C%5C%7D%2F%5Cn%20%20%20%20const%20endRes%20%3D%20endRegex.exec(text)%5Cn%20%20%20%20const%20varRegex%20%3D%20%2F(.)%3D%7Bnetwork%3Anew%2F%5Cn%20%20%20%20const%20varRes%20%3D%20varRegex.exec(text)%5Cn%20%20%20%20if(!endRes%5B1%5D%20%7C%7C%20!varRes%5B1%5D)%20%7B%5Cn%20%20%20%20%20%20%20%20alert(%22GC%3A%20Failed%20to%20find%20the%20correct%20script%20to%20modify.%20Please%20open%20an%20issue%20on%20GitHub.%22)%5Cn%20%20%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20text%20%3D%20text.replace(endRegex%2C%20'assignment%3Anew(0%2C'%2BendRes%5B1%5D%2B'.default)%7D%3Bwindow.stores%3D'%2BvarRes%5B1%5D%2B'%3Bwindow.storesLoaded.set(true)%3Bconsole.log(%22GC%3A%20Stores%20loaded%20via%20intercept%22)%3B')%5Cn%5Cn%20%20%20%20const%20script%20%3D%20document.createElement('script')%3B%5Cn%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20script.appendChild(document.createTextNode(text))%3B%5Cn%20%20%20%20%20%20%20%20document.head.appendChild(script)%3B%5Cn%20%20%20%20%7D%20catch(e)%20%7B%20%5Cn%20%20%20%20%20%20%20%20script.text%20%3D%20text%3B%5Cn%20%20%20%20%20%20%20%20document.head.appendChild(script)%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20setTimeout(resolve%2C%200)%5Cn%7D)%60)).replace(%2F%22%5C.%5C%2F%22%2Fg%2C'%22%2F%22')%3Bconst%20a%3Ddocument.createElement(%22script%22)%3Ba.type%3D%22module%22%2Cdocument.querySelector(%22%23root%22)%3F.remove()%3Blet%20c%3Ddocument.createElement(%22div%22)%3Bc.id%3D%22root%22%2Cdocument.body.appendChild(c)%3Btry%7Ba.appendChild(document.createTextNode(e))%2Cdocument.head.appendChild(a)%7Dcatch(t)%7Ba.text%3De%2Cdocument.head.appendChild(a)%7D%7D))%7Dclass%20un%20extends%20EventTarget%7B_parcelModuleCache%3D%7B%7D%3B_parcelModules%3D%7B%7D%3BreqIntercepts%3D%5B%5D%3BreadyToIntercept%3D!0%3Bconstructor()%7Bsuper()%3Blet%20e%3Ddocument.querySelectorAll('script%5Bsrc*%3D%22index%22%5D%3Anot(%5Bnomodule%5D)')%3Be.length%3E0%3F(this.readyToIntercept%3D!1%2C%22complete%22%3D%3D%3Ddocument.readyState%3F(this.setup()%2Cthis.reloadExistingScripts(e))%3Awindow.addEventListener(%22load%22%2C(()%3D%3E%7Bthis.setup()%2Cthis.reloadExistingScripts(e)%7D)))%3Athis.setup()%2Ci().decachedImport%3Dthis.decachedImport.bind(this)%7Dasync%20reloadExistingScripts(e)%7Bthis.nukeDom()%2Cthis.readyToIntercept%3D!0%2Cthis.emptyModules()%2Ce.forEach((e%3D%3E%7Bconsole.log(e%2C%22has%20already%20loaded%2C%20re-importing...%22)%2Cthis.decachedImport(e.src)%2Ce.remove()%7D))%7DnukeDom()%7Bdocument.querySelector(%22%23root%22)%3F.remove()%3Blet%20e%3Ddocument.createElement(%22div%22)%3Be.id%3D%22root%22%2Cdocument.body.appendChild(e)%3Blet%20t%3D%5B%22__mobxGlobals%22%2C%22__mobxInstanceCount%22%5D%3Bfor(let%20e%20of%20t)e%20in%20window%26%26delete%20window%5Be%5D%7Dasync%20decachedImport(e)%7Blet%20t%3Dnew%20URL(e%2Clocation.origin).href%2Cr%3Dawait%20fetch(t)%2Cn%3Dawait%20r.text()%3Bn%3Dn.replaceAll(%22import(%22%2C%22window.decachedImport(%22)%2Cn%3Dn.replaceAll(%22import.meta.url%22%2C%60'%24%7Bt%7D'%60)%3Blet%20s%3Dnew%20Blob(%5Bn%5D%2C%7Btype%3A%22application%2Fjavascript%22%7D)%2Ci%3DURL.createObjectURL(s)%3Breturn%20import(i)%7DemptyModules()%7Bthis._parcelModuleCache%3D%7B%7D%2Cthis._parcelModules%3D%7B%7D%7DinterceptRequire(e%2Ct%2Cr%3D!1)%7Bif(!e%7C%7C!t)throw%20new%20Error(%22match%20and%20callback%20are%20required%22)%3Blet%20n%3D%7Bmatch%3Ae%2Ccallback%3At%2Conce%3Ar%7D%3Breturn%20this.reqIntercepts.push(n)%2C()%3D%3E%7Blet%20e%3Dthis.reqIntercepts.indexOf(n)%3B-1!%3D%3De%26%26this.reqIntercepts.splice(e%2C1)%7D%7Dsetup()%7Blet%20e%3B(e%3De%3D%3E%7Bif(e%20in%20this._parcelModuleCache)return%20this._parcelModuleCache%5Be%5D.exports%3Bif(e%20in%20this._parcelModules)%7Blet%20t%3Dthis._parcelModules%5Be%5D%3Bdelete%20this._parcelModules%5Be%5D%3Blet%20r%3D%7Bid%3Ae%2Cexports%3A%7B%7D%7D%3Bif(this._parcelModuleCache%5Be%5D%3Dr%2Ct.call(r.exports%2Cr%2Cr.exports)%2Cthis.readyToIntercept)for(let%20e%20of%20this.reqIntercepts)if(e.match(r.exports))%7Blet%20t%3De.callback%3F.(r.exports)%3Bt%26%26(r.exports%3Dt)%2Ce.once%26%26this.reqIntercepts.splice(this.reqIntercepts.indexOf(e)%2C1)%7Dreturn%20r.exports%7Dthrow%20new%20Error(%60Cannot%20find%20module%20'%24%7Be%7D'%60)%7D).register%3D(e%2Ct)%3D%3E%7Bthis._parcelModules%5Be%5D%3Dt%2Ce%20in%20this._parcelModuleCache%26%26delete%20this._parcelModuleCache%5Be%5D%7D%2CObject.defineProperty(i()%2C%22parcelRequire388b%22%2C%7Bvalue%3Ae%2Cwritable%3A!1%2Cenumerable%3A!0%2Cconfigurable%3A!1%7D)%7D%7Dconst%20fn%3Dnn(!1)%3Bi().storesLoaded%3Dfn%3Bconst%20dn%3Dnn(null)%3Bhn.addEventListener(%22colyseusMessage%22%2C(e%3D%3E%7B%22AUTH_ID%22%3D%3D%3De.detail.type%26%26(dn.set(e.detail.message)%2Cconsole.log(%22%5BGC%5D%20Got%20player%20id%3A%20%22%2Be.detail.message))%7D))%3Bconst%20pn%3Dnn(!1)%3Bhn.addEventListener(%22colyseusMessage%22%2C(e%3D%3E%7Bif(%22DEVICES_STATES_CHANGES%22%3D%3D%3De.detail.type)%7Blet%20t%3DsetInterval((()%3D%3E%7Blet%20r%3Di()%3F.stores%3F.phaser%3F.scene%3F.worldManager%3F.devices%3F.allDevices%3Br%26%26r.length%3E%3De.detail.message.changes.length%26%26(clearInterval(t)%2Cpn.set(!0))%7D)%2C100)%7D%7D))%3Blet%20gn%3Dnn(null)%3Bif(null!%3D%3Ddocument.querySelector('script%5Bsrc*%3D%22amplitude.com%22%5D'))alert(%22This%20script%20can%20only%20be%20run%20before%20you%20join%20the%20game.%20Please%20reload%20the%20page%20and%20try%20again.%22)%3Belse%7B!function(e)%7Be.interceptRequire((e%3D%3Ee%3F.default%3F.characters)%2C(e%3D%3E%7Bi().stores%3De.default%2Cfn.set(!0)%2Cconsole.log(%22GC%3A%20Stores%20loaded%20via%20parcel%22)%7D))%2Ce.interceptRequire((e%3D%3Ee%3F.CharacterPhysicsConsts)%2C(e%3D%3E%7Bgn.set(e.CharacterPhysicsConsts)%2Cconsole.log(%22GC%3A%20Physics%20constants%20loaded%22)%7D))%7D(new%20un)%2Cfunction()%7Bconst%20e%3Ddocument.querySelector('script%5Bsrc%5E%3D%22%2Findex%22%5D%5Btype%3D%22module%22%5D')%3Bif(e)return%20ln(e.src)%2Cvoid%20console.log(%22GC%3A%20Added%20modified%20script%22%2Ce)%3Blet%20t%3Dnew%20MutationObserver((e%3D%3E%7Bfor(let%20r%20of%20e)for(let%20e%20of%20r.addedNodes)e%20instanceof%20HTMLScriptElement%26%26e.src.includes(%22%2Findex%22)%26%26%22module%22%3D%3De.type%26%26(ln(e.src)%2Cconsole.log(%22GC%3A%20Added%20modified%20script%22%2Ce)%2Ct.disconnect())%7D))%3Bconst%20r%3D()%3D%3E%7Bt.observe(document.head%2C%7BchildList%3A!0%7D)%7D%3Bdocument.head%3Fr()%3Adocument.addEventListener(%22DOMContentLoaded%22%2Cr)%7D()%2Chn.setup()%7D%7D(index_mjs%2CProtocol_js%2Cmsgpack)%3B})()
